{"version":3,"sources":["assets/images/easy peasy.png","assets/images/tough nut.png","assets/images/yuck.png","assets/images/yum.png","pages/CreateRecipe/constants.js","ultis/i18n.js","assets/i18n/strings.js","ultis/functions.js","components/GlobalModal/index.js","pages/SignIn/redux/actions.js","ultis/api.js","pages/CreateRecipe/redux/actions.js","pages/CreateRecipe/redux/epics.js","pages/Dashboard/redux/actions.js","pages/Dashboard/redux/epics.js","pages/Home/redux/actions.js","pages/Home/redux/epics.js","pages/Profile/redux/actions.js","pages/Profile/redux/epics.js","pages/Recipe/redux/actions.js","pages/Recipe/redux/epics.js","pages/SearchRecipe/redux/actions.js","pages/SearchRecipe/redux/epics.js","pages/Profile/constant.js","ultis/socket.js","pages/SignIn/redux/epics.js","core/epic.js","pages/CreateRecipe/redux/reducer.js","pages/Dashboard/constant.js","pages/Dashboard/redux/reducer.js","pages/Home/redux/reducer.js","pages/Profile/redux/reducer.js","pages/Recipe/redux/reducer.js","pages/SearchRecipe/redux/reducer.js","pages/SignIn/redux/reducer.js","core/reducer.js","core/store.js","assets/images/forgot_password.jpg","assets/logo.svg","components/CInput/index.jsx","pages/CreatePassword/index.jsx","components/ButtonBase/index.jsx","components/Header/components/NotificationList.jsx","components/Header/index.jsx","ultis/uploadImage.js","pages/CreateRecipe/components/imageUpload.js","pages/CreateRecipe/components/ingredient.js","pages/CreateRecipe/components/step.jsx","pages/CreateRecipe/index.jsx","pages/Dashboard/component/addCategory.jsx","pages/Dashboard/component/searchInput.js","pages/Dashboard/component/categoryList.jsx","pages/Dashboard/index.jsx","pages/ForgotPassword/index.jsx","assets/images/bar-chart.svg","assets/images/fire.svg","assets/images/hourglass.svg","components/RecipeItem/index.jsx","pages/Home/index.jsx","pages/MealPlanner/index.jsx","pages/Policy/index.jsx","pages/Profile/component/changePassTab.jsx","pages/Profile/component/addCollectionModal.jsx","pages/Profile/component/collectionList.jsx","pages/SearchRecipe/components/userItem.jsx","pages/Profile/component/followerList.jsx","pages/Profile/component/followingList.jsx","pages/Profile/component/recipeList.jsx","pages/Profile/component/avatarDialog.jsx","pages/Profile/component/userInfoTab.jsx","pages/Profile/index.jsx","pages/Recipe/components/addToCollection.jsx","pages/Recipe/components/addToMenu.jsx","pages/Recipe/components/challengeView.jsx","pages/Recipe/components/CommentSend.jsx","pages/Recipe/components/CommentView.jsx","pages/Recipe/components/comment.jsx","pages/Recipe/components/direction.jsx","pages/Recipe/components/directionList.jsx","pages/Recipe/components/ingredient.jsx","pages/Recipe/components/ingredientList.jsx","pages/Recipe/components/madeItModal.jsx","pages/Recipe/components/reactionModal.jsx","pages/Recipe/index.jsx","pages/SearchRecipe/index.jsx","assets/images/signin.png","pages/SignIn/index.jsx","assets/images/signup.png","pages/SignUp/index.jsx","App.js","reportWebVitals.js","index.js"],"names":["MAX_COOKING_TIME","resources","en","translation","common","information","error_message","ok","cancel","signinErr","signupSuccess","forgotPassSuccess","updatePassSuccess","confirm","create","update","add","vi","action","find","reset","save","auth","login","signup","logout","profile","settings","dashboard","signin","title","email","password","donotHaveAccount","forgotPassword","emailMax","emailInvalid","emailRequired","passRequired","passMin","passMax","fullnameRequired","fullnameMin","fullnameMax","fullnameInvalid","fullname","hadAccount","forgotPass","backToSignin","proceed","createPass","confirmSameAsNew","confirmPass","resetPass","newPass","oldPass","newSameAsOld","changePassSuccess","wrongOldPass","home","title1","title2","tryItOut","browse","recipes","mealPlanner","createRecipe","searchHere","result","filter","sort","recommend","whatToEat","trendingToday","inMyRecipe","dishType","event","cuisine","searchPlaceholder","titlePlaceholder","level","summary","summaryPlaceholder","categories","edit","ingredients","otherIngredients","otherIngredientsPlaceholder","ingredientsPlaceholder","categoriesPlaceholder","remove","direction","step","directionPlaceholder","addNewStep","uploadThumbnail","dragOrDrop","or","maxSize","contributeToCreate","saveDraft","time","min","step1","step2","step3","next","prev","maxImg","uploading","maxReach","easy","medium","hard","measurePlaceholder","ration","recipe","sendComment","comment","challenge","updatedBy","energy","readDirection","iMadeIt","noComments","noChallenges","signinToComment","showLessComment","showMoreComment","notSignIn","reply","oneReply","replies","confirmDeleteComment","delete","commentPlaceholder","addToCollection","addToMenu","addToShoppingList","noCollection","collectionNamePlaceholder","collectionNameError","addNewCollection","chooseDate","chooseSession","morning","lunch","dinner","yum","easyPeasy","yuck","toughNut","all","startTimer","stopTimer","done","validation","contentRequired","cookingTime","massRequired","titleRequired","titleMaxLength","rationRequired","rationMin","cookingTimeRequired","cookingTimeMin","cookingTimeMax","levelChoose","ingredientRequired","stepRequired","thumbnailRequired","categoryRule","categoryRequired","addNewCategory","updateCategory","parentCategory","notSelectParentId","confirmToDeleteCategory","enterTitleToFind","parentCategoryVi","parentCategoryEn","search","user","sortBy","relevance","newest","popular","inputIngre","inputWithoutIngre","hour","cookingTimeLessThan","with","without","noResult","follow","following","followers","followings","collection","changeCollectionName","changeCollectionNamePlaceholder","changeName","noRecipeInCollection","noCollections","confirmToDeleteCollection","customize","userInfo","shoppingList","changePassword","changePassFrequently","updateProfileSucceed","updateAvatar","noFollowing","noFollower","deleteRecipeInCollection","confirmToDeleteRecipeInCollection","deleteRecipe","confirmToDeleteRecipe","editRecipe","deleteRecipeInMealPlanner","dish","dishes","today","recommendPlanner","notification","liked","commented","followed","replied","noNotification","i18n","use","LanguageDetector","initReactI18next","init","debug","fallbackLng","interpolation","escapeValue","ReactGA","initialize","history","createHashHistory","forceRefresh","listen","window","set","page","pathname","pageview","LIMIT_ITEMS","COLOR","NAME_REGEX","MODAL_TYPE","ROLES","Object","freeze","USER","MOD","ADMIN","RECIPE_STATUS","PENDING","APPROVED","NOTI_TYPE","LIKE","COMMENT","FOLLOW","REPLY","REACTION","MENU_SESSION","WEEK_COUNT","REACTION_IMG","tough","calcCalories","accumulator","currentValue","calories","calcCaloriesMenu","reduce","capitalizeFirstLetter","string","charAt","toLocaleUpperCase","slice","getNotiContent","noti","type","content","Text","Typography","GlobalModal","props","closeModal","instance","setState","isShow","handleOk","state","onPress","handleCancel","visible","centered","onOk","onCancel","footer","onClick","size","t","React","Component","alertMessage","iTitle","iContent","iType","SignInRequest","defineAction","SignInRequestSuccess","SignInRequestFailed","SignUpRequest","SignUpRequestSuccess","SignUpRequestFailed","RefreshToken","RefreshTokenSuccess","RefreshTokenFailed","ResetPassword","ResetPasswordSuccess","ResetPasswordFailed","CreatePassword","CreatePasswordSuccess","CreatePasswordFailed","ChangePassword","ChangePasswordSuccess","ChangePasswordFailed","GetProfile","GetProfileSuccess","GetProfileFailed","UpdateProfile","UpdateProfileSuccess","UpdateProfileFailed","GetNotification","GetNotificationSuccess","GetNotificationFailed","UpdateNotification","UpdateNotificationSuccess","UpdateNotificationFailed","GetMenu","GetMenuSuccess","GetMenuFailed","DeleteRecipeInMenu","DeleteRecipeInMenuSuccess","UpdateCurrentOpenNoti","UpdateSocket","SignOut","SignOutSuccess","SignOutFailed","ResetReducer","ChangeLanguage","request","param","url","language","store","getState","Auth","parameters","token","tokenExp","refreshToken","refreshTokenExp","canUseToken","moment","unix","dispatch","get","headers","accept","Authorization","from","axios","timeout","method","data","params","catch","error","Promise","resolve","response","pipe","map","tap","JSON","stringify","log","SearchIngredient","SearchIngredientSuccess","SearchIngredientFailed","CreateRecipe","CreateRecipeSuccess","CreateRecipeFailed","createEpics","combineEpics","action$","ofType","exhaustMap","payload","status","onSuccess","catchError","replace","id","SetCurrentPage","GetAllCategories","GetAllCategoriesSuccess","GetAllCategoriesFailed","AddCategory","AddCategorySuccess","AddCategoryFailed","UpdateCategory","UpdateCategorySuccess","UpdateCategoryFailed","DeleteCategory","DeleteCategorySuccess","DeleteCategoryFailed","GetUsers","GetUsersSuccess","GetUsersFailed","GetUserProfile","GetUserProfileSuccess","GetUserProfileFailed","GetAllCourses","GetAllCoursesSuccess","GetAllCoursesFailed","DeleteCourse","DeleteCourseSuccess","DeleteCourseFailed","dashboardEpics","categoriesResult","message","currentUser","Dashboard","userDetail","GetHomeRecipe","GetHomeRecipeSuccess","GetHomeRecipeFailed","homeEpics","GetCollections","GetCollectionsSuccess","GetCollectionsFailed","CreateCollection","CreateCollectionSuccess","CreateCollectionFailed","GetCollectionDetail","GetCollectionDetailSuccess","GetCollectionDetailFailed","AddRecipeToCollection","AddRecipeToCollectionSuccess","AddRecipeToCollectionFailed","DeleteRecipeInCollection","DeleteRecipeInCollectionSuccess","DeleteRecipeInCollectionFailed","DeleteCollection","DeleteCollectionSuccess","DeleteCollectionFailed","UpdateCollection","UpdateCollectionSuccess","UpdateCollectionFailed","GetFollower","GetFollowerSuccess","GetFollowerFailed","GetFollowing","GetFollowingSuccess","GetFollowingFailed","GetRecipeOfUser","GetRecipeOfUserSuccess","GetRecipeOfUserFailed","FollowUser","FollowUserSuccess","FollowUserFailed","UnFollowUser","UnFollowUserSuccess","UnFollowUserFailed","DeleteRecipe","DeleteRecipeSuccess","DeleteRecipeFailed","profileEpics","collections","collectionId","recipeId","name","userId","GetDetailRecipe","GetDetailRecipeSuccess","GetDetailRecipeFailed","CommentPost","CommentPostSuccess","CommentPostFailed","CommentChallengePost","CommentChallengeSuccess","CommentChallengeFailed","DeleteComment","DeleteCommentSuccess","DeleteCommentFailed","AddToShoppingList","AddToShoppingListSuccess","AddToShoppingListFailed","AddToMenu","AddToMenuListSuccess","AddToMenuListFailed","ReactRecipe","ReactRecipeSuccess","ReactRecipeFailed","UpvoteComment","UpvoteCommentSuccess","UpvoteCommentFailed","UpdateIsCountdown","recipeEpics","err","recipe_id","comment_id","commentId","SearchRecipes","SearchRecipesSuccess","SearchRecipesFailed","SearchUsers","SearchUsersSuccess","SearchUsersFailed","searchEpics","total","rows","length","item","_source","currentPage","offset","userlist","PROFILE_PAGE","socketService","connect","reject","socket","io","query","transports","on","authEpics","then","NOTI_TEXT","open","sender","push","read","console","role","startDate","start","format","endDate","end","rootEpic","initialState","PAGE","isLoading","isLoadingDashboard","detailPage","categoryList","userList","courseList","highlight","collectionDetail","isLoadingCollections","isLoadingCollectionDetail","isLoadingRecipe","userProfile","isLoadingProfile","recipeDetail","isCountDown","resultUser","totalItems","prevLogin","isLoadingMenu","menu","notifications","recentOpenNoti","valueOf","pastUserOpenNoti","rootReducer","combineReducers","hasOwnProperty","Date","getTime","follower","now","connected","disconnect","Create","Recipe","Profile","results","Search","Number","Home","router","connectRouter","epicMiddleware","createEpicMiddleware","applyMiddlewarePro","applyMiddleware","routerMiddleware","persistConfig","logger","key","storage","persistedReducer","persistReducer","createStore","compose","run","persistor","persistStore","CInput","style","width","marginBottom","display","flexDirection","className","CreatePasswordPage","URLSearchParams","useLocation","useHistory","useDispatch","useSelector","isDesktopOrLaptop","useMediaQuery","minDeviceWidth","useTranslation","useEffect","validationSchema","yup","shape","required","max","matches","oneOf","handleCreate","values","resetToken","handleKeyPress","isValid","href","textDecoration","color","src","logo","alt","initialValues","isInitialValid","onSubmit","handleChange","handleBlur","handleSubmit","errors","setFieldTouched","touched","value","onChange","onTouchStart","onBlur","placeholder","onKeyPress","marginTop","disabled","backgroundImage","forgotPic","ButtonBase","children","borderRadius","padding","NotificationList","maxHeight","backgroundColor","overflowY","marginLeft","alignItems","onClickNoti","avatar_url","icon","UserOutlined","paddingLeft","flex","justifyContent","opacity","ellipsis","expandable","suffix","fontWeight","fontSize","createdAt","fromNow","height","styles","inputStyle","flexGrow","marginRight","boxShadow","borderColor","AppHeader","useState","setVisible","searchText","setSearchText","showSearchBar","setShowSearchBar","location","currentLng","localStorage","i18nextLng","substring","toUpperCase","unreadNotiCount","isAfter","toLowerCase","locale","Item","changeLanguage","onClose","userPopover","adminPopover","target","trim","placement","trigger","count","overflowCount","overlay","closable","arrow","cloudinary","require","config","cloud_name","api_key","api_secret","upload","image","a","uploader","link","deleteImg","publicId","destroy","loadingIcon","LoadingOutlined","spin","ImageUpload","inputRef","useRef","isUploading","setIsUploading","canUpload","uploadList","list","newList","lengthLeft","addLength","i","addPictureStep","picture","reader","FileReader","readAsDataURL","onloadend","removeImg","index","tmp","public_id","splice","onDelete","ref","multiple","e","files","borderWidth","current","click","textAlign","indicator","imageSrc","maxWidth","defaultProps","backgroundSize","backgroundPosition","Option","Title","Input","TextArea","Select","Ingredient","isAdd","onRemove","onAdd","onChangeCustomUnit","unit","selectUnit","unitSelected","setUnitSelected","selectAmount","amount","setAmount","changeAmount","useCallback","_","debounce","q","text","changeUnit","unitIndex","paddingRight","position","img","number_of_units","includes","defaultValue","measurement_description","unitItem","Step","onChangeImage","onChangeMaking","onChangeTime","onDeleteItem","isUpload","stateStep","setStateStep","borderTopRightRadius","margin","images","AntdStep","Steps","stepTitle","currentStep","setCurrentStep","otherIngre","setOtherIngre","listCategories","forEach","concat","childrenCategories","LEVEL","code","stepsSchema","nullable","ingresSchema","validationRecipeSchema","cooking_time","of","steps","avatar","searchIngres","setFieldValue","toLocaleLowerCase","ingres","Math","random","toFixed","submitRecipe","avalink","itemImg","ingredients_name","description","hashtags","spaceBetween","paddingTop","paddingBottom","leftColumn","border","mode","allowClear","alignSelf","render","arrayHelpers","flexWrap","AddCategoryModal","realList","category","parentId","destroyOnClose","parent_category_id","handleAdd","align","span","justify","getColumnSearchProps","dataIndex","searchedColumn","setSearchColumn","refInput","filterDropdown","setSelectedKeys","selectedKeys","clearFilters","onPressEnter","handleSearch","SearchOutlined","handleReset","filterIcon","filtered","undefined","onFilter","record","toString","onFilterDropdownVisibleChange","setTimeout","select","highlightStyle","searchWords","autoEscape","textToHighlight","CategoryList","parentVi","parentEn","subCat","setEdit","categoryColumns","sorter","b","localeCompare","EditOutlined","handleEdit","DeleteOutlined","Modal","okText","cancelText","okButtonProps","destroyAll","handleDelete","PlusCircleOutlined","columns","dataSource","collaspe","setCollaspe","defaultSelectedKeys","inlineCollapsed","renderRightDashboard","ForgotPassword","label","handleForgot","RecipeItem","showMoreBtn","popoverList","isShowPopover","setIsShowPopover","popoverContent","onVisibleChange","right","top","author","hourglass","chart","fire","TabPane","Tabs","currentTab","setCurrentTab","activeKey","tab","gutter","xs","md","lg","sm","xl","xxl","Panel","Collapse","MealPlanner","utcOffset","minute","second","weekday","setStartDate","setEndDate","getMenu","LabelSession","ListRecipeSession","session","OneDayMenu","date","breakfast","borderTopLeftRadius","defaultActiveKey","ghost","header","clone","subtract","overflowX","wd","isSame","timestamp","Policy","rel","ChangePasswordTab","newPassword","notOneOf","ModalAddNewCollection","collectionName","setCollectionName","validateName","test","createNewCollection","CollectionListProfile","chosenIndex","setChosenIndex","setIsShow","isShowEdit","setIsShowEdit","whiteSpace","UserItem","mainUser","isFollow","findIndex","following_id","justifySelf","FollowerListProfile","followerList","FollowingListProfile","followingList","RecipeListProfile","recipePopover","AvatarDialog","aspect","crop","setCrop","imageRef","setImageRef","cropped","setCropped","setIsLoading","handleUploadImg","res","secure_url","makeClientCrop","getCroppedImg","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","x","y","toBlob","blob","loading","ruleOfThirds","onImageLoaded","onComplete","UserInfoTab","setSrc","readSrc","ProfilePage","otherUser","ModalAddCollection","isAddNewCollection","setIsAddNewCollection","selected","setSelected","ModalAddMenu","setSession","setDate","disabledDate","endOf","Challenge","PreviewGroup","objectFit","owner","postId","cmt","setCmt","parent_comment_id","parentComment","CommentView","canReply","isShowReply","setIsShowReply","actions","isUpvoted","upvoteCount","childrenComments","CommentSend","RecipeComments","comments","isShowAll","setIsShowAll","to","Direction","DirectionList","directions","onClickItem","RecipeIngredient","onAddToChecklist","minHeight","nameTxt","amountTxt","calTxt","IngredientList","ModalMadeIt","validationChallengeSchema","addToMadeIt","ModalReaction","reactionList","reactionType","REACT_NAME","react","bottom","renderReaction","easyData","hardData","yuckData","yummyData","REACT_ARRAY","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","RecipeDetail","useParams","post","isCountdown","isShowSaveMenu","setIsShowSaveMenu","isShowMadeIt","setIsShowMadeIt","isShowSaveCollection","setIsShowSaveCollection","isShowReaction","setIsShowReaction","readMode","timerTime","setTimerTime","timer","setTimer","user_id","reaction","reactions","reactType","entries","timeLeft","clearInterval","onClickSave","onClickFollow","timeCount","setInterval","countDown","reactContent","options","isStopped","isPaused","saveContent","property","updatedAt","info","grayInfo","orangeInfo","infiniteLoop","autoPlay","interval","swipeable","iconButton","FacebookShareButton","offsetTop","challenges","readModeStyle","zIndex","chosenStep","strokeColor","percent","utc","minWidth","left","COOKING_FILTER","SearchPage","categoriesFilter","setCategoriesFilter","categoriesFilterItem","setCategoriesFilterItem","ingredientsFilter","setIngredientsFilter","ingredientsText","setIngredientsText","noIngredientsFilter","setNoIngredientsFilter","noIngredientsText","setNoIngredientsText","timeFilter","setTimeFilter","isShowFilter","setIsShowFilter","sortOrder","setSortOrder","searchTextInput","setSearchTextInput","SORT_BY","limit","keyword","ingredient","noIngredient","pageSize","CategoryFilter","itemList","isCheck","temp","temp2","categoryBtn","handleKeyPressIngre","handleKeyPressNoIngre","onRemoveIngreFilter","onRemoveNoIngreFilter","FilterItem","filterBtn","inputSearchStyle","onRemoveCategory","ingreCol","filterItem","cookingBtn","defaultCurrent","defaultPageSize","SignIn","handleLogin","signinPic","SignUp","handleSignup","signupPic","App","enUS","viVN","exact","path","component","SearchRecipe","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Provider","verticalAlign","getElementById"],"mappings":"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","file":"static/js/main.1fdc9be1.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/easy peasy.feaf6308.png\";","export default __webpack_public_path__ + \"static/media/tough nut.d16b251c.png\";","export default __webpack_public_path__ + \"static/media/yuck.9b559c13.png\";","export default __webpack_public_path__ + \"static/media/yum.7c085026.png\";","export const MAX_COOKING_TIME = 1000\r\n","import i18n from 'i18next'\r\nimport { initReactI18next } from 'react-i18next'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\nimport { en, vi } from 'assets/i18n/strings'\r\n\r\n// the translations\r\nconst resources = {\r\n  en: {\r\n    translation: en\r\n  },\r\n  vi: {\r\n    translation: vi\r\n  }\r\n}\r\n\r\ni18n\r\n  .use(LanguageDetector)\r\n  .use(initReactI18next) // passes i18n down to react-i18next\r\n  .init({\r\n    resources,\r\n    debug: true,\r\n    fallbackLng: 'vi',\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  })\r\n\r\nexport default i18n\r\n","import { MAX_COOKING_TIME } from 'pages/CreateRecipe/constants'\r\n\r\nexport const en = {\r\n  common: {\r\n    information: 'Information',\r\n    error_message: 'An unexpected error has occured. Try again later.',\r\n    ok: 'OK',\r\n    cancel: 'Cancel',\r\n    signinErr: 'Email or password may not correct. Please try again.',\r\n    signupSuccess: 'Sign up succeed. Please sign in to continue.',\r\n    forgotPassSuccess: 'Please check your email to reset password.',\r\n    updatePassSuccess: 'Success updating password. Please login.',\r\n    confirm: 'Confirm',\r\n    create: 'Create',\r\n    update: 'Update',\r\n    add: 'Add',\r\n    en: 'English',\r\n    vi: 'Vietnamese',\r\n    action: 'Action',\r\n    find: 'Find',\r\n    reset: 'Reset',\r\n    save: 'Save'\r\n  },\r\n  auth: {\r\n    login: 'Sign In',\r\n    signup: 'Sign Up',\r\n    logout: 'Log out',\r\n    profile: 'Profile',\r\n    settings: 'Settings',\r\n    dashboard: 'Dashboard'\r\n  },\r\n  signin: {\r\n    title: 'Sign in to your account to continue',\r\n    email: 'Email',\r\n    password: 'Password',\r\n    donotHaveAccount: 'Don’t have an account? ',\r\n    forgotPassword: 'Forgot password?',\r\n    emailMax: 'Email must have at most 48 characters',\r\n    emailInvalid: 'Invalid email',\r\n    emailRequired: '* Please input email',\r\n    passRequired: '* Please input password',\r\n    passMin: 'Password must include at least 8 characters',\r\n    passMax: 'Password must include at most 48 characters',\r\n    fullnameRequired: '* Please input full name',\r\n    fullnameMin: 'Full name must include at least 3 characters',\r\n    fullnameMax: 'Full name must include at most 48 characters',\r\n    fullnameInvalid: 'Invalid full name'\r\n  },\r\n  signup: {\r\n    title: 'Please create a new account here',\r\n    fullname: 'Full name',\r\n    hadAccount: 'Already have an account? '\r\n  },\r\n  forgotPass: {\r\n    title: 'Please input email to reset password',\r\n    backToSignin: 'Back to Sign In',\r\n    proceed: 'Proceed'\r\n  },\r\n  createPass: {\r\n    title: 'Input new password to continue',\r\n    confirmSameAsNew: 'Confirm password must be the same as password',\r\n    confirmPass: 'Confirm password',\r\n    resetPass: 'Reset password',\r\n    newPass: 'New password',\r\n    oldPass: 'Old password',\r\n    newSameAsOld: 'New password must be different from the old one',\r\n    changePassSuccess: 'Change password succeed. Please sign in to continue.',\r\n    wrongOldPass: 'Old password is incorrect'\r\n  },\r\n  home: {\r\n    title1: 'Eat good',\r\n    title2: 'Feel good',\r\n    tryItOut: 'Try it Out',\r\n    browse: 'BROWSE',\r\n    recipes: 'Recipes',\r\n    mealPlanner: 'MEAL PLANNERS',\r\n    createRecipe: 'CREATE MY RECIPE',\r\n    searchHere: 'Search here',\r\n    result: 'Result',\r\n    filter: 'Filter',\r\n    sort: 'Sort',\r\n    recommend: 'RECOMMEND FOR YOU',\r\n    whatToEat: 'WHAT TO EAT TODAY?',\r\n    trendingToday: 'Trending Today',\r\n    reset: 'RESET',\r\n    inMyRecipe: ' IN MY FRIDGE',\r\n    dishType: 'DISH TYPE',\r\n    event: 'EVENTS',\r\n    cuisine: 'CUISINE',\r\n    searchPlaceholder: 'Search recipes'\r\n  },\r\n  create: {\r\n    title: 'Title',\r\n    titlePlaceholder: 'Type recipe title',\r\n    level: 'Level',\r\n    summary: 'Summary',\r\n    summaryPlaceholder: 'Type recipe summary',\r\n    categories: 'Categories',\r\n    edit: 'Edit',\r\n    ingredients: 'Ingredients',\r\n    otherIngredients: 'Other Ingredients',\r\n    otherIngredientsPlaceholder: 'Type other ingredients',\r\n    ingredientsPlaceholder: 'Search ingredients',\r\n    categoriesPlaceholder: 'Search categories',\r\n    remove: 'Remove',\r\n    add: 'Add',\r\n    direction: 'Directions',\r\n    step: 'STEP ',\r\n    directionPlaceholder: 'Type your direction',\r\n    addNewStep: 'Add new step',\r\n    uploadThumbnail: 'Upload thumbnail images',\r\n    dragOrDrop: 'Drag and drop a video',\r\n    or: 'or',\r\n    maxSize: 'Max size is 50mb',\r\n    contributeToCreate: 'CONTRIBUTE TO CREATE THE RECIPE',\r\n    saveDraft: 'SAVE DRAFT',\r\n    create: 'CREATE',\r\n    time: 'Time',\r\n    min: 'min',\r\n    step1: 'Summary',\r\n    step2: 'Ingredients',\r\n    step3: 'Direction',\r\n    next: 'Next',\r\n    prev: 'Previous',\r\n    maxImg: '(Maximum 3 images)',\r\n    uploading: 'Uploading',\r\n    maxReach: 'Maximum images reached',\r\n    easy: 'Easy',\r\n    medium: 'Medium',\r\n    hard: 'Hard',\r\n    measurePlaceholder: 'g',\r\n    ration: 'Ration'\r\n  },\r\n  recipe: {\r\n    sendComment: 'Send',\r\n    comment: 'Comments',\r\n    challenge: 'Challenge',\r\n    updatedBy: 'Updated by',\r\n    energy: 'Energy',\r\n    readDirection: 'Read directions',\r\n    iMadeIt: 'I made it',\r\n    noComments: 'There is no comments',\r\n    noChallenges: 'There is no challenges',\r\n    signinToComment: 'Sign in to leave comment',\r\n    showLessComment: 'Show less comments',\r\n    showMoreComment: 'Show all comments',\r\n    notSignIn: 'You are not signed in. Please sign in to leave comment',\r\n    reply: 'Reply',\r\n    oneReply: 'reply',\r\n    replies: 'replies',\r\n    confirmDeleteComment: 'Do you confirm to delete this comment?',\r\n    delete: 'Delete',\r\n    commentPlaceholder: 'Leave comment',\r\n    addToCollection: 'Add to collection',\r\n    addToMenu: 'Add to meal planner',\r\n    addToShoppingList: 'Add to shopping list',\r\n    noCollection: 'There is no collection',\r\n    collectionNamePlaceholder: 'Please input collection name',\r\n    collectionNameError: 'Invalid collection name',\r\n    addNewCollection: 'Add new collection',\r\n    chooseDate: 'Choose date',\r\n    chooseSession: 'Choose session',\r\n    morning: 'Breakfast',\r\n    lunch: 'Lunch',\r\n    dinner: 'Dinner',\r\n    yum: 'Yum',\r\n    easyPeasy: 'Easy peasy',\r\n    yuck: 'Yuck',\r\n    toughNut: 'Tough nut',\r\n    all: 'All',\r\n    startTimer: 'Start timer',\r\n    stopTimer: 'Stop timer',\r\n    done: 'Done'\r\n  },\r\n  validation: {\r\n    contentRequired: '* Enter direction',\r\n    cookingTime: '> 0 min',\r\n    massRequired: 'Mass > 0',\r\n    titleRequired: '* Enter title',\r\n    titleMaxLength: 'Title is no longer than 255 letters',\r\n    rationRequired: '* Enter ration',\r\n    rationMin: 'At least 1 person',\r\n    cookingTimeRequired: '* Enter cooking time',\r\n    cookingTimeMin: '> 0 min',\r\n    cookingTimeMax: `< ${MAX_COOKING_TIME} min`,\r\n    levelChoose: 'Select level',\r\n    ingredientRequired: 'Add at least 1 ingredient',\r\n    stepRequired: 'Add at least 1 step',\r\n    thumbnailRequired: 'Select recipe thumbnail',\r\n    categoryRule: 'Category name cannot contain special characters',\r\n    categoryRequired: '* Enter category name'\r\n  },\r\n  dashboard: {\r\n    addNewCategory: 'Add new category',\r\n    updateCategory: 'Update category',\r\n    parentCategory: 'Parent category',\r\n    notSelectParentId: 'Do not select to create parent category',\r\n    confirmToDeleteCategory: 'Do you confirm to delete this category?',\r\n    enterTitleToFind: 'Enter title to find',\r\n    parentCategoryVi: 'Vietnamese parent category',\r\n    parentCategoryEn: 'English parent category'\r\n  },\r\n  search: {\r\n    user: 'Users',\r\n    filter: 'Filter',\r\n    sortBy: 'Sort by',\r\n    relevance: 'Relevance',\r\n    newest: 'Newest',\r\n    popular: 'Popular',\r\n    inputIngre: 'With Ingredients',\r\n    inputWithoutIngre: 'Without Ingredients',\r\n    hour: 'hour',\r\n    cookingTimeLessThan: 'Cooking time is less than',\r\n    with: 'With',\r\n    without: 'Without',\r\n    noResult: 'There is no result'\r\n  },\r\n  profile: {\r\n    follow: 'Follow',\r\n    following: 'Following',\r\n    followers: 'Followers',\r\n    followings: 'Followings',\r\n    collection: 'Collections',\r\n    changeCollectionName: 'Change collection name',\r\n    changeCollectionNamePlaceholder: 'Enter new name of collection',\r\n    changeName: 'Change',\r\n    noRecipeInCollection: 'There is no recipe in this collection',\r\n    noCollections: 'There is no collection',\r\n    confirmToDeleteCollection: 'Are you sure to delete this collection?',\r\n    customize: 'Search optimization',\r\n    userInfo: 'Personal information',\r\n    shoppingList: 'Shopping list',\r\n    changePassword: 'Modify password',\r\n    changePassFrequently: 'Change password frequently to secure your account',\r\n    updateProfileSucceed: 'Update profile succeed.',\r\n    updateAvatar: 'Update avatar',\r\n    noFollowing: 'Not followings',\r\n    noFollower: 'No followers',\r\n    deleteRecipeInCollection: 'Remove recipe',\r\n    confirmToDeleteRecipeInCollection:\r\n      'Do you confirm to remove this recipe out of collection?',\r\n    deleteRecipe: 'Delete recipe',\r\n    confirmToDeleteRecipe: 'Do you confirm to remove this recipe?',\r\n    editRecipe: 'Edit recipe',\r\n    deleteRecipeInMealPlanner: 'Remove recipe',\r\n    dish: 'dish',\r\n    dishes: 'dishes',\r\n    today: 'Today',\r\n    recommendPlanner: 'Recommend meal'\r\n  },\r\n  notification: {\r\n    liked: 'reacted to your',\r\n    commented: 'commented',\r\n    followed: 'is now following you',\r\n    replied: 'replied',\r\n    notification: 'Notification',\r\n    noNotification: 'There is no notifications'\r\n  }\r\n}\r\n\r\nexport const vi = {\r\n  common: {\r\n    information: 'Thông báo',\r\n    error_message: 'Đã có lỗi xảy ra. Vui lòng thử lại sau.',\r\n    ok: 'OK',\r\n    cancel: 'Hủy',\r\n    signinErr: 'Email hoặc mật khẩu không đúng. Vui lòng thử lại',\r\n    signupSuccess: 'Đăng ký thành công. Vui lòng đăng nhập để tiếp tục',\r\n    forgotPassSuccess: 'Vui lòng kiểm tra email của bạn để đặt lại mật khẩu.',\r\n    updatePassSuccess: 'Cập nhật mật khẩu thành công. Vui lòng đăng nhập lại',\r\n    confirm: 'Xác nhận',\r\n    create: 'Tạo',\r\n    add: 'Thêm',\r\n    update: 'Cập nhật',\r\n    en: 'Tiếng Anh',\r\n    vi: 'Tiếng Việt',\r\n    action: 'Tác vụ',\r\n    find: 'Tìm',\r\n    reset: 'Đặt lại',\r\n    save: 'Lưu'\r\n  },\r\n  auth: {\r\n    login: 'Đăng nhập',\r\n    signup: 'Đăng ký',\r\n    logout: 'Đăng xuất',\r\n    profile: 'Hồ sơ',\r\n    settings: 'Cài đặt',\r\n    dashboard: 'Quản lý'\r\n  },\r\n  signin: {\r\n    title: 'Đăng nhập để tiếp tục',\r\n    email: 'Email',\r\n    password: 'Mật khẩu',\r\n    donotHaveAccount: 'Chưa có tài khoản? ',\r\n    forgotPassword: 'Quên mật khẩu?',\r\n    emailMax: 'Email bao gồm nhiều nhất 48 ký tự',\r\n    emailInvalid: 'Email không hợp lệ',\r\n    emailRequired: '* Vui lòng nhập email',\r\n    passRequired: '* Vui lòng nhập mật khẩu',\r\n    passMin: 'Mật khẩu phải bao gồm ít nhất 8 ký tự',\r\n    passMax: 'Mật khẩu phải bao gồm nhiều nhất 48 ký tự',\r\n    fullnameRequired: '* Vui lòng nhập họ tên',\r\n    fullnameMin: 'Họ tên phải bao gồm ít nhất 3 ký tự',\r\n    fullnameMax: 'Họ tên phải bao gồm nhiều nhất 48 ký tự',\r\n    fullnameInvalid: 'Họ tên không hợp lệ'\r\n  },\r\n  signup: {\r\n    title: 'Tạo tài khoản mới',\r\n    fullname: 'Họ tên',\r\n    hadAccount: 'Đã có tài khoản? '\r\n  },\r\n  forgotPass: {\r\n    title: 'Nhập email để tạo lại mật khẩu',\r\n    backToSignin: 'Trở về đăng nhập',\r\n    proceed: 'Gửi'\r\n  },\r\n  createPass: {\r\n    title: 'Nhập mật khẩu mới để tiếp tục',\r\n    confirmSameAsNew: 'Mật khẩu nhập lại phải giống với mật khẩu mới',\r\n    confirmPass: 'Nhập lại mật khẩu',\r\n    resetPass: 'Tạo mật khẩu',\r\n    newPass: 'Mật khẩu mới',\r\n    oldPass: 'Mật khẩu cũ',\r\n    newSameAsOld: 'Mật khẩu mới phải khác mật khẩu cũ',\r\n    changePassSuccess: 'Đổi mật khẩu thành công. Đăng nhập lại để tiếp tục',\r\n    wrongOldPass: 'Sai mật khẩu cũ'\r\n  },\r\n  home: {\r\n    title1: 'Eat good',\r\n    title2: 'Feel good',\r\n    tryItOut: 'Thử ngay',\r\n    browse: 'KHÁM PHÁ',\r\n    recipes: 'Công thức',\r\n    mealPlanner: 'TẠO THỰC ĐƠN',\r\n    createRecipe: 'ĐĂNG CÔNG THỨC',\r\n    searchHere: 'Tìm kiếm',\r\n    result: 'Kết quả',\r\n    filter: 'Lọc',\r\n    sort: 'Sắp xếp',\r\n    recommend: 'ĐỀ XUẤT CHO BẠN',\r\n    whatToEat: 'HÔM NAY ĂN GÌ?',\r\n    trendingToday: 'Phổ biến hôm nay',\r\n    reset: 'ĐẶT LẠI',\r\n    inMyRecipe: ' TRONG TỦ CỦA TÔI',\r\n    dishType: 'DISH TYPE',\r\n    event: 'DỊP LỂ',\r\n    cuisine: 'ẨM THỰC',\r\n    searchPlaceholder: 'Tìm kiếm công thức'\r\n  },\r\n  create: {\r\n    title: 'Tiêu đề',\r\n    titlePlaceholder: 'Nhập tiêu đề của công thức',\r\n    level: 'Cấp độ',\r\n    summary: 'Mô tả',\r\n    summaryPlaceholder: 'Nhập mô tả cho công thức',\r\n    categories: 'Phân loại',\r\n    edit: 'Sửa',\r\n    ingredients: 'Nguyên liệu',\r\n    otherIngredients: 'Nguyên liệu khác',\r\n    otherIngredientsPlaceholder: 'Nhập tên nguyên liệu khác',\r\n    ingredientsPlaceholder: 'Tìm kiếm nguyên liệu',\r\n    categoriesPlaceholder: 'Tìm kiếm phân loại',\r\n    remove: 'Xóa',\r\n    add: 'Thêm',\r\n    direction: 'Hướng dẫn',\r\n    step: 'BƯỚC ',\r\n    directionPlaceholder: 'Nhập hướng dẩn cho bước này',\r\n    addNewStep: 'Thêm bước thực hiện',\r\n    uploadThumbnail: 'Tải lên hình ảnh',\r\n    dragOrDrop: 'Kéo thả video',\r\n    or: 'hoặc',\r\n    maxSize: 'Dung lượng tối đa 50mb',\r\n    contributeToCreate: 'CHO PHÉP ĐÓNG GÓP TỪ NGƯỜI DÙNG',\r\n    saveDraft: 'LƯU NHÁP',\r\n    create: 'ĐĂNG',\r\n    time: 'Thời gian',\r\n    min: 'phút',\r\n    step1: 'Thông tin',\r\n    step2: 'Nguyên liệu',\r\n    step3: 'Hướng dẫn',\r\n    next: 'Tiếp',\r\n    prev: 'Trước',\r\n    maxImg: '(Tối đa 3 ảnh)',\r\n    uploading: 'Đang tải lên',\r\n    maxReach: 'Đã đủ ảnh',\r\n    easy: 'Dễ',\r\n    medium: 'Trung bình',\r\n    hard: 'Khó',\r\n    measurePlaceholder: 'g',\r\n    ration: 'Khẩu phần'\r\n  },\r\n  recipe: {\r\n    sendComment: 'Gửi',\r\n    comment: 'Nhận xét',\r\n    challenge: 'Thử thách',\r\n    updatedBy: 'Đăng bởi',\r\n    energy: 'Năng lượng',\r\n    readDirection: 'Đọc hướng dẫn',\r\n    iMadeIt: 'Tôi đã làm',\r\n    noComments: 'Chưa có nhận xét',\r\n    noChallenges: 'Chưa có thử thách',\r\n    signinToComment: 'Đăng nhập để nhận xét',\r\n    showLessComment: 'Thu gọn nhận xét',\r\n    showMoreComment: 'Xem tất cả nhận xét',\r\n    notSignIn: 'Bạn chưa đăng nhập. Vui lòng đăng nhập để nhận xét',\r\n    reply: 'Trả lời',\r\n    oneReply: 'trả lời',\r\n    replies: 'trả lời',\r\n    confirmDeleteComment: 'Bạn chắc chắn muốn xóa nhận xét này?',\r\n    delete: 'Xóa',\r\n    commentPlaceholder: 'Nhập nhận xét',\r\n    addToCollection: 'Thêm vào bộ sưu tập',\r\n    addToMenu: 'Thêm vào thực đơn',\r\n    addToShoppingList: 'Thêm vào danh sách mua',\r\n    noCollection: 'Chưa có bộ sưu tập',\r\n    collectionNamePlaceholder: 'Nhập tên bộ sưu tập',\r\n    collectionNameError: 'Tên bộ sưu tập không hợp lệ',\r\n    addNewCollection: 'Tạo bộ sưu tập mới',\r\n    chooseDate: 'Chọn ngày',\r\n    chooseSession: 'Chọn bữa',\r\n    morning: 'Bữa sáng',\r\n    lunch: 'Bữa trưa',\r\n    dinner: 'Bữa tối',\r\n    yum: 'Ngon lắm',\r\n    easyPeasy: 'Dễ lắm luôn',\r\n    yuck: 'Hổng ngon gì hết',\r\n    toughNut: 'Khó quá à',\r\n    all: 'Tất cả',\r\n    startTimer: 'Đếm giờ',\r\n    stopTimer: 'Dừng đếm',\r\n    done: 'Xong'\r\n  },\r\n  validation: {\r\n    contentRequired: '* Nhập bước thực hiện',\r\n    cookingTime: '> 0 phút',\r\n    massRequired: 'Khối lượng > 0',\r\n    titleRequired: '* Nhập tiêu đề',\r\n    titleMaxLength: 'Tiêu đề không quá 255 kí tự',\r\n    rationRequired: '* Nhập khẩu phần',\r\n    rationMin: 'Ít nhất 1 người ăn',\r\n    cookingTimeRequired: '* Nhập thời gian thực hiện',\r\n    cookingTimeMin: '> 0 phút',\r\n    cookingTimeMax: `< ${MAX_COOKING_TIME} phút`,\r\n    levelChoose: 'Chọn độ khó',\r\n    ingredientRequired: 'Thêm ít nhất 1 nguyên liệu',\r\n    stepRequired: 'Thêm ít nhất 1 bước thực hiện',\r\n    thumbnailRequired: 'Chọn hình đại diện cho công thức',\r\n    categoryRule: 'Tên phân loại không chứa kí tự đặc biệt',\r\n    categoryRequired: '* Nhập tên phân loại'\r\n  },\r\n  dashboard: {\r\n    addNewCategory: 'Thêm phân loại',\r\n    updateCategory: 'Cập nhật phân loại',\r\n    parentCategory: 'Phân loại cha',\r\n    notSelectParentId: 'Không chọn để tạo phân loại cha',\r\n    confirmToDeleteCategory: 'Xác nhận xóa phân loại này?',\r\n    enterTitleToFind: 'Nhập tên để tìm',\r\n    parentCategoryVi: 'Phân loại cha tiếng việt',\r\n    parentCategoryEn: 'Phân loại cha tiếng anh'\r\n  },\r\n  search: {\r\n    user: 'Mọi người',\r\n    filter: 'Bộ lọc',\r\n    sortBy: 'Sắp theo',\r\n    relevance: 'Liên quan',\r\n    newest: 'Mới nhất',\r\n    popular: 'Phổ biến',\r\n    inputIngre: 'Có nguyên liệu này',\r\n    inputWithoutIngre: 'Không có nguyên liệu này',\r\n    hour: 'giờ',\r\n    cookingTimeLessThan: 'Thời gian nấu ít hơn',\r\n    with: 'Có',\r\n    without: 'Không có',\r\n    noResult: 'Không tìm thấy công thức phù hợp'\r\n  },\r\n  profile: {\r\n    follow: 'Theo dõi',\r\n    following: 'Bỏ theo dõi',\r\n    followers: 'Người theo dõi',\r\n    followings: 'Đang theo dõi',\r\n    collection: 'Bộ sưu tập',\r\n    changeCollectionName: 'Đổi tên bộ sưu tập',\r\n    changeCollectionNamePlaceholder: 'Nhập tên mới cho bộ sưu tập',\r\n    changeName: 'Đổi tên',\r\n    noRecipeInCollection: 'Chưa có công thức trong bộ sưu tập này',\r\n    noCollections: 'Chưa có bộ sưu tập nào',\r\n    confirmToDeleteCollection: 'Bạn chắc chắn muốn xóa bộ sưu tập này?',\r\n    customize: 'Tối ưu tìm kiếm',\r\n    userInfo: 'Thông tin tài khoản',\r\n    shoppingList: 'Danh sách mua',\r\n    changePassword: 'Đổi mật khẩu',\r\n    changePassFrequently:\r\n      'Đổi mật khẩu thường xuyên để bảo vệ tài khoản của bạn',\r\n    updateProfileSucceed: 'Cập nhật thông tin thành công',\r\n    updateAvatar: 'Cập nhật hình đại diện',\r\n    noFollowing: 'Chưa theo dõi người nào',\r\n    noFollower: 'Chưa có người theo dõi',\r\n    deleteRecipeInCollection: 'Xóa khỏi bộ sưu tập',\r\n    confirmToDeleteRecipeInCollection:\r\n      'Xác nhận xóa công thức này khỏi bộ sưu tập?',\r\n    deleteRecipe: 'Xóa công thức',\r\n    confirmToDeleteRecipe: 'Xác nhận xóa công thức này?',\r\n    editRecipe: 'Sửa công thức',\r\n    deleteRecipeInMealPlanner: 'Xóa khỏi bữa ăn',\r\n    dish: 'món',\r\n    dishes: 'món',\r\n    today: 'Hôm nay',\r\n    recommendPlanner: 'Đề xuất thực đơn'\r\n  },\r\n  notification: {\r\n    liked: 'đã thích công thức',\r\n    commented: 'đã bình luận',\r\n    followed: 'đã theo dõi bạn',\r\n    replied: 'đã trả lời bạn',\r\n    notification: 'Thông báo',\r\n    noNotification: 'Chưa có thông báo'\r\n  }\r\n}\r\n","import easy from 'assets/images/easy peasy.png'\r\nimport tough from 'assets/images/tough nut.png'\r\nimport yuck from 'assets/images/yuck.png'\r\nimport yum from 'assets/images/yum.png'\r\nimport { createHashHistory } from 'history'\r\nimport ReactGA from 'react-ga'\r\nimport i18n from './i18n'\r\n\r\nReactGA.initialize('UA-198059333-1')\r\nexport const history = createHashHistory({ forceRefresh: true })\r\n\r\nhistory.listen(window => {\r\n  ReactGA.set({ page: window.pathname })\r\n  ReactGA.pageview(window?.pathname + window?.search)\r\n})\r\n\r\nexport const DOMAIN = 'https://api.mammam.me/api'\r\n// export const DOMAIN = 'http://localhost:3001/api'\r\nexport const __DEV__ = false\r\n\r\nexport const LIMIT_ITEMS = 16\r\nexport const COLOR = {\r\n  primary1: '#F6A13A',\r\n  primary2: '#F38B12',\r\n  primary3: '#ffc000',\r\n  mainBlack: '#5C5C5C',\r\n  gray: '#C4C4C4',\r\n  grayText: '#828282'\r\n}\r\nexport const MAM_TITLE = 'MAM | Có MAM chăm vào bếp'\r\nexport const NAME_REGEX =\r\n  /^[A-Z0-9a-z ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀỀỂẾưăạảấầẩẫậắằẳẵặẹẻẽềềểếỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]*$/\r\n\r\nexport const MODAL_TYPE = {\r\n  NORMAL: 'NORMAL',\r\n  CHOICE: 'CHOICE'\r\n}\r\n\r\nexport const ROLES = Object.freeze({\r\n  USER: 'user',\r\n  MOD: 'mod',\r\n  ADMIN: 'admin'\r\n})\r\n\r\nexport const RECIPE_STATUS = Object.freeze({\r\n  PENDING: 'Pending',\r\n  APPROVED: 'Approved'\r\n})\r\n\r\nexport const NOTI_TYPE = Object.freeze({\r\n  LIKE: 'like',\r\n  COMMENT: 'comment',\r\n  FOLLOW: 'follow',\r\n  REPLY: 'reply'\r\n})\r\n\r\nexport const REACTION = ['easy peasy', 'yum', 'yuck', 'tough nut']\r\nexport const MENU_SESSION = ['morning', 'noon', 'night']\r\nexport const WEEK_COUNT = [0, 1, 2, 3, 4, 5, 6]\r\nexport const REACTION_IMG = {\r\n  'easy peasy': easy,\r\n  yum: yum,\r\n  yuck: yuck,\r\n  'tough nut': tough\r\n}\r\n\r\nexport const DEFAULT_PASSWORD = '12345678'\r\n\r\nexport const getCurrentLng = () =>\r\n  i18n.language || window.localStorage.i18nextLng || ''\r\n\r\nexport const calcCalories = (accumulator, currentValue) =>\r\n  accumulator + currentValue.calories\r\n\r\nexport const calcCaloriesMenu = (accumulator, currentValue) =>\r\n  accumulator + currentValue?.recipe?.ingredients?.reduce(calcCalories, 0)\r\n\r\nexport function capitalizeFirstLetter(string) {\r\n  return string.charAt(0).toLocaleUpperCase() + string.slice(1)\r\n}\r\n\r\nexport const getNotiContent = noti => {\r\n  switch (noti.type) {\r\n    case NOTI_TYPE.LIKE:\r\n      return noti?.recipe?.title\r\n    case NOTI_TYPE.COMMENT:\r\n      return `\"${noti?.comment?.content}\"`\r\n    case NOTI_TYPE.FOLLOW:\r\n      return ''\r\n    case NOTI_TYPE.REPLY:\r\n      return `\"${noti?.comment?.content}\"`\r\n    default:\r\n      return noti?.recipe?.title\r\n  }\r\n}\r\n\r\nexport function log(...arg) {\r\n  if (__DEV__) {\r\n    console.info(\r\n      arg\r\n        .map(i =>\r\n          ['string', 'number'].indexOf(typeof i) === -1\r\n            ? JSON.stringify(i, null, ' ')\r\n            : i\r\n        )\r\n        .join(' ')\r\n    )\r\n  }\r\n}\r\n","import { Modal, Typography, Button } from 'antd'\r\nimport React from 'react'\r\nimport { MODAL_TYPE } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\n\r\nconst { Text } = Typography\r\n\r\nexport default class GlobalModal extends React.Component {\r\n  static instance = null\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    GlobalModal.instance = this\r\n    this.state = {\r\n      isShow: false,\r\n      title: '',\r\n      content: '',\r\n      type: MODAL_TYPE.NORMAL,\r\n      onPress: () => {}\r\n    }\r\n  }\r\n\r\n  static alertMessage = (\r\n    iTitle = i18n.t('common.information'),\r\n    iContent = i18n.t('common.error_message'),\r\n    iType = MODAL_TYPE.NORMAL,\r\n    onPress = () => {}\r\n  ) => {\r\n    GlobalModal.instance.setState({\r\n      isShow: true,\r\n      title: iTitle,\r\n      content: iContent,\r\n      type: iType,\r\n      onPress\r\n    })\r\n  }\r\n\r\n  closeModal = () => {\r\n    GlobalModal.instance.setState({ isShow: false })\r\n  }\r\n\r\n  handleOk = () => {\r\n    GlobalModal.instance.state.onPress()\r\n    GlobalModal.instance.closeModal()\r\n  }\r\n\r\n  handleCancel = () => {\r\n    GlobalModal.instance.closeModal()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        title={GlobalModal.instance.state.title}\r\n        visible={GlobalModal.instance.state.isShow}\r\n        centered\r\n        onOk={GlobalModal.instance.handleOk}\r\n        onCancel={GlobalModal.instance.handleCancel}\r\n        footer={\r\n          GlobalModal.instance.state.type === MODAL_TYPE.NORMAL\r\n            ? [\r\n                <Button\r\n                  key=\"okButton\"\r\n                  type=\"primary\"\r\n                  onClick={GlobalModal.instance.handleOk}\r\n                  size=\"large\"\r\n                >\r\n                  {i18n.t('common.ok')}\r\n                </Button>\r\n              ]\r\n            : [\r\n                <Button\r\n                  key=\"cancelButton\"\r\n                  onClick={GlobalModal.instance.handleCancel}\r\n                  size=\"large\"\r\n                >\r\n                  {i18n.t('common.cancel')}\r\n                </Button>,\r\n                <Button\r\n                  key=\"okButton\"\r\n                  size=\"large\"\r\n                  type=\"primary\"\r\n                  onClick={GlobalModal.instance.handleOk}\r\n                >\r\n                  {i18n.t('common.ok')}\r\n                </Button>\r\n              ]\r\n        }\r\n      >\r\n        <Text>{GlobalModal.instance.state.content}</Text>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const SignInRequest = defineAction('SIGNIN_REQUEST')\r\nexport const SignInRequestSuccess = defineAction('SIGNIN_REQUEST_SUCCESS')\r\nexport const SignInRequestFailed = defineAction('SIGNIN_REQUEST_FAILED')\r\n\r\nexport const SignUpRequest = defineAction('SIGNUP_REQUEST')\r\nexport const SignUpRequestSuccess = defineAction('SIGNUP_REQUEST_SUCCESS')\r\nexport const SignUpRequestFailed = defineAction('SIGNUP_REQUEST_FAILED')\r\n\r\nexport const RefreshToken = defineAction('REFRESH_TOKEN_REQUEST')\r\nexport const RefreshTokenSuccess = defineAction('REFRESH_TOKEN_SUCCESS')\r\nexport const RefreshTokenFailed = defineAction('REFRESH_TOKEN_FAILED')\r\n\r\nexport const ResetPassword = defineAction('RESET_PASSWORD_REQUEST')\r\nexport const ResetPasswordSuccess = defineAction('RESET_PASSWORD_SUCCESS')\r\nexport const ResetPasswordFailed = defineAction('RESET_PASSWORD_FAILED')\r\n\r\nexport const CreatePassword = defineAction('CREATE_PASSWORD_REQUEST')\r\nexport const CreatePasswordSuccess = defineAction('CREATE_PASSWORD_SUCCESS')\r\nexport const CreatePasswordFailed = defineAction('CREATE_PASSWORD_FAILED')\r\n\r\nexport const ChangePassword = defineAction('CHANGE_PASSWORD_REQUEST')\r\nexport const ChangePasswordSuccess = defineAction('CHANGE_PASSWORD_SUCCESS')\r\nexport const ChangePasswordFailed = defineAction('CHANGE_PASSWORD_FAILED')\r\n\r\nexport const GetProfile = defineAction('GET_PROFILE_REQUEST')\r\nexport const GetProfileSuccess = defineAction('GET_PROFILE_SUCCESS')\r\nexport const GetProfileFailed = defineAction('GET_PROFILE_FAILED')\r\n\r\nexport const UpdateProfile = defineAction('UPDATE_PROFILE_REQUEST')\r\nexport const UpdateProfileSuccess = defineAction('UPDATE_PROFILE_SUCCESS')\r\nexport const UpdateProfileFailed = defineAction('UPDATE_PROFILE_FAILED')\r\n\r\nexport const GetNotification = defineAction('GET_NOTIFICATION_REQUEST')\r\nexport const GetNotificationSuccess = defineAction('GET_NOTIFICATION_SUCCESS')\r\nexport const GetNotificationFailed = defineAction('GET_NOTIFICATION_FAILED')\r\n\r\nexport const UpdateNotification = defineAction('UPDATE_NOTIFICATION_REQUEST')\r\nexport const UpdateNotificationSuccess = defineAction(\r\n  'UPDATE_NOTIFICATION_SUCCESS'\r\n)\r\nexport const UpdateNotificationFailed = defineAction(\r\n  'UPDATE_NOTIFICATION_FAILED'\r\n)\r\n\r\nexport const GetMenu = defineAction('GET_MENU_REQUEST')\r\nexport const GetMenuSuccess = defineAction('GET_MENU_SUCCESS')\r\nexport const GetMenuFailed = defineAction('GET_MENU_FAILED')\r\n\r\nexport const DeleteRecipeInMenu = defineAction('DELETE_RECIPE_IN_MENU')\r\nexport const DeleteRecipeInMenuSuccess = defineAction(\r\n  'DELETE_RECIPE_IN_MENU_SUCCESS'\r\n)\r\nexport const DeleteRecipeInMenuFailed = defineAction(\r\n  'DELETE_RECIPE_IN_MENU_FAILED'\r\n)\r\n\r\nexport const UpdateCurrentOpenNoti = defineAction('UPDATE_OPEN_NOTI_TIME')\r\n\r\nexport const UpdateSocket = defineAction('UPDATE_SOCKET')\r\n\r\nexport const SignOut = defineAction('SIGNOUT_REQUEST')\r\nexport const SignOutSuccess = defineAction('SIGNOUT_REQUEST_SUCCESS')\r\nexport const SignOutFailed = defineAction('SIGNOUT_REQUEST_FAILED')\r\n\r\nexport const ResetReducer = defineAction('RESET_REDUCER')\r\n\r\nexport const ChangeLanguage = defineAction('CHANGE_LANGUAGE')\r\n\r\nexport const EmptyAction = defineAction('EMPTY_ACTION')\r\n","import axios from 'axios'\r\nimport { store } from 'core/store'\r\nimport moment from 'moment'\r\nimport { RefreshToken, SignOut } from 'pages/SignIn/redux/actions'\r\nimport { from } from 'rxjs'\r\nimport { map, tap } from 'rxjs/operators'\r\nimport { DOMAIN, log as SysLog } from 'ultis/functions'\r\n\r\nexport function request(param) {\r\n  let url = `${DOMAIN}/${param.url}`\r\n\r\n  const language = store.getState().Auth.language || 'vi'\r\n  const parameters = param.param\r\n  const { token, tokenExp, refreshToken, refreshTokenExp } =\r\n    store.getState().Auth\r\n  let canUseToken = token\r\n  if (refreshTokenExp != null && refreshTokenExp - moment().unix() < 10) {\r\n    store.dispatch(SignOut.get())\r\n    canUseToken = null\r\n  }\r\n  if (tokenExp != null && tokenExp - moment().unix() < 10) {\r\n    if (refreshToken != null) {\r\n      store.dispatch(RefreshToken.get({ refreshToken }))\r\n    } else {\r\n      store.dispatch(SignOut.get())\r\n      canUseToken = null\r\n    }\r\n  }\r\n  const headers = canUseToken\r\n    ? {\r\n        'Content-Type': 'application/json',\r\n        accept: 'application/json',\r\n        'Access-Control-Allow-Origin': true,\r\n        'Accept-Language': language,\r\n        Authorization: canUseToken\r\n      }\r\n    : {\r\n        'Content-Type': 'application/json',\r\n        accept: 'application/json',\r\n        'Access-Control-Allow-Origin': true,\r\n        'Accept-Language': language\r\n      }\r\n\r\n  return from(\r\n    axios\r\n      .request({\r\n        url,\r\n        timeout: 15000,\r\n        headers,\r\n        method: param.method || 'POST',\r\n        data: parameters,\r\n        ...(param.method === 'GET'\r\n          ? { params: parameters, data: {} }\r\n          : { data: parameters })\r\n      })\r\n      .catch(error => {\r\n        return Promise.resolve(error.response)\r\n      })\r\n  ).pipe(\r\n    map(result => {\r\n      return result\r\n    }),\r\n    tap(result => log(url, parameters, result))\r\n  )\r\n}\r\n\r\nfunction log(url, parameters, result) {\r\n  SysLog(\r\n    '--------------------------\\n',\r\n    // '\\x1b[34m',\r\n    'Request data:',\r\n    // '\\x1b[37m',\r\n    '\\nURL:           ',\r\n    // '\\x1b[32m',\r\n    url,\r\n    // '\\x1b[37m',\r\n    '\\nParam:         ',\r\n    // '\\x1b[32m',\r\n    JSON.stringify(parameters, null, '\\x1b[32m'),\r\n    // '\\x1b[37m',\r\n    '\\nResponse Data: ',\r\n    // '\\x1b[32m',\r\n    JSON.stringify(result, null, '\\x1b[32m') || true,\r\n    // '\\x1b[37m',\r\n    '\\n--------------------------'\r\n  )\r\n}\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const SearchIngredient = defineAction('SEARCH_INGREDIENT_REQUEST')\r\nexport const SearchIngredientSuccess = defineAction('SEARCH_INGREDIENT_SUCCESS')\r\nexport const SearchIngredientFailed = defineAction('SEARCH_INGREDIENT_FAILED')\r\n\r\nexport const CreateRecipe = defineAction('CREATE_RECIPE')\r\nexport const CreateRecipeSuccess = defineAction('CREATE_RECIPE_SUCCESS')\r\nexport const CreateRecipeFailed = defineAction('CREATE_RECIPE_FAILED')\r\n","import GlobalModal from 'components/GlobalModal'\r\nimport { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport { history, MODAL_TYPE } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\nimport {\r\n  CreateRecipe,\r\n  CreateRecipeFailed,\r\n  CreateRecipeSuccess,\r\n  SearchIngredient,\r\n  SearchIngredientFailed,\r\n  SearchIngredientSuccess\r\n} from './actions'\r\n\r\nconst searchIngredientEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(SearchIngredient.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'ingredient',\r\n        param: { search: action.payload.search }\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            action.payload.onSuccess(result?.data?.data)\r\n            return SearchIngredientSuccess.get(result?.data?.data)\r\n          }\r\n          return SearchIngredientFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return SearchIngredientFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst createRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(CreateRecipe.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'recipe',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              'Tạo công thức thàng công',\r\n              MODAL_TYPE.NORMAL,\r\n              () => history.replace(`/recipe/${result.data.recipe.id}`)\r\n            )\r\n            return CreateRecipeSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return CreateRecipeFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          GlobalModal.alertMessage()\r\n          return CreateRecipeFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const createEpics = combineEpics(\r\n  searchIngredientEpic$,\r\n  createRecipeEpic$\r\n)\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const SetCurrentPage = defineAction('SET_CURRENT_PAGE')\r\n\r\nexport const GetAllCategories = defineAction('GET_CATEGORIES_REQUEST')\r\nexport const GetAllCategoriesSuccess = defineAction('GET_CATEGORIES_SUCCESS')\r\nexport const GetAllCategoriesFailed = defineAction('GET_CATEGORIES_FAILED')\r\n\r\nexport const AddCategory = defineAction('ADD_CATEGORY_REQUEST')\r\nexport const AddCategorySuccess = defineAction('ADD_CATEGORY_SUCCESS')\r\nexport const AddCategoryFailed = defineAction('ADD_CATEGORY_FAILED')\r\n\r\nexport const UpdateCategory = defineAction('UPDATE_CATEGORY_REQUEST')\r\nexport const UpdateCategorySuccess = defineAction('UPDATE_CATEGORY_SUCCESS')\r\nexport const UpdateCategoryFailed = defineAction('UPDATE_CATEGORY_FAILED')\r\n\r\nexport const DeleteCategory = defineAction('DELETE_CATEGORY_REQUEST')\r\nexport const DeleteCategorySuccess = defineAction('DELETE_CATEGORY_SUCCESS')\r\nexport const DeleteCategoryFailed = defineAction('DELETE_CATEGORY_FAILED')\r\n\r\nexport const GetUsers = defineAction('GET_USERS_REQUEST')\r\nexport const GetUsersSuccess = defineAction('GET_USERS_SUCCESS')\r\nexport const GetUsersFailed = defineAction('GET_USERS_FAILED')\r\n\r\nexport const GetUserProfile = defineAction('GET_USER_PROFILE_REQUEST')\r\nexport const GetUserProfileSuccess = defineAction('GET_USER_PROFILE_SUCCESS')\r\nexport const GetUserProfileFailed = defineAction('GET_USER_PROFILE_FAILED')\r\n\r\nexport const GetAllCourses = defineAction('GET_ALL_COURSES_REQUEST')\r\nexport const GetAllCoursesSuccess = defineAction('GET_ALL_COURSES_SUCCESS')\r\nexport const GetAllCoursesFailed = defineAction('GET_ALL_COURSES_FAILED')\r\n\r\nexport const DeleteCourse = defineAction('DELETE_COURSE_REQUEST')\r\nexport const DeleteCourseSuccess = defineAction('DELETE_COURSE_SUCCESS')\r\nexport const DeleteCourseFailed = defineAction('DELETE_COURSE_FAILED')\r\n","import GlobalModal from 'components/GlobalModal'\r\nimport { store } from 'core/store'\r\nimport { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport {\r\n  AddCategory,\r\n  AddCategoryFailed,\r\n  AddCategorySuccess,\r\n  DeleteCategory,\r\n  DeleteCategoryFailed,\r\n  DeleteCategorySuccess,\r\n  DeleteCourse,\r\n  DeleteCourseFailed,\r\n  DeleteCourseSuccess,\r\n  GetAllCategories,\r\n  GetAllCategoriesFailed,\r\n  GetAllCategoriesSuccess,\r\n  GetAllCourses,\r\n  GetAllCoursesFailed,\r\n  GetAllCoursesSuccess,\r\n  GetUserProfile,\r\n  GetUserProfileFailed,\r\n  GetUserProfileSuccess,\r\n  GetUsers,\r\n  GetUsersFailed,\r\n  GetUsersSuccess,\r\n  UpdateCategory,\r\n  UpdateCategoryFailed,\r\n  UpdateCategorySuccess\r\n} from './actions'\r\n\r\nconst getCategoriesEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetAllCategories.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'category'\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetAllCategoriesSuccess.get(\r\n              result.data?.categories?.categoriesResult\r\n            )\r\n          }\r\n          return GetAllCategoriesFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetAllCategoriesFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst addCategoryEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(AddCategory.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'category',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetAllCategories.get())\r\n            return AddCategorySuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return AddCategoryFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return AddCategoryFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst updateCategoryEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(UpdateCategory.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'PUT',\r\n        url: `category/${action.payload.id}`,\r\n        param: action.payload.data\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetAllCategories.get())\r\n            return UpdateCategorySuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return UpdateCategoryFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return UpdateCategoryFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteCategoryEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteCategory.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `category/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetAllCategories.get())\r\n            return DeleteCategorySuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return DeleteCategoryFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return DeleteCategoryFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteCourseEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteCourse.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `course/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetAllCourses.get())\r\n            const currentUser = store.getState().Dashboard.userDetail\r\n            if (currentUser) {\r\n              store.dispatch(GetUserProfile.get(currentUser.id))\r\n            }\r\n            return DeleteCourseSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return DeleteCourseFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return DeleteCourseFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getUsersEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetUsers.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'users',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetUsersSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return GetUsersFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetUsersFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getUserProfileEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetUserProfile.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `users/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetUserProfileSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return GetUserProfileFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetUserProfileFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getCourseListEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetAllCourses.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `course`,\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetAllCoursesSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage('Information', result.data?.message)\r\n          return GetAllCoursesFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetAllCoursesFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const dashboardEpics = combineEpics(\r\n  getCategoriesEpic$,\r\n  addCategoryEpic$,\r\n  updateCategoryEpic$,\r\n  deleteCategoryEpic$,\r\n  getUsersEpic$,\r\n  getUserProfileEpic$,\r\n  getCourseListEpic$,\r\n  deleteCourseEpic$\r\n)\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const GetHomeRecipe = defineAction('GET_HOME_RECIPE_REQUEST')\r\nexport const GetHomeRecipeSuccess = defineAction('GET_HOME_RECIPE_SUCCESS')\r\nexport const GetHomeRecipeFailed = defineAction('GET_HOME_RECIPE_FAILED')\r\n","import GlobalModal from 'components/GlobalModal'\r\nimport { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport i18n from 'ultis/i18n'\r\nimport {\r\n  GetHomeRecipe,\r\n  GetHomeRecipeFailed,\r\n  GetHomeRecipeSuccess\r\n} from './actions'\r\n\r\nconst getHomeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetHomeRecipe.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'recipe/list',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetHomeRecipeSuccess.get({\r\n              ...action.payload,\r\n              data: result.data?.result\r\n            })\r\n          }\r\n          GlobalModal.alertMessage(\r\n            i18n.t('common.information'),\r\n            result.data?.message\r\n          )\r\n          return GetHomeRecipeFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetHomeRecipeFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const homeEpics = combineEpics(getHomeEpic$)\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const GetCollections = defineAction('GET_COLLECTIONS_REQUEST')\r\nexport const GetCollectionsSuccess = defineAction('GET_COLLECTIONS_SUCCESS')\r\nexport const GetCollectionsFailed = defineAction('GET_COLLECTIONS_FAILED')\r\n\r\nexport const CreateCollection = defineAction('CREATE_COLLECTION')\r\nexport const CreateCollectionSuccess = defineAction('CREATE_COLLECTION_SUCCESS')\r\nexport const CreateCollectionFailed = defineAction('CREATE_COLLECTION_FAILED')\r\n\r\nexport const GetCollectionDetail = defineAction('GET_COLLECTION_DETAIL')\r\nexport const GetCollectionDetailSuccess = defineAction(\r\n  'GET_COLLECTION_DETAIL_SUCCESS'\r\n)\r\nexport const GetCollectionDetailFailed = defineAction(\r\n  'GET_COLLECTION_DETAIL_FAILED'\r\n)\r\n\r\nexport const AddRecipeToCollection = defineAction('ADD_RECIPE_TO_COLLECTION')\r\nexport const AddRecipeToCollectionSuccess = defineAction(\r\n  'ADD_RECIPE_TO_COLLECTION_SUCCESS'\r\n)\r\nexport const AddRecipeToCollectionFailed = defineAction(\r\n  'ADD_RECIPE_TO_COLLECTION_FAILED'\r\n)\r\n\r\nexport const DeleteRecipeInCollection = defineAction(\r\n  'DELETE_RECIPE_IN_COLLECTION'\r\n)\r\nexport const DeleteRecipeInCollectionSuccess = defineAction(\r\n  'DELETE_RECIPE_IN_COLLECTION_SUCCESS'\r\n)\r\nexport const DeleteRecipeInCollectionFailed = defineAction(\r\n  'DELETE_RECIPE_IN_COLLECTION_FAILED'\r\n)\r\n\r\nexport const DeleteCollection = defineAction('DELETE_COLLECTION')\r\nexport const DeleteCollectionSuccess = defineAction('DELETE_COLLECTION_SUCCESS')\r\nexport const DeleteCollectionFailed = defineAction('DELETE_COLLECTION_FAILED')\r\n\r\nexport const UpdateCollection = defineAction('UPDATE_COLLECTION')\r\nexport const UpdateCollectionSuccess = defineAction('UPDATE_COLLECTION_SUCCESS')\r\nexport const UpdateCollectionFailed = defineAction('UPDATE_COLLECTION_FAILED')\r\n\r\nexport const GetFollower = defineAction('GET_FOLLOWER_REQUEST')\r\nexport const GetFollowerSuccess = defineAction('GET_FOLLOWER_SUCCESS')\r\nexport const GetFollowerFailed = defineAction('GET_FOLLOWER_FAILED')\r\n\r\nexport const GetFollowing = defineAction('GET_FOLLOWING_REQUEST')\r\nexport const GetFollowingSuccess = defineAction('GET_FOLLOWING_SUCCESS')\r\nexport const GetFollowingFailed = defineAction('GET_FOLLOWING_FAILED')\r\n\r\nexport const GetRecipeOfUser = defineAction('GET_RECIPE_USER_REQUEST')\r\nexport const GetRecipeOfUserSuccess = defineAction('GET_RECIPE_USER_SUCCESS')\r\nexport const GetRecipeOfUserFailed = defineAction('GET_RECIPE_USER_FAILED')\r\n\r\nexport const FollowUser = defineAction('FOLLOW_USER_REQUEST')\r\nexport const FollowUserSuccess = defineAction('FOLLOW_USER_SUCCESS')\r\nexport const FollowUserFailed = defineAction('FOLLOW_USER_FAILED')\r\n\r\nexport const UnFollowUser = defineAction('UN_FOLLOW_USER_REQUEST')\r\nexport const UnFollowUserSuccess = defineAction('UN_FOLLOW_USER_SUCCESS')\r\nexport const UnFollowUserFailed = defineAction('UN_FOLLOW_USER_FAILED')\r\n\r\nexport const DeleteRecipe = defineAction('DELETE_RECIPE')\r\nexport const DeleteRecipeSuccess = defineAction('DELETE_RECIPE_SUCCESS')\r\nexport const DeleteRecipeFailed = defineAction('DELETE_RECIPE_FAILED')\r\n","import GlobalModal from 'components/GlobalModal'\r\nimport { store } from 'core/store'\r\nimport { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport {\r\n  AddRecipeToCollection,\r\n  AddRecipeToCollectionFailed,\r\n  AddRecipeToCollectionSuccess,\r\n  CreateCollection,\r\n  CreateCollectionFailed,\r\n  CreateCollectionSuccess,\r\n  DeleteCollection,\r\n  DeleteCollectionFailed,\r\n  DeleteCollectionSuccess,\r\n  DeleteRecipe,\r\n  DeleteRecipeFailed,\r\n  DeleteRecipeInCollection,\r\n  DeleteRecipeInCollectionFailed,\r\n  DeleteRecipeInCollectionSuccess,\r\n  DeleteRecipeSuccess,\r\n  FollowUser,\r\n  FollowUserFailed,\r\n  FollowUserSuccess,\r\n  GetCollectionDetail,\r\n  GetCollectionDetailFailed,\r\n  GetCollectionDetailSuccess,\r\n  GetCollections,\r\n  GetCollectionsFailed,\r\n  GetCollectionsSuccess,\r\n  GetFollower,\r\n  GetFollowerFailed,\r\n  GetFollowerSuccess,\r\n  GetFollowing,\r\n  GetFollowingFailed,\r\n  GetFollowingSuccess,\r\n  GetRecipeOfUser,\r\n  GetRecipeOfUserFailed,\r\n  GetRecipeOfUserSuccess,\r\n  UnFollowUser,\r\n  UnFollowUserFailed,\r\n  UnFollowUserSuccess,\r\n  UpdateCollection,\r\n  UpdateCollectionFailed,\r\n  UpdateCollectionSuccess\r\n} from './actions'\r\n\r\nconst getCollectionsEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetCollections.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'collection'\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetCollectionsSuccess.get(result?.data?.collections)\r\n          }\r\n          return GetCollectionsFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetCollectionsFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst createCollectionsEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(CreateCollection.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'collection',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetCollections.get())\r\n            return CreateCollectionSuccess.get(result?.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return CreateCollectionFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return CreateCollectionFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getCollectionDetailEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetCollectionDetail.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `collection/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetCollectionDetailSuccess.get(result?.data?.collection)\r\n          }\r\n          return GetCollectionDetailFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetCollectionDetailFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst addRecipeToCollectionEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(AddRecipeToCollection.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: `collection/${action.payload.collectionId}/recipe/${action.payload.recipeId}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetCollections.get())\r\n            store.dispatch(GetCollectionDetail.get(action.payload.collectionId))\r\n            return AddRecipeToCollectionSuccess.get(result?.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return AddRecipeToCollectionFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return AddRecipeToCollectionFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteRecipeInCollectionEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteRecipeInCollection.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `collection/${action.payload.collectionId}/recipe/${action.payload.recipeId}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetCollections.get())\r\n            store.dispatch(GetCollectionDetail.get(action.payload.collectionId))\r\n            return DeleteRecipeInCollectionSuccess.get(result?.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return DeleteRecipeInCollectionFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return DeleteRecipeInCollectionFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteCollectionEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteCollection.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `collection/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetCollections.get())\r\n            return DeleteCollectionSuccess.get(result?.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return DeleteCollectionFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return DeleteCollectionFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst updateCollectionEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(UpdateCollection.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'PUT',\r\n        url: `collection/${action.payload.collectionId}`,\r\n        param: { name: action.payload.name }\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetCollections.get())\r\n            store.dispatch(GetCollectionDetail.get(action.payload.collectionId))\r\n            return UpdateCollectionSuccess.get(result?.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return UpdateCollectionFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return UpdateCollectionFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getFollowingEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetFollowing.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `user/${action.payload}/following`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetFollowingSuccess.get({\r\n              userId: action.payload,\r\n              data: result?.data?.followings\r\n            })\r\n          }\r\n          return GetFollowingFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetFollowingFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getFollowerEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetFollower.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `user/${action.payload}/follower`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetFollowerSuccess.get({\r\n              userId: action.payload,\r\n              data: result?.data?.followers\r\n            })\r\n          }\r\n          return GetFollowerFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetFollowerFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst followUserEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(FollowUser.type),\r\n    exhaustMap(action => {\r\n      const user = store.getState().Auth.user\r\n      return request({\r\n        method: 'POST',\r\n        url: `user/${user.id}/follow/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetFollowing.get(user.id))\r\n            store.dispatch(GetFollower.get(user.id))\r\n            return FollowUserSuccess.get(result?.data)\r\n          }\r\n          return FollowUserFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return FollowUserFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst unFollowUserEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(UnFollowUser.type),\r\n    exhaustMap(action => {\r\n      const user = store.getState().Auth.user\r\n      return request({\r\n        method: 'POST',\r\n        url: `user/${user.id}/unfollow/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetFollowing.get(user.id))\r\n            store.dispatch(GetFollower.get(user.id))\r\n            return UnFollowUserSuccess.get(result?.data)\r\n          }\r\n          return UnFollowUserFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return UnFollowUserFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getRecipeUserEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetRecipeOfUser.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `user/${action.payload}/recipe`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetRecipeOfUserSuccess.get(result?.data?.recipes)\r\n          }\r\n          return GetRecipeOfUserFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetRecipeOfUserFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteRecipe.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `recipe/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetRecipeOfUser.get(store.getState().Auth.user?.id))\r\n            return DeleteRecipeSuccess.get(result?.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return DeleteRecipeFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return DeleteRecipeFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const profileEpics = combineEpics(\r\n  getCollectionsEpic$,\r\n  createCollectionsEpic$,\r\n  getCollectionDetailEpic$,\r\n  addRecipeToCollectionEpic$,\r\n  deleteRecipeInCollectionEpic$,\r\n  deleteCollectionEpic$,\r\n  updateCollectionEpic$,\r\n  getFollowerEpic$,\r\n  getFollowingEpic$,\r\n  unFollowUserEpic$,\r\n  followUserEpic$,\r\n  getRecipeUserEpic$,\r\n  deleteRecipeEpic$\r\n)\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const UpdateRecipe = defineAction('UPDATE_RECIPE')\r\nexport const UpdateRecipeSuccess = defineAction('UPDATE_RECIPE_SUCCESS')\r\nexport const UpdateRecipeFailed = defineAction('UPDATE_RECIPE_FAILED')\r\n\r\nexport const GetDetailRecipe = defineAction('GET_DETAIL_RECIPE')\r\nexport const GetDetailRecipeSuccess = defineAction('GET_DETAIL_RECIPE_SUCCESS')\r\nexport const GetDetailRecipeFailed = defineAction('GET_DETAIL_RECIPE_FAILED')\r\n\r\nexport const CommentPost = defineAction('COMMENT_POST')\r\nexport const CommentPostSuccess = defineAction('COMMENT_POST_SUCCESS')\r\nexport const CommentPostFailed = defineAction('COMMENT_POST_FAILED')\r\n\r\nexport const CommentChallengePost = defineAction('COMMENT_CHALLENGE_POST')\r\nexport const CommentChallengeSuccess = defineAction(\r\n  'COMMENT_CHALLENGE_POST_SUCCESS'\r\n)\r\nexport const CommentChallengeFailed = defineAction(\r\n  'COMMENT_CHALLENGE_POST_FAILED'\r\n)\r\n\r\nexport const DeleteComment = defineAction('DELETE_COMMENT')\r\nexport const DeleteCommentSuccess = defineAction('DELETE_COMMENT_SUCCESS')\r\nexport const DeleteCommentFailed = defineAction('DELETE_COMMENT_FAILED')\r\n\r\nexport const AddToShoppingList = defineAction('ADD_TO_SHOPPING_LIST')\r\nexport const AddToShoppingListSuccess = defineAction(\r\n  'ADD_TO_SHOPPING_LIST_SUCCESS'\r\n)\r\nexport const AddToShoppingListFailed = defineAction(\r\n  'ADD_TO_SHOPPING_LIST_FAILED'\r\n)\r\n\r\nexport const AddToMenu = defineAction('ADD_TO_MENU')\r\nexport const AddToMenuListSuccess = defineAction('ADD_TO_MENU_SUCCESS')\r\nexport const AddToMenuListFailed = defineAction('ADD_TO_MENU_FAILED')\r\n\r\nexport const ReactRecipe = defineAction('REACT_RECIPE')\r\nexport const ReactRecipeSuccess = defineAction('REACT_RECIPE_SUCCESS')\r\nexport const ReactRecipeFailed = defineAction('REACT_RECIPE_FAILED')\r\n\r\nexport const UpvoteComment = defineAction('UPVOTE_COMMENT')\r\nexport const UpvoteCommentSuccess = defineAction('UPVOTE_COMMENT_SUCCESS')\r\nexport const UpvoteCommentFailed = defineAction('UPVOTE_COMMENT_FAILED')\r\n\r\nexport const UpdateIsCountdown = defineAction('UPDATE_IS_COUNTDOWN')\r\n","import GlobalModal from 'components/GlobalModal'\r\nimport { store } from 'core/store'\r\nimport { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport { history, MODAL_TYPE } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\nimport {\r\n  AddToMenu,\r\n  AddToMenuListFailed,\r\n  AddToMenuListSuccess,\r\n  AddToShoppingList,\r\n  AddToShoppingListFailed,\r\n  AddToShoppingListSuccess,\r\n  CommentChallengeFailed,\r\n  CommentChallengePost,\r\n  CommentChallengeSuccess,\r\n  CommentPost,\r\n  CommentPostFailed,\r\n  CommentPostSuccess,\r\n  DeleteComment,\r\n  DeleteCommentFailed,\r\n  DeleteCommentSuccess,\r\n  GetDetailRecipe,\r\n  GetDetailRecipeFailed,\r\n  GetDetailRecipeSuccess,\r\n  ReactRecipe,\r\n  ReactRecipeFailed,\r\n  ReactRecipeSuccess,\r\n  UpvoteComment,\r\n  UpvoteCommentFailed,\r\n  UpvoteCommentSuccess\r\n} from './actions'\r\n\r\nconst commentRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(CommentPost.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'comment',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(\r\n              GetDetailRecipe.get({ recipeId: action.payload.recipe_id })\r\n            )\r\n            return CommentPostSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(null, result.data.err)\r\n          return CommentPostFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return CommentPostFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst commentChallengeRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(CommentChallengePost.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'challenge',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(\r\n              GetDetailRecipe.get({ recipeId: action.payload.recipe_id })\r\n            )\r\n            return CommentChallengeSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(null, result.data.err)\r\n          return CommentChallengeFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return CommentChallengeFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getDetailRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetDetailRecipe.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `recipe/${action.payload.recipeId}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetDetailRecipeSuccess.get(result.data.result)\r\n          }\r\n          GlobalModal.alertMessage(\r\n            null,\r\n            result.data.err,\r\n            MODAL_TYPE.NORMAL,\r\n            () => history.replace('/')\r\n          )\r\n          return GetDetailRecipeFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          GlobalModal.alertMessage(\r\n            null,\r\n            'Đã có lỗi xảy ra hoặc công thức không tồn tại. Quay về trang chủ?',\r\n            MODAL_TYPE.NORMAL,\r\n            () => history.replace('/')\r\n          )\r\n          return GetDetailRecipeFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst addShoppingListEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(AddToShoppingList.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'shopinglist',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              'Đã thêm vào danh sách mua'\r\n            )\r\n            return AddToShoppingListSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return AddToShoppingListFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          GlobalModal.alertMessage()\r\n          return AddToShoppingListFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst addMenuEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(AddToMenu.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'menu',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              'Đã thêm vào thực đơn'\r\n            )\r\n            return AddToMenuListSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return AddToMenuListFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          GlobalModal.alertMessage()\r\n          return AddToMenuListFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst reactRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(ReactRecipe.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'reaction',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(\r\n              GetDetailRecipe.get({ recipeId: action.payload.recipe_id })\r\n            )\r\n            return ReactRecipeSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return ReactRecipeFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          GlobalModal.alertMessage()\r\n          return ReactRecipeFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst upvoteCommentEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(UpvoteComment.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'upvote',\r\n        param: { comment_id: action.payload?.comment_id }\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(\r\n              GetDetailRecipe.get({ recipeId: action.payload.recipe_id })\r\n            )\r\n            return UpvoteCommentSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(null, result.data.err)\r\n          return UpvoteCommentFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return UpvoteCommentFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteCommentEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteComment.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `comment/${action.payload.commentId}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(\r\n              GetDetailRecipe.get({ recipeId: action.payload.recipeId })\r\n            )\r\n            return DeleteCommentSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return DeleteCommentFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          GlobalModal.alertMessage()\r\n          return DeleteCommentFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const recipeEpics = combineEpics(\r\n  getDetailRecipeEpic$,\r\n  commentRecipeEpic$,\r\n  addShoppingListEpic$,\r\n  addMenuEpic$,\r\n  reactRecipeEpic$,\r\n  commentChallengeRecipeEpic$,\r\n  upvoteCommentEpic$,\r\n  deleteCommentEpic$\r\n)\r\n","import { defineAction } from 'redux-typed-actions'\r\n\r\nexport const SearchRecipes = defineAction('SEARCH_RECIPE_REQUEST')\r\nexport const SearchRecipesSuccess = defineAction('SEARCH_RECIPE_SUCCESS')\r\nexport const SearchRecipesFailed = defineAction('SEARCH_RECIPE_FAILED')\r\n\r\nexport const SearchUsers = defineAction('SEARCH_USER_REQUEST')\r\nexport const SearchUsersSuccess = defineAction('SEARCH_USER_SUCCESS')\r\nexport const SearchUsersFailed = defineAction('SEARCH_USER_FAILED')\r\n","import { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport { LIMIT_ITEMS } from 'ultis/functions'\r\nimport {\r\n  SearchRecipes,\r\n  SearchRecipesFailed,\r\n  SearchRecipesSuccess,\r\n  SearchUsers,\r\n  SearchUsersFailed,\r\n  SearchUsersSuccess\r\n} from './actions'\r\n\r\nconst searchRecipeEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(SearchRecipes.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'recipe',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return SearchRecipesSuccess.get({\r\n              total: result?.data?.total,\r\n              rows:\r\n                result?.data?.result?.length > 0\r\n                  ? result?.data?.result?.map(item => item?._source)\r\n                  : [],\r\n              currentPage: action.payload.offset / LIMIT_ITEMS + 1\r\n            })\r\n          }\r\n          return SearchRecipesFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return SearchRecipesFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst searchUserEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(SearchUsers.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'user',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return SearchUsersSuccess.get(result?.data?.userlist)\r\n          }\r\n          return SearchUsersFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return SearchUsersFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const searchEpics = combineEpics(searchRecipeEpic$, searchUserEpic$)\r\n","export const PROFILE_PAGE = {\r\n  RECIPE: 'RECIPE',\r\n  FOLLOWING: 'FOLLOWING',\r\n  FOLLOWER: 'FOLLOWER',\r\n  SHOPPING_LIST: 'SHOPPING_LIST',\r\n  COLLECTION: 'COLLECTION',\r\n  INFO: 'INFO',\r\n  CHANGE_PASSWORD: 'CHANGE_PASSWORD',\r\n  CUSTOMIZE: 'CUSTOMIZE'\r\n}\r\n","import io from 'socket.io-client'\r\n\r\nexport const socketService = {\r\n  connect\r\n}\r\nfunction connect(token) {\r\n  return new Promise((resolve, reject) => {\r\n    const socket = io('https://api.mammam.me', {\r\n      query: { token: token },\r\n      transports: ['websocket']\r\n    })\r\n    socket.on('connect', () => {\r\n      resolve(socket)\r\n    })\r\n  })\r\n}\r\n","import { notification } from 'antd'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport { replace } from 'connected-react-router'\r\nimport { store } from 'core/store'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport {\r\n  DeleteRecipeInCollectionFailed,\r\n  GetFollowing\r\n} from 'pages/Profile/redux/actions'\r\nimport { combineEpics, ofType } from 'redux-observable'\r\nimport { catchError, exhaustMap, map } from 'rxjs/operators'\r\nimport { request } from 'ultis/api'\r\nimport {\r\n  getNotiContent,\r\n  history,\r\n  MODAL_TYPE,\r\n  NOTI_TYPE,\r\n  ROLES\r\n} from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\nimport { socketService } from 'ultis/socket'\r\nimport {\r\n  ChangePassword,\r\n  ChangePasswordFailed,\r\n  ChangePasswordSuccess,\r\n  CreatePassword,\r\n  CreatePasswordFailed,\r\n  CreatePasswordSuccess,\r\n  DeleteRecipeInMenu,\r\n  DeleteRecipeInMenuSuccess,\r\n  GetMenu,\r\n  GetMenuFailed,\r\n  GetMenuSuccess,\r\n  GetNotification,\r\n  GetNotificationFailed,\r\n  GetNotificationSuccess,\r\n  GetProfile,\r\n  GetProfileFailed,\r\n  GetProfileSuccess,\r\n  RefreshToken,\r\n  RefreshTokenFailed,\r\n  RefreshTokenSuccess,\r\n  ResetPassword,\r\n  ResetPasswordFailed,\r\n  ResetPasswordSuccess,\r\n  SignInRequest,\r\n  SignInRequestFailed,\r\n  SignInRequestSuccess,\r\n  SignOut,\r\n  SignOutFailed,\r\n  SignOutSuccess,\r\n  SignUpRequest,\r\n  SignUpRequestFailed,\r\n  SignUpRequestSuccess,\r\n  UpdateNotification,\r\n  UpdateNotificationFailed,\r\n  UpdateNotificationSuccess,\r\n  UpdateProfile,\r\n  UpdateProfileFailed,\r\n  UpdateProfileSuccess,\r\n  UpdateSocket\r\n} from './actions'\r\n\r\nconst signinEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(SignInRequest.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'auth',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            if (result.data?.user) {\r\n              store.dispatch(GetFollowing.get(result.data?.user?.id))\r\n            }\r\n            if (result.data?.token) {\r\n              socketService\r\n                .connect(result.data?.token)\r\n                .then(socket => {\r\n                  store.dispatch(UpdateSocket.get(socket))\r\n                  socket.on('newNotification', data => {\r\n                    const noti = data?.notification\r\n                    const NOTI_TEXT = {\r\n                      [NOTI_TYPE.LIKE]: i18n.t('notification.liked'),\r\n                      [NOTI_TYPE.COMMENT]: i18n.t('notification.commented'),\r\n                      [NOTI_TYPE.FOLLOW]: i18n.t('notification.followed'),\r\n                      [NOTI_TYPE.REPLY]: i18n.t('notification.replied')\r\n                    }\r\n                    store.dispatch(GetNotification.get())\r\n                    notification.open({\r\n                      message: `${noti?.sender?.name} ${\r\n                        NOTI_TEXT[noti?.type]\r\n                      } ${getNotiContent(noti)}`,\r\n                      onClick: () => {\r\n                        if (\r\n                          noti.type === NOTI_TYPE.LIKE ||\r\n                          noti.type === NOTI_TYPE.COMMENT ||\r\n                          noti.type === NOTI_TYPE.REPLY\r\n                        ) {\r\n                          if (noti?.recipe) {\r\n                            history.push(`/recipe/${noti?.recipe?.id}`)\r\n                          }\r\n                        } else if (noti.type === NOTI_TYPE.FOLLOW) {\r\n                          history.push(\r\n                            `/profile?page=${PROFILE_PAGE.RECIPE}&user=${noti?.sender.id}`\r\n                          )\r\n                        }\r\n                        store.dispatch(\r\n                          UpdateNotification.get({\r\n                            ...noti,\r\n                            read: true\r\n                          })\r\n                        )\r\n                      }\r\n                    })\r\n                  })\r\n                })\r\n                .catch(err => {\r\n                  console.log({ err })\r\n                })\r\n            }\r\n            return SignInRequestSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(\r\n            i18n.t('common.information'),\r\n            i18n.t('common.signinErr')\r\n          )\r\n          return SignInRequestFailed.get(result.data.err)\r\n        }),\r\n        catchError(error => {\r\n          return SignInRequestFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst signupEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(SignUpRequest.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'user',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            if (action.payload?.role === ROLES.MOD) {\r\n              // store.dispatch(GetUsers.get({ role: ROLES.TEACHER }))\r\n            } else {\r\n              store.dispatch(replace('/signin', { from: '/signup' }))\r\n              GlobalModal.alertMessage(\r\n                i18n.t('common.information'),\r\n                i18n.t('common.signupSuccess')\r\n              )\r\n            }\r\n            return SignUpRequestSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(\r\n            i18n.t('common.information'),\r\n            result.data?.message\r\n          )\r\n          return SignUpRequestFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return SignUpRequestFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst changePassEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(ChangePassword.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: `auth/change-password`,\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              i18n.t('createPass.changePassSuccess'),\r\n              MODAL_TYPE.NORMAL,\r\n              () => {\r\n                store.dispatch(SignOut.get())\r\n              }\r\n            )\r\n            return ChangePasswordSuccess.get(result.data)\r\n          } else if (result.status === 400) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              i18n.t('createPass.wrongOldPass')\r\n            )\r\n            return ChangePasswordFailed.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(\r\n            i18n.t('common.information'),\r\n            result.data?.message\r\n          )\r\n          return ChangePasswordFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return ChangePasswordFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getProfileEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetProfile.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `user/${action.payload}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetProfileSuccess.get(result.data?.user)\r\n          }\r\n          return GetProfileFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetProfileFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getMenuEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetMenu.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: `menu`,\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetMenuSuccess.get(result.data?.result)\r\n          }\r\n          return GetMenuFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetMenuFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst deleteRecipeInMenuEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(DeleteRecipeInMenu.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'DELETE',\r\n        url: `menu/${action.payload?.id}`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(\r\n              GetMenu.get({\r\n                startDate: action.payload?.start?.format(),\r\n                endDate: action.payload?.end?.format()\r\n              })\r\n            )\r\n            return DeleteRecipeInMenuSuccess.get(result.data)\r\n          }\r\n          return DeleteRecipeInCollectionFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return DeleteRecipeInCollectionFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst updateUserProfileEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(UpdateProfile.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'PUT',\r\n        url: `user/${action.payload.id}`,\r\n        param: action.payload.data\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetProfile.get(action.payload.id))\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              i18n.t('profile.updateProfileSucceed')\r\n            )\r\n            return UpdateProfileSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage(\r\n            i18n.t('common.information'),\r\n            result.data?.message\r\n          )\r\n          return UpdateProfileFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return UpdateProfileFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst resetPasswordEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(ResetPassword.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'auth/forgot-password',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              i18n.t('common.forgotPassSuccess'),\r\n              MODAL_TYPE.NORMAL,\r\n              () => store.dispatch(replace('/'))\r\n            )\r\n            return ResetPasswordSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return ResetPasswordFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return ResetPasswordFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst createPasswordEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(CreatePassword.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'auth/new-password',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            GlobalModal.alertMessage(\r\n              i18n.t('common.information'),\r\n              i18n.t('common.updatePassSuccess'),\r\n              MODAL_TYPE.NORMAL,\r\n              () => store.dispatch(replace('/signin'))\r\n            )\r\n            return CreatePasswordSuccess.get(result.data)\r\n          }\r\n          GlobalModal.alertMessage()\r\n          return CreatePasswordFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return CreatePasswordFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst refreshTokenEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(RefreshToken.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: 'auth/refresh-token',\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return RefreshTokenSuccess.get(result.data)\r\n          }\r\n          return RefreshTokenFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return RefreshTokenFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst updateNotificationEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(UpdateNotification.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'PUT',\r\n        url: `notification/${action.payload?.id}`,\r\n        param: action.payload\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            store.dispatch(GetNotification.get())\r\n            return UpdateNotificationSuccess.get(result.data)\r\n          }\r\n          return UpdateNotificationFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return UpdateNotificationFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst getNotiListEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(GetNotification.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'GET',\r\n        url: 'notification'\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return GetNotificationSuccess.get(result.data)\r\n          }\r\n          return GetNotificationFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return GetNotificationFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nconst logoutEpic$ = action$ =>\r\n  action$.pipe(\r\n    ofType(SignOut.type),\r\n    exhaustMap(action => {\r\n      return request({\r\n        method: 'POST',\r\n        url: `auth/logout`\r\n      }).pipe(\r\n        map(result => {\r\n          if (result.status === 200) {\r\n            return SignOutSuccess.get(result.data)\r\n          }\r\n          return SignOutFailed.get(result)\r\n        }),\r\n        catchError(error => {\r\n          return SignOutFailed.get(error)\r\n        })\r\n      )\r\n    })\r\n  )\r\n\r\nexport const authEpics = combineEpics(\r\n  signinEpic$,\r\n  signupEpic$,\r\n  resetPasswordEpic$,\r\n  createPasswordEpic$,\r\n  changePassEpic$,\r\n  updateUserProfileEpic$,\r\n  getProfileEpic$,\r\n  getMenuEpic$,\r\n  deleteRecipeInMenuEpic$,\r\n  refreshTokenEpic$,\r\n  getNotiListEpic$,\r\n  updateNotificationEpic$,\r\n  logoutEpic$\r\n)\r\n","import { createEpics } from 'pages/CreateRecipe/redux/epics'\r\nimport { dashboardEpics } from 'pages/Dashboard/redux/epics'\r\nimport { homeEpics } from 'pages/Home/redux/epics'\r\nimport { profileEpics } from 'pages/Profile/redux/epics'\r\nimport { recipeEpics } from 'pages/Recipe/redux/epics'\r\nimport { searchEpics } from 'pages/SearchRecipe/redux/epics'\r\nimport { authEpics } from 'pages/SignIn/redux/epics'\r\nimport { combineEpics } from 'redux-observable'\r\n\r\nexport const rootEpic = combineEpics(\r\n  authEpics,\r\n  createEpics,\r\n  recipeEpics,\r\n  profileEpics,\r\n  dashboardEpics,\r\n  searchEpics,\r\n  homeEpics\r\n)\r\n","import { GetAllCategoriesSuccess } from 'pages/Dashboard/redux/actions'\r\nimport { ResetReducer } from 'pages/SignIn/redux/actions'\r\nimport { SearchIngredientSuccess } from './actions'\r\nconst initialState = {\r\n  ingredients: [],\r\n  categories: []\r\n}\r\n\r\nexport function createReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SearchIngredientSuccess.type:\r\n      return {\r\n        ...state,\r\n        ingredients: action.payload\r\n      }\r\n    case GetAllCategoriesSuccess.type:\r\n      return {\r\n        ...state,\r\n        categories: action.payload\r\n      }\r\n    case ResetReducer.type:\r\n      return initialState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","export const PAGE = {\r\n  CATEGORY: 'CATEGORY',\r\n  COURSE: 'COURSE',\r\n  STUDENT: 'STUDENT',\r\n  TEACHER: 'TEACHER',\r\n  PROFILE: 'PROFILE'\r\n}\r\n\r\nexport const ACCOUNT_STATUS = [\r\n  {\r\n    value: 0,\r\n    text: 'Verified'\r\n  },\r\n  {\r\n    value: 3,\r\n    text: 'Not verified'\r\n  }\r\n]\r\n","import { PAGE } from 'pages/Dashboard/constant'\r\nimport { SignOut } from 'pages/SignIn/redux/actions'\r\nimport {\r\n  GetAllCategories,\r\n  GetAllCategoriesFailed,\r\n  GetAllCategoriesSuccess,\r\n  GetAllCourses,\r\n  GetAllCoursesFailed,\r\n  GetAllCoursesSuccess,\r\n  GetUserProfile,\r\n  GetUserProfileFailed,\r\n  GetUserProfileSuccess,\r\n  GetUsers,\r\n  GetUsersFailed,\r\n  GetUsersSuccess,\r\n  SetCurrentPage\r\n} from './actions'\r\nconst initialState = {\r\n  isLoading: false,\r\n  isLoadingDashboard: false,\r\n  currentPage: PAGE.CATEGORY,\r\n  detailPage: null,\r\n  categoryList: [],\r\n  userList: [],\r\n  userDetail: null,\r\n  courseList: []\r\n}\r\n\r\nexport function dashboardReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GetAllCategories.type:\r\n      return { ...state, isLoading: true }\r\n    case GetAllCategoriesSuccess.type:\r\n      return { ...state, categoryList: action.payload, isLoading: false }\r\n    case GetAllCategoriesFailed.type:\r\n      return { ...state, isLoading: false }\r\n    case GetUsers.type:\r\n      return { ...state, isLoading: true }\r\n    case GetUsersSuccess.type:\r\n      return { ...state, userList: action.payload, isLoading: false }\r\n    case GetUsersFailed.type:\r\n      return { ...state, isLoading: false }\r\n    case GetUserProfile.type:\r\n      return { ...state, isLoading: true }\r\n    case GetUserProfileSuccess.type:\r\n      return { ...state, userDetail: action.payload, isLoading: false }\r\n    case GetUserProfileFailed.type:\r\n      return { ...state, isLoading: false }\r\n    case GetAllCourses.type:\r\n      return { ...state, isLoading: true }\r\n    case GetAllCoursesSuccess.type:\r\n      return {\r\n        ...state,\r\n        courseList: action.payload.page\r\n          ? action.payload.results\r\n          : action.payload,\r\n        page: action.payload.page,\r\n        isLoading: false\r\n      }\r\n    case GetAllCoursesFailed.type:\r\n      return { ...state, isLoading: false }\r\n    case SetCurrentPage.type:\r\n      return {\r\n        ...state,\r\n        currentPage: action.payload.currentPage,\r\n        detailPage: action.payload.detailPage\r\n      }\r\n    case SignOut.type:\r\n      return initialState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  GetHomeRecipe,\r\n  GetHomeRecipeFailed,\r\n  GetHomeRecipeSuccess\r\n} from './actions'\r\nconst initialState = {\r\n  isLoading: false,\r\n  recommend: [],\r\n  highlight: []\r\n}\r\n\r\nexport function homeReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GetHomeRecipe.type:\r\n      return { ...state, isLoading: true }\r\n    case GetHomeRecipeSuccess.type:\r\n      return {\r\n        ...state,\r\n        recommend:\r\n          action.payload?.type === 1 ? action.payload?.data : state.recommend,\r\n        highlight:\r\n          action.payload?.type === 2 ? action.payload?.data : state.highlight,\r\n        isLoading: false\r\n      }\r\n    case GetHomeRecipeFailed.type:\r\n      return { ...state, isLoading: false }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import {\r\n  GetProfile,\r\n  GetProfileFailed,\r\n  GetProfileSuccess,\r\n  ResetReducer\r\n} from 'pages/SignIn/redux/actions'\r\nimport {\r\n  GetCollectionDetail,\r\n  GetCollectionDetailFailed,\r\n  GetCollectionDetailSuccess,\r\n  GetCollections,\r\n  GetCollectionsFailed,\r\n  GetCollectionsSuccess,\r\n  GetFollowerSuccess,\r\n  GetFollowingSuccess,\r\n  GetRecipeOfUser,\r\n  GetRecipeOfUserFailed,\r\n  GetRecipeOfUserSuccess\r\n} from './actions'\r\nconst initialState = {\r\n  collections: [],\r\n  collectionDetail: {},\r\n  recipes: [],\r\n  followers: [],\r\n  following: [],\r\n  isLoadingCollections: false,\r\n  isLoadingCollectionDetail: false,\r\n  isLoadingRecipe: false,\r\n  userProfile: null,\r\n  isLoadingProfile: false\r\n}\r\n\r\nexport function profileReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GetCollections.type:\r\n      return {\r\n        ...state,\r\n        isLoadingCollections: true\r\n      }\r\n    case GetCollectionsSuccess.type:\r\n      return {\r\n        ...state,\r\n        collections: action.payload,\r\n        isLoadingCollections: false\r\n      }\r\n    case GetCollectionsFailed.type:\r\n      return {\r\n        ...state,\r\n        isLoadingCollections: false\r\n      }\r\n    case GetCollectionDetail.type:\r\n      return {\r\n        ...state,\r\n        isLoadingCollectionDetail: true\r\n      }\r\n    case GetCollectionDetailSuccess.type:\r\n      return {\r\n        ...state,\r\n        collectionDetail: action.payload,\r\n        isLoadingCollectionDetail: false\r\n      }\r\n    case GetCollectionDetailFailed.type:\r\n      return {\r\n        ...state,\r\n        isLoadingCollectionDetail: false\r\n      }\r\n    case GetFollowingSuccess.type:\r\n      return {\r\n        ...state,\r\n        following:\r\n          action.payload?.data && action.payload?.data?.length > 0\r\n            ? action.payload?.data\r\n            : []\r\n      }\r\n    case GetFollowerSuccess.type:\r\n      return {\r\n        ...state,\r\n        followers:\r\n          action.payload?.data && action.payload?.data?.length > 0\r\n            ? action.payload?.data\r\n            : []\r\n      }\r\n    case GetRecipeOfUser.type:\r\n      return {\r\n        ...state,\r\n        isLoadingRecipe: true\r\n      }\r\n    case GetRecipeOfUserSuccess.type:\r\n      return {\r\n        ...state,\r\n        recipes: action.payload,\r\n        isLoadingRecipe: false\r\n      }\r\n    case GetRecipeOfUserFailed.type:\r\n      return {\r\n        ...state,\r\n        isLoadingRecipe: false\r\n      }\r\n    case GetProfile.type:\r\n      return { ...state, isLoadingProfile: true }\r\n    case GetProfileSuccess.type:\r\n      return {\r\n        ...state,\r\n        userProfile: action.payload,\r\n        isLoadingProfile: false\r\n      }\r\n    case GetProfileFailed.type:\r\n      return { ...state, isLoadingProfile: false }\r\n    case ResetReducer.type:\r\n      return initialState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { ResetReducer } from 'pages/SignIn/redux/actions'\r\nimport {\r\n  GetDetailRecipe,\r\n  GetDetailRecipeFailed,\r\n  GetDetailRecipeSuccess,\r\n  UpdateIsCountdown\r\n} from './actions'\r\nconst initialState = {\r\n  recipeDetail: null,\r\n  isLoading: false,\r\n  isCountDown: false\r\n}\r\n\r\nexport function recipeReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GetDetailRecipe.type:\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      }\r\n    case GetDetailRecipeSuccess.type:\r\n      return {\r\n        ...state,\r\n        recipeDetail: action.payload,\r\n        isLoading: false\r\n      }\r\n    case GetDetailRecipeFailed.type:\r\n      return {\r\n        ...state,\r\n        isLoading: false\r\n      }\r\n    case UpdateIsCountdown.type:\r\n      return {\r\n        ...state,\r\n        isCountDown: action.payload\r\n      }\r\n    case ResetReducer.type:\r\n      return initialState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { ResetReducer } from 'pages/SignIn/redux/actions'\r\nimport {\r\n  SearchRecipes,\r\n  SearchRecipesFailed,\r\n  SearchRecipesSuccess,\r\n  SearchUsers,\r\n  SearchUsersFailed,\r\n  SearchUsersSuccess\r\n} from './actions'\r\nconst initialState = {\r\n  isLoading: false,\r\n  result: [],\r\n  resultUser: [],\r\n  currentPage: 1,\r\n  totalItems: 0\r\n}\r\n\r\nexport function searchReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SearchRecipes.type:\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      }\r\n    case SearchRecipesSuccess.type:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        result: action.payload.rows,\r\n        totalItems: action.payload.total ? Number(action.payload.total) : 0,\r\n        currentPage: action.payload.currentPage\r\n      }\r\n    case SearchRecipesFailed.type:\r\n      return {\r\n        ...state,\r\n        isLoading: false\r\n      }\r\n    case SearchUsers.type:\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      }\r\n    case SearchUsersSuccess.type:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        resultUser: action.payload.rows\r\n      }\r\n    case SearchUsersFailed.type:\r\n      return {\r\n        ...state,\r\n        isLoading: false\r\n      }\r\n    case ResetReducer.type:\r\n      return initialState\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import moment from 'moment'\r\nimport {\r\n  GetFollowerSuccess,\r\n  GetFollowingSuccess\r\n} from 'pages/Profile/redux/actions'\r\nimport i18n from 'ultis/i18n'\r\nimport {\r\n  ChangeLanguage,\r\n  ChangePassword,\r\n  ChangePasswordFailed,\r\n  ChangePasswordSuccess,\r\n  GetMenu,\r\n  GetMenuFailed,\r\n  GetMenuSuccess,\r\n  GetNotificationSuccess,\r\n  GetProfileSuccess,\r\n  RefreshTokenSuccess,\r\n  ResetReducer,\r\n  SignInRequestSuccess,\r\n  SignOutFailed,\r\n  SignOutSuccess,\r\n  UpdateCurrentOpenNoti,\r\n  UpdateProfile,\r\n  UpdateProfileFailed,\r\n  UpdateProfileSuccess,\r\n  UpdateSocket\r\n} from './actions'\r\nconst initialState = {\r\n  token: null,\r\n  tokenExp: null,\r\n  refreshToken: null,\r\n  refreshTokenExp: null,\r\n  user: null,\r\n  isLoading: false,\r\n  prevLogin: null,\r\n  isLoadingMenu: false,\r\n  menu: [],\r\n  language: i18n.language,\r\n  notifications: [],\r\n  recentOpenNoti: moment().valueOf(),\r\n  pastUserOpenNoti: {},\r\n  socket: null\r\n}\r\n\r\nexport function authReducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case SignInRequestSuccess.type:\r\n      return {\r\n        ...state,\r\n        token: action.payload.token,\r\n        tokenExp: action.payload?.tokenExp,\r\n        refreshToken: action.payload?.refreshToken,\r\n        refreshTokenExp: action.payload?.refreshTokenExp,\r\n        user: action.payload.user,\r\n        recentOpenNoti:\r\n          state.pastUserOpenNoti &&\r\n          state.pastUserOpenNoti?.hasOwnProperty(action.payload.user?.id)\r\n            ? state.pastUserOpenNoti[action.payload.user?.id]\r\n            : moment().valueOf(),\r\n        prevLogin: new Date().getTime()\r\n      }\r\n    case RefreshTokenSuccess.type: {\r\n      return {\r\n        ...state,\r\n        token: action.payload.token,\r\n        tokenExp: moment().unix() + 86400\r\n      }\r\n    }\r\n    case UpdateProfile.type:\r\n      return { ...state, isLoading: true }\r\n    case UpdateProfileSuccess.type:\r\n      return { ...state, isLoading: false }\r\n    case UpdateProfileFailed.type:\r\n      return { ...state, isLoading: false }\r\n    case ChangePassword.type:\r\n      return { ...state, isLoading: true }\r\n    case ChangePasswordSuccess.type:\r\n      return { ...state, isLoading: false }\r\n    case ChangePasswordFailed.type:\r\n      return { ...state, isLoading: false }\r\n    case ChangeLanguage.type:\r\n      return { ...state, language: action.payload }\r\n    case GetProfileSuccess.type:\r\n      return {\r\n        ...state,\r\n        user:\r\n          state.user != null && state.user?.id === action.payload?.id\r\n            ? { ...state.user, ...action.payload }\r\n            : state.user\r\n      }\r\n    case GetFollowingSuccess.type:\r\n      return {\r\n        ...state,\r\n        user:\r\n          state.user != null && state.user?.id === action.payload?.userId\r\n            ? { ...state.user, following: [...action.payload?.data] }\r\n            : state.user\r\n      }\r\n    case GetFollowerSuccess.type:\r\n      return {\r\n        ...state,\r\n        user:\r\n          state.user != null && state.user?.id === action.payload?.userId\r\n            ? { ...state.user, follower: [...action.payload?.data] }\r\n            : state.user\r\n      }\r\n    case GetMenu.type:\r\n      return { ...state, isLoadingMenu: true }\r\n    case GetMenuSuccess.type:\r\n      return { ...state, isLoadingMenu: false, menu: action.payload }\r\n    case GetMenuFailed.type:\r\n      return { ...state, isLoadingMenu: false }\r\n    case GetNotificationSuccess.type:\r\n      return {\r\n        ...state,\r\n        notifications: action.payload?.notifications?.rows || []\r\n      }\r\n    case UpdateCurrentOpenNoti.type:\r\n      const now = moment().valueOf()\r\n      return {\r\n        ...state,\r\n        recentOpenNoti: now,\r\n        pastUserOpenNoti: { ...state.pastUserOpenNoti, [state.user?.id]: now }\r\n      }\r\n    case UpdateSocket.type:\r\n      return { ...state, socket: action?.payload }\r\n    case SignOutSuccess.type:\r\n      if (state.socket && state.socket.connected) {\r\n        state.socket?.disconnect()\r\n      }\r\n      return {\r\n        ...initialState,\r\n        recentOpenNoti: state.recentOpenNoti,\r\n        pastUserOpenNoti: state.pastUserOpenNoti\r\n      }\r\n    case SignOutFailed.type:\r\n      if (state.socket && state.socket.connected) {\r\n        state.socket?.disconnect()\r\n      }\r\n      return {\r\n        ...initialState,\r\n        recentOpenNoti: state.recentOpenNoti,\r\n        pastUserOpenNoti: state.pastUserOpenNoti\r\n      }\r\n    case ResetReducer.type:\r\n      return {\r\n        ...initialState,\r\n        recentOpenNoti: state.recentOpenNoti,\r\n        pastUserOpenNoti: state.pastUserOpenNoti\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { connectRouter } from 'connected-react-router'\r\nimport { createReducer } from 'pages/CreateRecipe/redux/reducer'\r\nimport { dashboardReducer } from 'pages/Dashboard/redux/reducer'\r\nimport { homeReducer } from 'pages/Home/redux/reducer'\r\nimport { profileReducer } from 'pages/Profile/redux/reducer'\r\nimport { recipeReducer } from 'pages/Recipe/redux/reducer'\r\nimport { searchReducer } from 'pages/SearchRecipe/redux/reducer'\r\nimport { authReducer } from 'pages/SignIn/redux/reducer'\r\nimport { combineReducers } from 'redux'\r\nimport { history } from 'ultis/functions'\r\n\r\nexport const rootReducer = combineReducers({\r\n  Auth: authReducer,\r\n  Create: createReducer,\r\n  Recipe: recipeReducer,\r\n  Profile: profileReducer,\r\n  Dashboard: dashboardReducer,\r\n  Search: searchReducer,\r\n  Home: homeReducer,\r\n  router: connectRouter(history)\r\n})\r\n","import { routerMiddleware } from 'connected-react-router'\r\nimport { applyMiddleware, compose, createStore } from 'redux'\r\nimport logger from 'redux-logger'\r\nimport { createEpicMiddleware } from 'redux-observable'\r\nimport { persistReducer, persistStore } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage'\r\nimport { history, __DEV__ } from 'ultis/functions'\r\nimport { rootEpic } from './epic'\r\nimport { rootReducer } from './reducer'\r\n\r\nconst epicMiddleware = createEpicMiddleware()\r\n\r\nconst applyMiddlewarePro = applyMiddleware(\r\n  epicMiddleware,\r\n  routerMiddleware(history)\r\n)\r\nconst applyMiddlewareDev = applyMiddleware(\r\n  logger,\r\n  epicMiddleware,\r\n  routerMiddleware(history)\r\n)\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\nexport const store = createStore(\r\n  persistedReducer,\r\n  __DEV__ ? compose(applyMiddlewareDev) : compose(applyMiddlewarePro)\r\n)\r\n\r\nepicMiddleware.run(rootEpic)\r\n\r\nexport const persistor = persistStore(store)\r\n","export default __webpack_public_path__ + \"static/media/forgot_password.88496ed7.jpg\";","export default __webpack_public_path__ + \"static/media/logo.d3845182.svg\";","import { Input } from 'antd'\r\nimport 'pages/SignIn/signin.css'\r\nimport React from 'react'\r\n\r\nfunction CInput(props) {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        marginBottom: 12,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        ...props?.style\r\n      }}\r\n    >\r\n      <Input {...props} />\r\n      {props.error && <span className=\"errorStyle\">{props.error}</span>}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CInput\r\n","import { Button } from 'antd'\r\nimport forgotPic from 'assets/images/forgot_password.jpg'\r\nimport logo from 'assets/logo.svg'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport { CreatePassword } from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\nimport '../SignIn/signin.css'\r\n\r\nfunction CreatePasswordPage() {\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search)\r\n  }\r\n  const query = useQuery()\r\n  const token = query.get('code')\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.Auth?.user)\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const { t } = useTranslation()\r\n\r\n  console.log(token)\r\n\r\n  useEffect(() => {\r\n    if (user || !token) {\r\n      history.replace('/')\r\n    }\r\n  }, [user])\r\n\r\n  const validationSchema = yup.object().shape({\r\n    password: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(8, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{8,})/, {\r\n        message: t('signin.passMin')\r\n      }),\r\n    confirm: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(8, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{8,})/, {\r\n        message: t('signin.passMin')\r\n      })\r\n      .oneOf([yup.ref('password'), null], t('createPass.confirmSameAsNew'))\r\n  })\r\n\r\n  const handleCreate = values => {\r\n    dispatch(\r\n      CreatePassword.get({\r\n        password: values.password,\r\n        resetToken: token\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (isValid, event, values) => {\r\n    if (isValid && event.key === 'Enter') {\r\n      handleCreate(values)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"bg\">\r\n      <div id=\"loginBg\">\r\n        <a href=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\r\n          <img src={logo} alt=\"logo\" width={100} />\r\n        </a>\r\n        <div id=\"loginBox\">\r\n          <Formik\r\n            initialValues={{\r\n              password: '',\r\n              confirm: ''\r\n            }}\r\n            isInitialValid={false}\r\n            validationSchema={validationSchema}\r\n            onSubmit={values => handleCreate(values)}\r\n          >\r\n            {({\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              values,\r\n              isValid,\r\n              errors,\r\n              touched,\r\n              setFieldTouched\r\n            }) => {\r\n              return (\r\n                <Form className=\"formStyle\">\r\n                  <span id=\"loginStyle\">{t('createPass.title')}</span>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.password}\r\n                    onChange={handleChange('password')}\r\n                    onTouchStart={() => setFieldTouched('password')}\r\n                    onBlur={handleBlur('password')}\r\n                    placeholder={t('createPass.newPass')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.password}\r\n                    type=\"password\"\r\n                  />\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.confirm}\r\n                    onChange={handleChange('confirm')}\r\n                    onTouchStart={() => setFieldTouched('confirm')}\r\n                    onBlur={handleBlur('confirm')}\r\n                    placeholder={t('createPass.confirmPass')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.confirm}\r\n                    type=\"password\"\r\n                  />\r\n                  <Button\r\n                    style={{ marginTop: 24 }}\r\n                    id=\"loginBtn\"\r\n                    disabled={!isValid}\r\n                    type=\"primary\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {t('createPass.resetPass')}\r\n                  </Button>\r\n                </Form>\r\n              )\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n      {isDesktopOrLaptop && (\r\n        <div id=\"imgBg\" style={{ backgroundImage: `url(${forgotPic})` }} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreatePasswordPage\r\n","import React from 'react'\r\nimport './button.css'\r\n\r\nfunction ButtonBase({ children, style = {}, onClick = () => {} }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        borderRadius: 10,\r\n        padding: 8,\r\n        ...style\r\n      }}\r\n      className=\"button-base\"\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ButtonBase\r\n","import { UserOutlined } from '@ant-design/icons'\r\nimport { Avatar } from 'antd'\r\nimport Paragraph from 'antd/lib/typography/Paragraph'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport moment from 'moment'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport { UpdateNotification } from 'pages/SignIn/redux/actions'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { COLOR, getNotiContent, NOTI_TYPE } from 'ultis/functions'\r\n\r\nexport default function NotificationList() {\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const { t } = useTranslation()\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const { notifications } = useSelector(state => state.Auth)\r\n  const NOTI_TEXT = {\r\n    [NOTI_TYPE.LIKE]: t('notification.liked'),\r\n    [NOTI_TYPE.COMMENT]: t('notification.commented'),\r\n    [NOTI_TYPE.FOLLOW]: t('notification.followed'),\r\n    [NOTI_TYPE.REPLY]: t('notification.replied')\r\n  }\r\n\r\n  const onClickNoti = noti => {\r\n    if (\r\n      noti.type === NOTI_TYPE.LIKE ||\r\n      noti.type === NOTI_TYPE.COMMENT ||\r\n      noti.type === NOTI_TYPE.REPLY\r\n    ) {\r\n      if (noti?.recipe) {\r\n        history.push(`/recipe/${noti?.recipe?.id}`)\r\n      }\r\n    } else if (noti.type === NOTI_TYPE.FOLLOW) {\r\n      history.push(\r\n        `/profile?page=${PROFILE_PAGE.RECIPE}&user=${noti?.sender.id}`\r\n      )\r\n    }\r\n    dispatch(UpdateNotification.get({ ...noti, read: true }))\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        width: isDesktopOrLaptop ? 400 : '70vw',\r\n        maxHeight: 600,\r\n        borderRadius: 10,\r\n        backgroundColor: 'white',\r\n        overflowY: 'auto'\r\n      }}\r\n    >\r\n      <Title level={4} style={{ marginLeft: 12, marginTop: 12 }}>\r\n        {t('notification.notification')}\r\n      </Title>\r\n      {notifications && notifications?.length > 0 ? (\r\n        notifications?.map(item => (\r\n          <ButtonBase\r\n            style={{ alignItems: 'center' }}\r\n            onClick={() => {\r\n              onClickNoti(item)\r\n            }}\r\n          >\r\n            {item?.sender?.avatar_url ? (\r\n              <Avatar size={44} src={item?.sender?.avatar_url} />\r\n            ) : (\r\n              <Avatar size={44} icon={<UserOutlined />} />\r\n            )}\r\n            <div\r\n              style={{\r\n                paddingLeft: 12,\r\n                flex: 1,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center'\r\n              }}\r\n            >\r\n              <Paragraph\r\n                style={{\r\n                  opacity: item?.read ? 0.6 : 1,\r\n                  marginBottom: 0\r\n                }}\r\n                ellipsis={{\r\n                  rows: 2,\r\n                  expandable: false,\r\n                  suffix: ''\r\n                }}\r\n              >\r\n                <Text style={{ fontWeight: 700 }}>{item?.sender?.name}</Text>{' '}\r\n                {NOTI_TEXT[item?.type]}{' '}\r\n                <Text style={{ fontWeight: 700 }}>{getNotiContent(item)}</Text>\r\n              </Paragraph>\r\n              <Text\r\n                style={{\r\n                  color: item?.read ? COLOR.grayText : COLOR.primary1,\r\n                  fontSize: 12,\r\n                  fontWeight: 700\r\n                }}\r\n              >\r\n                {moment(item?.createdAt).fromNow()}\r\n              </Text>\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                width: 36,\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n              }}\r\n            >\r\n              {!item?.read && (\r\n                <div\r\n                  style={{\r\n                    borderRadius: 50,\r\n                    width: 12,\r\n                    height: 12,\r\n                    backgroundColor: COLOR.primary1\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </ButtonBase>\r\n        ))\r\n      ) : (\r\n        <Text style={{ marginLeft: 12, marginTop: 12 }}>\r\n          {t('notification.noNotification')}\r\n        </Text>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { UserOutlined } from '@ant-design/icons'\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  Button,\r\n  Drawer,\r\n  Dropdown,\r\n  Input,\r\n  Menu,\r\n  Popover,\r\n  Typography\r\n} from 'antd'\r\nimport moment from 'moment'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport {\r\n  ChangeLanguage,\r\n  GetNotification,\r\n  SignOut,\r\n  UpdateCurrentOpenNoti\r\n} from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiBell, FiMenu, FiSearch, FiUser, FiX } from 'react-icons/fi'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { COLOR, getCurrentLng, ROLES } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\nimport 'moment/locale/vi'\r\nimport NotificationList from './components/NotificationList'\r\n\r\nconst { Text } = Typography\r\nfunction AppHeader(props) {\r\n  const [visible, setVisible] = useState(false)\r\n  const [searchText, setSearchText] = useState('')\r\n  const [showSearchBar, setShowSearchBar] = useState(false)\r\n  const history = useHistory()\r\n  const location = useLocation()\r\n  const { user, notifications, recentOpenNoti } = useSelector(\r\n    state => state.Auth\r\n  )\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const currentLng = getCurrentLng().substring(0, 2).toUpperCase()\r\n  const unreadNotiCount =\r\n    notifications && notifications?.length > 0\r\n      ? notifications?.filter(\r\n          item =>\r\n            moment(item?.createdAt).isAfter(recentOpenNoti, 'seconds') &&\r\n            item?.read === false\r\n        )?.length\r\n      : 0\r\n\r\n  useEffect(() => {\r\n    dispatch(ChangeLanguage.get(currentLng.toLowerCase()))\r\n    if (user) {\r\n      dispatch(GetNotification.get())\r\n    }\r\n    moment.locale(currentLng.toLowerCase())\r\n  }, [])\r\n\r\n  const menu = (\r\n    <Menu>\r\n      <Menu.Item>\r\n        <Button\r\n          type=\"text\"\r\n          onClick={() => {\r\n            i18n.changeLanguage('vi')\r\n            dispatch(ChangeLanguage.get('vi'))\r\n            moment.locale('vi')\r\n          }}\r\n          style={{ fontSize: 12 }}\r\n        >\r\n          VI\r\n        </Button>\r\n      </Menu.Item>\r\n      <Menu.Item>\r\n        <Button\r\n          type=\"text\"\r\n          onClick={() => {\r\n            i18n.changeLanguage('en')\r\n            dispatch(ChangeLanguage.get('en'))\r\n            moment.locale('en')\r\n          }}\r\n          style={{ fontSize: 12 }}\r\n        >\r\n          EN\r\n        </Button>\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true)\r\n  }\r\n\r\n  const onClose = () => {\r\n    setVisible(false)\r\n  }\r\n\r\n  const handleKeyPress = event => {\r\n    if (searchText.trim().length > 0 && event.key === 'Enter') {\r\n      history.push(`/recipes?search=${searchText}`)\r\n    }\r\n  }\r\n\r\n  const userPopover = (\r\n    <Menu style={{ width: 200 }}>\r\n      <Menu.Item\r\n        key={'profile'}\r\n        onClick={() => {\r\n          history.push(`/profile?page=${PROFILE_PAGE.RECIPE}`)\r\n        }}\r\n      >\r\n        {t('auth.profile')}\r\n      </Menu.Item>\r\n      <Menu.Item\r\n        key={'logout'}\r\n        onClick={() => {\r\n          dispatch(SignOut.get())\r\n        }}\r\n      >\r\n        {t('auth.logout')}\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n\r\n  const adminPopover = (\r\n    <Menu style={{ width: 200 }}>\r\n      <Menu.Item\r\n        key={'dashboard'}\r\n        onClick={() => {\r\n          history.push(`/admin`)\r\n        }}\r\n      >\r\n        {t('auth.dashboard')}\r\n      </Menu.Item>\r\n      <Menu.Item\r\n        key={'logout'}\r\n        onClick={() => {\r\n          dispatch(SignOut.get())\r\n        }}\r\n      >\r\n        {t('auth.logout')}\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"header\">\r\n        <div style={{ display: 'flex' }}>\r\n          <div id=\"logo\">\r\n            <span\r\n              id=\"logoText\"\r\n              onClick={() =>\r\n                history.push({\r\n                  pathname: '/',\r\n                  state: { from: `/` }\r\n                })\r\n              }\r\n            >\r\n              MAM\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"mobileHidden\">\r\n          <Button\r\n            type=\"link\"\r\n            style={{ marginRight: 16 }}\r\n            onClick={() => history.push('/recipes')}\r\n          >\r\n            {t('home.browse')}\r\n          </Button>\r\n          <Button type=\"link\" style={{ marginRight: 16 }}>\r\n            {t('home.recipes').toLocaleUpperCase()}\r\n          </Button>\r\n          {user && (\r\n            <Button\r\n              type=\"link\"\r\n              style={{ marginRight: 16 }}\r\n              onClick={() => history.push('/meal-planner')}\r\n            >\r\n              {t('home.mealPlanner')}\r\n            </Button>\r\n          )}\r\n          {!(props?.from === 'create') && user && (\r\n            <Button\r\n              type=\"link\"\r\n              style={{ marginRight: 16 }}\r\n              onClick={() => history.push('/create')}\r\n            >\r\n              {t('home.createRecipe')}\r\n            </Button>\r\n          )}\r\n          {showSearchBar && (\r\n            <Input\r\n              style={styles.inputStyle}\r\n              onChange={event => setSearchText(event.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder={t('home.searchPlaceholder')}\r\n              suffix={<FiSearch size={20} color={COLOR.primary1} />}\r\n            />\r\n          )}\r\n          {!showSearchBar && (\r\n            <Button\r\n              type=\"link\"\r\n              style={{ marginRight: 16 }}\r\n              onClick={() => setShowSearchBar(!showSearchBar)}\r\n              icon={<FiSearch size={20} color={COLOR.primary1} />}\r\n            />\r\n          )}\r\n          {user && (\r\n            <Popover\r\n              placement=\"bottomLeft\"\r\n              content={<NotificationList />}\r\n              trigger=\"click\"\r\n            >\r\n              <Badge\r\n                offset={[-18, 8]}\r\n                count={\r\n                  unreadNotiCount ? (\r\n                    <div\r\n                      style={{\r\n                        backgroundColor: 'red',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        borderRadius: 12,\r\n                        height: 20,\r\n                        width: unreadNotiCount > 9 ? 28 : 20\r\n                      }}\r\n                    >\r\n                      <Text\r\n                        style={{\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {unreadNotiCount > 9 ? '9+' : unreadNotiCount}\r\n                      </Text>\r\n                    </div>\r\n                  ) : null\r\n                }\r\n                overflowCount={9}\r\n              >\r\n                <Button\r\n                  type=\"link\"\r\n                  style={{ marginRight: 16 }}\r\n                  onClick={() => {\r\n                    dispatch(UpdateCurrentOpenNoti.get())\r\n                  }}\r\n                  icon={<FiBell size={20} color={COLOR.primary1} />}\r\n                />\r\n              </Badge>\r\n            </Popover>\r\n          )}\r\n          {user ? (\r\n            <Popover\r\n              placement=\"bottomRight\"\r\n              content={user?.role === ROLES.USER ? userPopover : adminPopover}\r\n              trigger=\"click\"\r\n            >\r\n              <Button\r\n                type=\"link\"\r\n                style={{ marginRight: 16 }}\r\n                onClick={() => {}}\r\n                icon={<FiUser size={20} color={COLOR.primary1} />}\r\n              />\r\n            </Popover>\r\n          ) : (\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={() =>\r\n                history.push({\r\n                  pathname: '/signin',\r\n                  state: { from: `${location.pathname}${location.search}` }\r\n                })\r\n              }\r\n            >\r\n              {t('auth.login').toLocaleUpperCase()}\r\n            </Button>\r\n          )}\r\n          <Dropdown overlay={menu} placement=\"bottomRight\">\r\n            <Button type=\"link\" style={{ fontSize: 12 }}>\r\n              {currentLng}\r\n            </Button>\r\n          </Dropdown>\r\n        </div>\r\n        <div className=\"mobileVisible\">\r\n          <Button\r\n            type=\"link\"\r\n            style={{ marginRight: 24 }}\r\n            onClick={() => history.push('/recipes')}\r\n            icon={<FiSearch size={20} color={COLOR.primary1} />}\r\n          />\r\n          {user && (\r\n            <Popover\r\n              placement=\"bottomLeft\"\r\n              content={<NotificationList />}\r\n              trigger=\"click\"\r\n            >\r\n              <Badge\r\n                offset={[-26, 8]}\r\n                count={\r\n                  unreadNotiCount ? (\r\n                    <div\r\n                      style={{\r\n                        backgroundColor: 'red',\r\n                        display: 'flex',\r\n                        flexDirection: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        borderRadius: 12,\r\n                        height: 20,\r\n                        width: unreadNotiCount > 9 ? 28 : 20\r\n                      }}\r\n                    >\r\n                      <Text\r\n                        style={{\r\n                          color: 'white'\r\n                        }}\r\n                      >\r\n                        {unreadNotiCount > 9 ? '9+' : unreadNotiCount}\r\n                      </Text>\r\n                    </div>\r\n                  ) : null\r\n                }\r\n                overflowCount={9}\r\n              >\r\n                <Button\r\n                  type=\"link\"\r\n                  style={{ marginRight: 24 }}\r\n                  onClick={() => {\r\n                    dispatch(UpdateCurrentOpenNoti.get())\r\n                  }}\r\n                  icon={<FiBell size={20} color={COLOR.primary1} />}\r\n                />\r\n              </Badge>\r\n            </Popover>\r\n          )}\r\n          <Button\r\n            type=\"link\"\r\n            onClick={showDrawer}\r\n            icon={<FiMenu size={20} color={COLOR.primary1} />}\r\n          />\r\n          <Drawer\r\n            placement=\"right\"\r\n            closable={false}\r\n            onClose={onClose}\r\n            visible={visible}\r\n          >\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'flex-start'\r\n              }}\r\n            >\r\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                {!(props?.from === 'create') && user && (\r\n                  <Button\r\n                    type=\"default\"\r\n                    onClick={() => history.push('/create')}\r\n                  >\r\n                    {t('home.createRecipe')}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  type=\"link\"\r\n                  onClick={onClose}\r\n                  icon={<FiX size={20} color={COLOR.gray} />}\r\n                />\r\n              </div>\r\n              <Button\r\n                type=\"link\"\r\n                style={{ marginTop: 24, padding: 0 }}\r\n                onClick={() => history.push('/recipes')}\r\n              >\r\n                {t('home.browse')}\r\n              </Button>\r\n              <Button type=\"link\" style={{ marginTop: 12, padding: 0 }}>\r\n                {t('home.recipes').toLocaleUpperCase()}\r\n              </Button>\r\n              {user && (\r\n                <Button\r\n                  type=\"link\"\r\n                  style={{ marginTop: 12, padding: 0, marginBottom: 24 }}\r\n                  onClick={() => history.push('/meal-planner')}\r\n                >\r\n                  {t('home.mealPlanner')}\r\n                </Button>\r\n              )}\r\n\r\n              {user ? (\r\n                user?.avatar_url ? (\r\n                  <Popover\r\n                    placement=\"bottomRight\"\r\n                    content={\r\n                      user?.role === ROLES.USER ? userPopover : adminPopover\r\n                    }\r\n                    trigger=\"click\"\r\n                  >\r\n                    <Avatar size={48} src={user?.avatar_url} />\r\n                  </Popover>\r\n                ) : (\r\n                  <Popover\r\n                    placement=\"bottomRight\"\r\n                    content={\r\n                      user?.role === ROLES.USER ? userPopover : adminPopover\r\n                    }\r\n                    trigger=\"click\"\r\n                  >\r\n                    <Avatar size={48} icon={<UserOutlined />} />\r\n                  </Popover>\r\n                )\r\n              ) : (\r\n                <Button\r\n                  type=\"primary\"\r\n                  style={{ marginTop: 24 }}\r\n                  onClick={() =>\r\n                    history.push({\r\n                      pathname: '/signin',\r\n                      state: { from: `${location.pathname}${location.search}` }\r\n                    })\r\n                  }\r\n                >\r\n                  {t('auth.login').toLocaleUpperCase()}\r\n                </Button>\r\n              )}\r\n              <Dropdown overlay={menu} placement=\"bottomLeft\" arrow>\r\n                <Button\r\n                  type=\"text\"\r\n                  style={{ marginTop: 24, padding: 0, fontSize: 12 }}\r\n                >\r\n                  {currentLng}\r\n                </Button>\r\n              </Dropdown>\r\n            </div>\r\n          </Drawer>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  inputStyle: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    marginRight: 48,\r\n    boxShadow: '1px 2px 3px rgba(0, 0, 0, 0.15)',\r\n    borderRadius: 10,\r\n    borderColor: 'transparent'\r\n  }\r\n}\r\n\r\nexport default AppHeader\r\n","const cloudinary = require('cloudinary/lib/cloudinary')\r\ncloudinary.config({\r\n  cloud_name: 'mammam-cookbook-github-io',\r\n  api_key: '813874793485264',\r\n  api_secret: 'KastK_zfQ5v2-ZktRII6geP-Zdc'\r\n})\r\n\r\nexport const upload = async image => {\r\n  try {\r\n    const link = await cloudinary.uploader.upload(image)\r\n    return link\r\n  } catch (error) {\r\n    console.log('===============imgae upload service ===========', error)\r\n    return { error: error.message }\r\n  }\r\n}\r\n\r\nexport const deleteImg = async publicId => {\r\n  try {\r\n    const result = await cloudinary.uploader.destroy(publicId)\r\n    return result\r\n  } catch (error) {\r\n    console.log('===============imgae upload service ===========', error)\r\n    return { error: error.message }\r\n  }\r\n}\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport { Button, Spin } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport React, { useRef, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiUpload, FiX } from 'react-icons/fi'\r\nimport { COLOR } from 'ultis/functions'\r\nimport { deleteImg, upload } from 'ultis/uploadImage'\r\n\r\nconst loadingIcon = <LoadingOutlined style={{ fontSize: 24 }} spin />\r\nconst MAX_IMAGES = 3\r\nfunction ImageUpload(props) {\r\n  const inputRef = useRef()\r\n  const { t } = useTranslation()\r\n  const [isUploading, setIsUploading] = useState(false)\r\n  const canUpload = props.value && props.value.length < MAX_IMAGES\r\n\r\n  const uploadList = async list => {\r\n    let newList = props.value || []\r\n    const lengthLeft = MAX_IMAGES - newList.length\r\n    const addLength = lengthLeft < list.length ? lengthLeft : list.length\r\n    if (newList.length < 3) {\r\n      props?.setIsUploading && props?.setIsUploading(true)\r\n      setIsUploading(true)\r\n      for (let i = 0; i < addLength; i++) {\r\n        const link = await addPictureStep(list[i])\r\n        newList.push({ name: list[i].name, src: link })\r\n      }\r\n      props?.setIsUploading && props?.setIsUploading(true)\r\n      props?.onChange && props.onChange(newList)\r\n      setIsUploading(false)\r\n    }\r\n  }\r\n\r\n  const addPictureStep = async picture => {\r\n    return new Promise((resolve, reject) => {\r\n      let reader = new FileReader()\r\n      reader.readAsDataURL(picture)\r\n      reader.onloadend = async () => {\r\n        const link = await upload(reader.result)\r\n        resolve(link)\r\n      }\r\n    })\r\n  }\r\n\r\n  const removeImg = async index => {\r\n    let tmp = props.value\r\n    const deleteResult = await deleteImg(tmp[index].src.public_id)\r\n    if (deleteResult.result === 'ok') {\r\n      tmp.splice(index, 1)\r\n      if (props?.step) {\r\n        props.onDelete(tmp)\r\n      } else {\r\n        props.onChange(tmp)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{ ...props.style, display: 'flex', flex: 1 }}\r\n      className=\"img-upload-container\"\r\n    >\r\n      <input\r\n        accept=\"image/*\"\r\n        style={{ display: 'none' }}\r\n        ref={inputRef}\r\n        type=\"file\"\r\n        multiple\r\n        onChange={e => {\r\n          if (e.target.files.length > 0 && canUpload) {\r\n            uploadList(e.target.files)\r\n          }\r\n        }}\r\n      />\r\n      <div\r\n        style={{\r\n          width: 200,\r\n          height: 200,\r\n          backgroundColor: 'rgba(196, 196, 196, 0.4)',\r\n          borderColor: COLOR.primary1,\r\n          borderWidth: 1,\r\n          borderRadius: 10,\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          justifyContent: 'center',\r\n          alignItems: 'center'\r\n        }}\r\n        onClick={() => {\r\n          if (canUpload && !isUploading) {\r\n            inputRef.current.click()\r\n          }\r\n        }}\r\n      >\r\n        {!isUploading && <FiUpload size={48} color={COLOR.primary1} />}\r\n        {!isUploading && (\r\n          <Text style={{ color: COLOR.primary1, textAlign: 'center' }}>\r\n            {t('create.uploadThumbnail')}\r\n          </Text>\r\n        )}\r\n        {!isUploading && canUpload && (\r\n          <Text style={{ color: COLOR.primary1, textAlign: 'center' }}>\r\n            {t('create.maxImg')}\r\n          </Text>\r\n        )}\r\n        {!isUploading && !canUpload && (\r\n          <Text style={{ color: COLOR.primary1, textAlign: 'center' }}>\r\n            {t('create.maxReach')}\r\n          </Text>\r\n        )}\r\n        {isUploading && <Spin indicator={loadingIcon} />}\r\n        {isUploading && (\r\n          <Text style={{ color: COLOR.primary1, textAlign: 'center' }}>\r\n            {t('create.uploading')}\r\n          </Text>\r\n        )}\r\n      </div>\r\n      <div style={{}}>\r\n        {props?.error && (\r\n          <Text style={{ color: 'red', paddingLeft: 24 }}>{props.error}</Text>\r\n        )}\r\n        {props.value &&\r\n          props.value.length > 0 &&\r\n          props.value.map((item, index) => (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between',\r\n                marginBottom: 8,\r\n                flex: 1,\r\n                width: '100%'\r\n              }}\r\n              key={`upload-${index}`}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'row',\r\n                  alignItems: 'center'\r\n                }}\r\n              >\r\n                <span\r\n                  style={{\r\n                    ...style.imageSrc,\r\n                    backgroundImage: `url(\"${item.src.url}\")`\r\n                  }}\r\n                />\r\n                <Text\r\n                  ellipsis\r\n                  style={{ display: 'flex', flex: 1, maxWidth: '15vw' }}\r\n                >\r\n                  {item?.name}\r\n                </Text>\r\n              </div>\r\n              <Button\r\n                type=\"link\"\r\n                shape=\"circle\"\r\n                onClick={() => removeImg(index)}\r\n                icon={<FiX size={28} color=\"black\" />}\r\n              />\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nImageUpload.defaultProps = {\r\n  onChange: data => {},\r\n  style: {},\r\n  value: []\r\n}\r\n\r\nexport default ImageUpload\r\n\r\nconst style = {\r\n  imageSrc: {\r\n    width: 84,\r\n    height: 84,\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center 40%',\r\n    borderRadius: 9,\r\n    marginLeft: 16,\r\n    marginRight: 16\r\n  }\r\n}\r\n","import { Button, Input, Select, Typography } from 'antd'\r\nimport CInput from 'components/CInput'\r\nimport _ from 'lodash'\r\nimport 'pages/CreateRecipe/create.css'\r\nimport 'pages/SignIn/signin.css'\r\nimport React, { useCallback, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSelector } from 'react-redux'\r\nimport { capitalizeFirstLetter, COLOR } from 'ultis/functions'\r\n\r\nconst { Text, Title } = Typography\r\nconst { TextArea } = Input\r\nconst { Option } = Select\r\n\r\nfunction Ingredient({\r\n  isAdd = true,\r\n  style = {},\r\n  item,\r\n  index,\r\n  onChange = value => {},\r\n  onRemove = () => {},\r\n  onAdd = value => {},\r\n  onChangeCustomUnit = unit => {},\r\n  error\r\n}) {\r\n  const { t } = useTranslation()\r\n  const user = useSelector(state => state.Auth.user)\r\n  const [unitSelected, setUnitSelected] = useState(item.selectUnit || 0)\r\n  const [amount, setAmount] = useState(item.selectAmount || 1)\r\n\r\n  const delayedQuery = useCallback(\r\n    _.debounce(q => {\r\n      setAmount(Number(q))\r\n      onChange({ ...item, selectAmount: Number(q) })\r\n    }, 500),\r\n    []\r\n  )\r\n\r\n  const changeAmount = text => {\r\n    // delayedQuery(text)\r\n    setAmount(Number(text))\r\n    onChange({ ...item, selectAmount: Number(text) })\r\n  }\r\n\r\n  const changeUnit = unitIndex => {\r\n    setUnitSelected(unitIndex)\r\n    onChange({ ...item, selectUnit: unitIndex })\r\n  }\r\n\r\n  const delayedChangeCustomUnit = useCallback(\r\n    _.debounce(q => {\r\n      onChangeCustomUnit(q)\r\n    }, 500),\r\n    []\r\n  )\r\n\r\n  const changeCustomUnit = text => {\r\n    delayedChangeCustomUnit(text)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        ...style\r\n      }}\r\n      className=\"ingredient-create\"\r\n      key={item.id}\r\n    >\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          paddingRight: 12\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            position: 'relative',\r\n            borderRadius: 10,\r\n            height: 100,\r\n            width: 100\r\n          }}\r\n        >\r\n          {item.img ? (\r\n            <span\r\n              className=\"imgSrc\"\r\n              style={{ backgroundImage: `url(\"${item.img}\")` }}\r\n            />\r\n          ) : (\r\n            <span className=\"imgSrcDefault\" />\r\n          )}\r\n          <div className=\"bgName\">\r\n            <Text style={{ fontWeight: 600 }}>\r\n              {capitalizeFirstLetter(item.name)}\r\n            </Text>\r\n          </div>\r\n        </div>\r\n        {item?.unit &&\r\n        item?.unit?.length > 0 &&\r\n        item.unit[unitSelected]?.calories ? (\r\n          <Text style={{ fontWeight: 600, color: COLOR.grayText }}>\r\n            {Number(item.unit[unitSelected].calories) *\r\n              (amount / Number(item.unit[unitSelected].number_of_units))}{' '}\r\n            kcal\r\n          </Text>\r\n        ) : (\r\n          <Text style={{ fontWeight: 600, color: COLOR.grayText }}>0 kcal</Text>\r\n        )}\r\n      </div>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flex: 1,\r\n          flexDirection: 'column'\r\n        }}\r\n      >\r\n        <CInput\r\n          style={{ borderColor: COLOR.primary1, maxWidth: '100%' }}\r\n          className=\"inputBox\"\r\n          value={amount}\r\n          onChange={event => changeAmount(event.target.value)}\r\n          placeholder={'200'}\r\n          type=\"number\"\r\n          error={error?.selectAmount}\r\n        />\r\n        {!item?.id?.includes(user.id) ? (\r\n          <Select\r\n            style={{\r\n              borderColor: COLOR.primary1,\r\n              width: '100%',\r\n              maxWidth: 190\r\n            }}\r\n            placeholder={t('create.measurePlaceholder')}\r\n            defaultValue={unitSelected}\r\n            onChange={value => changeUnit(value)}\r\n          >\r\n            {item.unit.map((unitItem, index) => (\r\n              <Option value={index} key={`ingredient${index}`}>\r\n                {unitItem.measurement_description}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        ) : (\r\n          <CInput\r\n            style={{\r\n              borderColor: COLOR.primary1,\r\n              width: '100%'\r\n              // maxWidth: 190\r\n            }}\r\n            defaultValue={item.unit[0].measurement_description}\r\n            placeholder={t('create.measurePlaceholder')}\r\n            onChange={event => onChangeCustomUnit(event.target.value)}\r\n          />\r\n        )}\r\n        <Button\r\n          type=\"primary\"\r\n          style={{ marginTop: 12 }}\r\n          onClick={\r\n            isAdd\r\n              ? () =>\r\n                  onAdd({\r\n                    ...item,\r\n                    selectAmount: amount,\r\n                    selectUnit: unitSelected\r\n                  })\r\n              : () => onRemove()\r\n          }\r\n        >\r\n          {isAdd ? t('create.add') : t('create.remove')}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Ingredient\r\n","import { Button, Input, Typography } from 'antd'\r\nimport 'pages/SignIn/signin.css'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiX } from 'react-icons/fi'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { COLOR } from 'ultis/functions'\r\nimport ImageUpload from './imageUpload'\r\n\r\nconst { Text, Title } = Typography\r\nconst { TextArea } = Input\r\n\r\nfunction Step({\r\n  style,\r\n  step,\r\n  index,\r\n  onChangeImage = data => {},\r\n  onChangeMaking,\r\n  onChangeTime,\r\n  onDeleteItem,\r\n  setIsUploading = isUpload => {},\r\n  error\r\n}) {\r\n  const { t } = useTranslation()\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const [stateStep, setStateStep] = useState(step)\r\n  const onChangeImg = data => {\r\n    setStateStep({ ...stateStep, images: data })\r\n    onChangeImage({ ...stateStep, images: data })\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100%',\r\n        ...style,\r\n        marginTop: 32\r\n      }}\r\n      className=\"row-container\"\r\n      key={`step-${index}`}\r\n    >\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flex: 1,\r\n          flexDirection: 'column'\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            marginBottom: 24\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'flex-end'\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: isDesktopOrLaptop ? 150 : 50,\r\n                height: 50,\r\n                backgroundColor: COLOR.primary1,\r\n                borderTopRightRadius: 10\r\n              }}\r\n            />\r\n            <div>\r\n              <Title level={4} style={{ margin: 8 }}>\r\n                {t('create.step')} {index + 1}\r\n              </Title>\r\n              <div\r\n                style={{\r\n                  height: 4,\r\n                  width: '100%',\r\n                  backgroundColor: COLOR.primary1\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Button\r\n            type=\"text\"\r\n            shape=\"circle\"\r\n            onClick={() => onDeleteItem(index)}\r\n            icon={<FiX size={28} color={COLOR.gray} />}\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            marginBottom: 16\r\n          }}\r\n        >\r\n          <Title level={5} style={{ marginRight: 12, marginTop: 8 }}>\r\n            {t('create.time')}\r\n          </Title>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center'\r\n            }}\r\n          >\r\n            <Input\r\n              style={{\r\n                width: isDesktopOrLaptop ? 160 : 120,\r\n                borderColor: COLOR.primary1\r\n              }}\r\n              onChange={event => {\r\n                setStateStep({ ...stateStep, time: event.target.value })\r\n                onChangeTime({ ...stateStep, time: event.target.value })\r\n              }}\r\n              placeholder=\"5\"\r\n              value={stateStep?.time}\r\n              type=\"number\"\r\n            />\r\n            <Title level={5} style={{ marginLeft: 8, marginTop: 8 }}>\r\n              {t('create.min')}\r\n            </Title>\r\n          </div>\r\n        </div>\r\n        <TextArea\r\n          onChange={event => {\r\n            setStateStep({ ...stateStep, content: event.target.value })\r\n            onChangeMaking({ ...stateStep, content: event.target.value })\r\n          }}\r\n          rows={5}\r\n          value={stateStep.content}\r\n          placeholder={t('create.directionPlaceholder')}\r\n        />\r\n        {error?.content && (\r\n          <Text style={{ color: 'red' }}>{error?.content}</Text>\r\n        )}\r\n      </div>\r\n      <ImageUpload\r\n        style={{\r\n          flex: 1\r\n        }}\r\n        setIsUploading={isUpload => setIsUploading(isUpload)}\r\n        value={stateStep.images}\r\n        step={step}\r\n        onDelete={onChangeImg}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Step\r\n","import { Button, Select, Steps, Typography, Row, Col } from 'antd'\r\nimport TextArea from 'antd/lib/input/TextArea'\r\nimport CInput from 'components/CInput'\r\nimport AppHeader from 'components/Header'\r\nimport { FieldArray, Formik } from 'formik'\r\nimport 'pages/CreateRecipe/create.css'\r\nimport { GetAllCategories } from 'pages/Dashboard/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { COLOR, RECIPE_STATUS } from 'ultis/functions'\r\nimport * as yup from 'yup'\r\nimport ImageUpload from './components/imageUpload'\r\nimport Ingredient from './components/ingredient'\r\nimport Step from './components/step'\r\nimport { MAX_COOKING_TIME } from './constants'\r\nimport { CreateRecipe, SearchIngredient } from './redux/actions'\r\n\r\nconst { Text, Title } = Typography\r\nconst AntdStep = Steps.Step\r\nconst { Option } = Select\r\n\r\nexport default props => {\r\n  const dispatch = useDispatch()\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const user = useSelector(state => state.Auth.user)\r\n  const categories = useSelector(state => state.Create.categories)\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n  const stepTitle = [t('create.step1'), t('create.step2'), t('create.step3')]\r\n  const [currentStep, setCurrentStep] = useState(0)\r\n  const [otherIngre, setOtherIngre] = useState('')\r\n  let listCategories = []\r\n  categories &&\r\n    categories.forEach(item => {\r\n      listCategories = listCategories.concat(item?.childrenCategories)\r\n    })\r\n  const [isUploading, setIsUploading] = useState({})\r\n  // let isUploading = {}\r\n\r\n  const LEVEL = [\r\n    {\r\n      code: 'easy',\r\n      title: t('create.easy')\r\n    },\r\n    {\r\n      code: 'medium',\r\n      title: t('create.medium')\r\n    },\r\n    {\r\n      code: 'hard',\r\n      title: t('create.hard')\r\n    }\r\n  ]\r\n\r\n  const stepsSchema = yup.object({\r\n    content: yup.string().trim().required(t('validation.contentRequired')),\r\n    time: yup.number().nullable().min(1, t('validation.cookingTime'))\r\n  })\r\n\r\n  const ingresSchema = yup.object({\r\n    selectAmount: yup.number().min(1, t('validation.massRequired'))\r\n  })\r\n\r\n  const validationRecipeSchema = yup.object().shape({\r\n    title: yup\r\n      .string()\r\n      .trim()\r\n      .required(t('validation.titleRequired'))\r\n      .max(255, t('validation.titleMaxLength')),\r\n    ration: yup\r\n      .number()\r\n      .required(t('validation.rationRequired'))\r\n      .min(1, t('validation.rationMin')),\r\n    cooking_time: yup\r\n      .number()\r\n      .required(t('validation.cookingTimeRequired'))\r\n      .min(1, t('validation.cookingTimeMin'))\r\n      .max(MAX_COOKING_TIME, t('validation.cookingTimeMax')),\r\n    level: yup.string().required(t('validation.levelChoose')),\r\n    ingredients: yup\r\n      .array()\r\n      .required(t('validation.ingredientRequired'))\r\n      .of(ingresSchema),\r\n    steps: yup.array().required(t('validation.stepRequired')).of(stepsSchema),\r\n    avatar: yup.array().required(t('validation.thumbnailRequired'))\r\n  })\r\n\r\n  useEffect(() => {\r\n    dispatch(GetAllCategories.get())\r\n  }, [])\r\n\r\n  const searchIngres = (text, values, setFieldValue) => {\r\n    dispatch(\r\n      SearchIngredient.get({\r\n        search: text?.toLocaleLowerCase(),\r\n        onSuccess: data => {\r\n          setOtherIngre('')\r\n          if (data && data.length > 0) {\r\n            let ingres = values.ingredients\r\n            for (let i = 0; i < data.length; i++) {\r\n              if (ingres.filter(item => item.id === data[i].id).length > 0) {\r\n                continue\r\n              }\r\n              ingres.push({ ...data[i], selectAmount: 1, selectUnit: 0 })\r\n              setFieldValue('ingredients', ingres)\r\n              break\r\n            }\r\n          } else {\r\n            let ingres = values.ingredients\r\n            ingres.push({\r\n              img: null,\r\n              id: `${user.id}-${(Math.random() * 100000).toFixed(6)}`,\r\n              name: text,\r\n              unit: [{ measurement_description: 'g' }],\r\n              selectAmount: 1,\r\n              selectUnit: 0\r\n            })\r\n            setFieldValue('ingredients', ingres)\r\n          }\r\n        }\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (event, values, setFieldValue) => {\r\n    if (event.key === 'Enter') {\r\n      searchIngres(event.target.value, values, setFieldValue)\r\n    }\r\n  }\r\n\r\n  const submitRecipe = async (values, type = RECIPE_STATUS.APPROVED) => {\r\n    const avalink = values.avatar.map(item => {\r\n      return item.src.url\r\n    })\r\n    const steps = values.steps.map(item => {\r\n      const images = item.images.map(itemImg => {\r\n        return itemImg.src.url\r\n      })\r\n      return { ...item, images }\r\n    })\r\n    let ingredients_name = []\r\n    const ingredients = values.ingredients.map(item => {\r\n      ingredients_name.push(item.name)\r\n      const tmp = {\r\n        img: item?.img,\r\n        name: item.name,\r\n        id: item.id,\r\n        unit: item.unit[item.selectUnit],\r\n        amount: item.selectAmount,\r\n        calories: item.unit[item.selectUnit]?.calories\r\n          ? Number(item.unit[item.selectUnit].calories) *\r\n            (item.selectAmount /\r\n              Number(item.unit[item.selectUnit].number_of_units))\r\n          : 0\r\n      }\r\n      return tmp\r\n    })\r\n    console.log({\r\n      ...values,\r\n      avatar: avalink,\r\n      steps,\r\n      ingredients,\r\n      ingredients_name,\r\n      status: type\r\n    })\r\n    dispatch(\r\n      CreateRecipe.get({\r\n        ...values,\r\n        avatar: avalink,\r\n        steps,\r\n        ingredients,\r\n        ingredients_name,\r\n        status: type\r\n      })\r\n    )\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <>\r\n        <AppHeader from=\"create\" />\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <Text style={{ margin: 28 }}>\r\n            Bạn chưa đăng nhập. Vui lòng đăng nhập để tạo bài viết.\r\n          </Text>\r\n          <Button\r\n            size=\"large\"\r\n            type=\"primary\"\r\n            onClick={() =>\r\n              history.push({\r\n                pathname: '/signin',\r\n                state: { from: `/create` }\r\n              })\r\n            }\r\n          >\r\n            {t('auth.login').toLocaleUpperCase()}\r\n          </Button>\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppHeader from=\"create\" />\r\n      <Formik\r\n        initialValues={{\r\n          title: '',\r\n          description: '',\r\n          avatar: [],\r\n          ration: 1,\r\n          cooking_time: 20,\r\n          level: LEVEL[0].code,\r\n          ingredients: [],\r\n          categories: [],\r\n          hashtags: [],\r\n          steps: [{ content: '', images: [], time: null }]\r\n        }}\r\n        isInitialValid={false}\r\n        validationSchema={validationRecipeSchema}\r\n        onSubmit={values => submitRecipe(values)}\r\n      >\r\n        {({\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          values,\r\n          isValid,\r\n          errors,\r\n          touched,\r\n          setFieldTouched,\r\n          setFieldValue\r\n        }) => {\r\n          return (\r\n            <div className=\"body-container\">\r\n              <Title level={2}>{t('home.createRecipe')}</Title>\r\n              <div\r\n                style={{\r\n                  ...style.spaceBetween,\r\n                  paddingTop: 24,\r\n                  paddingBottom: 24\r\n                }}\r\n              >\r\n                <Button\r\n                  type=\"primary\"\r\n                  disabled={currentStep < 1}\r\n                  onClick={() => setCurrentStep(currentStep - 1)}\r\n                >\r\n                  {t('create.prev')}\r\n                </Button>\r\n                <Steps\r\n                  style={{ marginLeft: 24, marginRight: 24 }}\r\n                  current={currentStep}\r\n                >\r\n                  {stepTitle.map(item => (\r\n                    <AntdStep\r\n                      key={item}\r\n                      title={isDesktopOrLaptop ? item : null}\r\n                    />\r\n                  ))}\r\n                </Steps>\r\n                <Button\r\n                  type=\"primary\"\r\n                  disabled={currentStep > 1}\r\n                  onClick={() => setCurrentStep(currentStep + 1)}\r\n                >\r\n                  {t('create.next')}\r\n                </Button>\r\n              </div>\r\n\r\n              {currentStep === 0 && (\r\n                <div style={{ display: 'flex' }} className=\"row-container\">\r\n                  <div style={style.leftColumn}>\r\n                    {/* <div style={{ ...style.spaceBetween, marginBottom: 24 }}>\r\n                      <Text style={{ color: COLOR.primary1, fontWeight: 600 }}>\r\n                        {t('create.contributeToCreate')}\r\n                      </Text>\r\n                      <Switch\r\n                        defaultChecked\r\n                        onChange={data => console.log(data)}\r\n                      />\r\n                    </div> */}\r\n                    <div style={{ flex: 1 }}>\r\n                      <Title level={4}>\r\n                        {t('create.title').toLocaleUpperCase()}\r\n                      </Title>\r\n                      <CInput\r\n                        style={style.border}\r\n                        className=\"inputBox\"\r\n                        value={values.title}\r\n                        onChange={handleChange('title')}\r\n                        onTouchStart={() => setFieldTouched('title')}\r\n                        onBlur={handleBlur('title')}\r\n                        placeholder={t('create.titlePlaceholder')}\r\n                        error={errors.title}\r\n                      />\r\n                    </div>\r\n                    <div style={{ ...style.spaceBetween, marginTop: 16 }}>\r\n                      <Title level={4}>\r\n                        {t('create.categories').toLocaleUpperCase()}\r\n                      </Title>\r\n                    </div>\r\n                    <Select\r\n                      mode=\"multiple\"\r\n                      allowClear\r\n                      style={{\r\n                        width: '100%',\r\n                        borderColor: COLOR.primary1\r\n                      }}\r\n                      placeholder={t('create.categoriesPlaceholder')}\r\n                      defaultValue={values.categories}\r\n                      onChange={value => setFieldValue('categories', value)}\r\n                    >\r\n                      {listCategories.map((item, index) => (\r\n                        <Option value={item.id} key={`category${index}`}>\r\n                          {item.vi}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n\r\n                    <div style={{ ...style.spaceBetween, marginTop: 24 }}>\r\n                      <div style={{ flex: 1.5 }}>\r\n                        <Title level={4}>\r\n                          {t('create.ration').toLocaleUpperCase()}\r\n                        </Title>\r\n                        <CInput\r\n                          style={style.border}\r\n                          className=\"inputBox\"\r\n                          value={values.ration}\r\n                          onChange={handleChange('ration')}\r\n                          onTouchStart={() => setFieldTouched('ration')}\r\n                          onBlur={handleBlur('ration')}\r\n                          placeholder={'200'}\r\n                          error={errors.ration}\r\n                          type=\"number\"\r\n                        />\r\n                      </div>\r\n                      <div\r\n                        style={{ flex: 1.5, paddingLeft: 16, paddingRight: 16 }}\r\n                      >\r\n                        <Title level={4}>\r\n                          {t('create.level').toLocaleUpperCase()}\r\n                        </Title>\r\n                        <Select\r\n                          style={{ width: '100%', ...style.border }}\r\n                          defaultValue={values.level}\r\n                          onChange={value => setFieldValue('level', value)}\r\n                        >\r\n                          {LEVEL.map((item, index) => (\r\n                            <Option value={item.code} key={`level${index}`}>\r\n                              {item.title}\r\n                            </Option>\r\n                          ))}\r\n                        </Select>\r\n                      </div>\r\n                      <div style={{ flex: 1.5 }}>\r\n                        <Title level={4}>\r\n                          {t('create.time').toLocaleUpperCase()}\r\n                        </Title>\r\n                        <div style={style.spaceBetween}>\r\n                          <CInput\r\n                            style={{\r\n                              maxWidth: 120,\r\n                              ...style.border\r\n                            }}\r\n                            className=\"inputBox\"\r\n                            value={values.cooking_time}\r\n                            onChange={handleChange('cooking_time')}\r\n                            onTouchStart={() => setFieldTouched('cooking_time')}\r\n                            onBlur={handleBlur('cooking_time')}\r\n                            placeholder={'200'}\r\n                            type=\"number\"\r\n                          />\r\n                          <Title\r\n                            level={4}\r\n                            style={{ marginLeft: 8, alignSelf: 'center' }}\r\n                          >\r\n                            {t('create.min').toLocaleUpperCase()}\r\n                          </Title>\r\n                        </div>\r\n                        {errors.cooking_time && (\r\n                          <span className=\"errorStyle\">\r\n                            {errors.cooking_time}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <Title level={4} style={{ marginTop: 16 }}>\r\n                      {t('create.summary').toLocaleUpperCase()}\r\n                    </Title>\r\n                    <TextArea\r\n                      rows={6}\r\n                      style={style.border}\r\n                      value={values.description}\r\n                      onChange={handleChange('description')}\r\n                      onTouchStart={() => setFieldTouched('description')}\r\n                      onBlur={handleBlur('description')}\r\n                      placeholder={t('create.summaryPlaceholder')}\r\n                      error={errors.description}\r\n                    />\r\n                  </div>\r\n                  <ImageUpload\r\n                    setIsUploading={isUpload => {\r\n                      let tmp = isUploading\r\n                      tmp['avatar'] = isUpload\r\n                      setIsUploading(tmp)\r\n                    }}\r\n                    style={{ flex: 1, paddingTop: 32 }}\r\n                    value={values.avatar}\r\n                    onChange={data => setFieldValue('avatar', data)}\r\n                    error={errors.avatar}\r\n                  />\r\n                </div>\r\n              )}\r\n              {currentStep === 1 && (\r\n                <div style={style.leftColumn}>\r\n                  <Title level={4}>\r\n                    {t('create.ingredients').toLocaleUpperCase()}\r\n                  </Title>\r\n                  <div style={{ ...style.spaceBetween }}>\r\n                    <CInput\r\n                      className=\"inputBox\"\r\n                      onKeyPress={event =>\r\n                        handleKeyPress(event, values, setFieldValue)\r\n                      }\r\n                      value={otherIngre}\r\n                      onChange={event => setOtherIngre(event.target.value)}\r\n                      placeholder={t('create.ingredientsPlaceholder')}\r\n                    />\r\n                    <Button\r\n                      style={{ marginLeft: 24 }}\r\n                      type=\"primary\"\r\n                      size=\"large\"\r\n                      onClick={() =>\r\n                        searchIngres(otherIngre, values, setFieldValue)\r\n                      }\r\n                    >\r\n                      {t('create.add')}\r\n                    </Button>\r\n                  </div>\r\n                  <div style={style.ingres}>\r\n                    {values.ingredients.length > 0 &&\r\n                      values.ingredients.map((item, index) => (\r\n                        <Ingredient\r\n                          index={index}\r\n                          item={item}\r\n                          isAdd={false}\r\n                          onChange={value => {\r\n                            let ingres = values.ingredients\r\n                            ingres[index] = value\r\n                            setFieldValue('ingredients', ingres)\r\n                          }}\r\n                          onRemove={() => {\r\n                            let ingres = values.ingredients\r\n                            ingres.splice(index, 1)\r\n                            setFieldValue('ingredients', ingres)\r\n                          }}\r\n                          onChangeCustomUnit={value => {\r\n                            let ingres = values.ingredients\r\n                            ingres[index].unit[0].measurement_description =\r\n                              value\r\n                            setFieldValue('ingredients', ingres)\r\n                          }}\r\n                          error={\r\n                            errors.ingredients &&\r\n                            typeof errors.ingredients === 'object' &&\r\n                            errors.ingredients[index] &&\r\n                            errors.ingredients[index]\r\n                          }\r\n                        />\r\n                      ))}\r\n                  </div>\r\n                  {errors.ingredients &&\r\n                    typeof errors.ingredients === 'string' && (\r\n                      <Text style={{ color: 'red' }}>{errors.ingredients}</Text>\r\n                    )}\r\n                </div>\r\n              )}\r\n              {currentStep === 2 && (\r\n                <div>\r\n                  <Title level={4}>\r\n                    {t('create.direction').toLocaleUpperCase()}\r\n                  </Title>\r\n                  <FieldArray\r\n                    name=\"steps\"\r\n                    render={arrayHelpers => (\r\n                      <>\r\n                        {values.steps.map((item, index) => (\r\n                          <Step\r\n                            step={item}\r\n                            index={index}\r\n                            setIsUploading={isUpload => {\r\n                              let tmp = isUploading\r\n                              tmp[`step-${index}`] = isUpload\r\n                              setIsUploading(tmp)\r\n                            }}\r\n                            onChangeImage={data => {\r\n                              arrayHelpers.replace(index, data)\r\n                            }}\r\n                            onChangeMaking={data => {\r\n                              arrayHelpers.replace(index, data)\r\n                            }}\r\n                            onChangeTime={data => {\r\n                              arrayHelpers.replace(index, data)\r\n                            }}\r\n                            onDeleteItem={index => {\r\n                              arrayHelpers.remove(index)\r\n                            }}\r\n                            error={\r\n                              errors.steps &&\r\n                              typeof errors.steps === 'object' &&\r\n                              errors.steps[index] &&\r\n                              errors.steps[index]\r\n                            }\r\n                          />\r\n                        ))}\r\n                        {errors.steps && typeof errors.steps === 'string' && (\r\n                          <Text style={{ color: 'red' }}>{errors.steps}</Text>\r\n                        )}\r\n                        <Button\r\n                          style={{ marginTop: 48 }}\r\n                          type=\"primary\"\r\n                          onClick={() => {\r\n                            arrayHelpers.push({\r\n                              content: '',\r\n                              images: [],\r\n                              time: null\r\n                            })\r\n                          }}\r\n                        >\r\n                          {t('create.addNewStep')}\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                  />\r\n                </div>\r\n              )}\r\n              <div\r\n                style={{\r\n                  ...style.leftColumn,\r\n                  flexDirection: 'row',\r\n                  marginTop: 64,\r\n                  paddingBottom: 64\r\n                }}\r\n              >\r\n                <Button\r\n                  size=\"large\"\r\n                  disabled={!isValid}\r\n                  onClick={() => submitRecipe(values, RECIPE_STATUS.PENDING)}\r\n                  style={{ flex: 1, marginRight: 16 }}\r\n                >\r\n                  {t('create.saveDraft')}\r\n                </Button>\r\n                <Button\r\n                  type=\"primary\"\r\n                  size=\"large\"\r\n                  style={{ flex: 1, marginLeft: 16 }}\r\n                  disabled={!isValid}\r\n                  onClick={handleSubmit}\r\n                >\r\n                  {t('create.create')}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </>\r\n  )\r\n}\r\n\r\nconst style = {\r\n  leftColumn: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flex: 1\r\n  },\r\n  spaceBetween: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'flex-start'\r\n  },\r\n  ingres: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    flexWrap: 'wrap',\r\n    paddingLeft: 24,\r\n    paddingTop: 48\r\n  },\r\n  border: {\r\n    borderColor: COLOR.primary1\r\n  }\r\n}\r\n","import { Button, Col, Row, Select } from 'antd'\r\nimport Modal from 'antd/lib/modal/Modal'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { NAME_REGEX } from 'ultis/functions'\r\nimport * as yup from 'yup'\r\nimport { AddCategory, UpdateCategory } from '../redux/actions'\r\n\r\nconst { Option } = Select\r\n\r\nfunction AddCategoryModal(props) {\r\n  const { t } = useTranslation()\r\n  const categoryList = useSelector(state => state.Dashboard.categoryList)\r\n  const realList = props.category\r\n    ? categoryList.filter(item => item.id !== props.category?.id)\r\n    : categoryList\r\n  const dispatch = useDispatch()\r\n  const validationSchema = yup.object().shape({\r\n    vi: yup\r\n      .string()\r\n      .trim()\r\n      .required(t('validation.categoryRequired'))\r\n      .matches(NAME_REGEX, {\r\n        message: t('validation.categoryRule')\r\n      }),\r\n    en: yup\r\n      .string()\r\n      .trim()\r\n      .required(t('validation.categoryRequired'))\r\n      .matches(NAME_REGEX, {\r\n        message: t('validation.categoryRule')\r\n      }),\r\n    parentId: yup.string().nullable()\r\n  })\r\n\r\n  const handleAdd = values => {\r\n    const data = {\r\n      vi: values?.vi || '',\r\n      en: values?.en || '',\r\n      parent_category_id: values?.parentId || null\r\n    }\r\n    if (props.category) {\r\n      dispatch(UpdateCategory.get({ id: props.category.id, data }))\r\n    } else {\r\n      dispatch(AddCategory.get(data))\r\n    }\r\n    props?.onClose()\r\n  }\r\n\r\n  const onCancel = () => {\r\n    props?.onClose()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={\r\n        props.category\r\n          ? t('dashboard.updateCategory')\r\n          : t('dashboard.addNewCategory')\r\n      }\r\n      visible={props.visible || false}\r\n      onCancel={onCancel}\r\n      centered\r\n      destroyOnClose={true}\r\n      footer={false}\r\n    >\r\n      <Formik\r\n        initialValues={{\r\n          parentId: props.category?.parentId || null,\r\n          vi: props.category?.vi || '',\r\n          en: props.category?.en || ''\r\n        }}\r\n        validationSchema={validationSchema}\r\n        onSubmit={values => handleAdd(values)}\r\n      >\r\n        {({\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          values,\r\n          isValid,\r\n          errors,\r\n          touched,\r\n          setFieldTouched,\r\n          setFieldValue\r\n        }) => {\r\n          return (\r\n            <Form>\r\n              <Row align=\"middle\" style={{ marginBottom: 16 }}>\r\n                <Col span={8}>{t('common.vi')}</Col>\r\n                <Col span={16}>\r\n                  <CInput\r\n                    value={values.vi}\r\n                    onChange={handleChange('vi')}\r\n                    onTouchStart={() => setFieldTouched('vi')}\r\n                    onBlur={handleBlur('vi')}\r\n                    placeholder={t('common.vi')}\r\n                    error={errors.vi}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              <Row align=\"middle\" style={{ marginBottom: 16 }}>\r\n                <Col span={8}>{t('common.en')}</Col>\r\n                <Col span={16}>\r\n                  <CInput\r\n                    value={values.en}\r\n                    onChange={handleChange('en')}\r\n                    onTouchStart={() => setFieldTouched('en')}\r\n                    onBlur={handleBlur('en')}\r\n                    placeholder={t('common.en')}\r\n                    error={errors.en}\r\n                  />\r\n                </Col>\r\n              </Row>\r\n              {(!props.category || props.category?.parentId) && (\r\n                <Row align=\"middle\" style={{ marginBottom: 32 }}>\r\n                  <Col span={8}>{t('dashboard.parentCategory')}</Col>\r\n                  <Col span={16}>\r\n                    <Select\r\n                      style={{ width: '100%' }}\r\n                      value={values.parentId}\r\n                      onChange={value => setFieldValue('parentId', value)}\r\n                    >\r\n                      <Option value={null}>\r\n                        {t('dashboard.notSelectParentId')}\r\n                      </Option>\r\n                      {realList.map(item => (\r\n                        <Option key={`cate${item.id}`} value={item.id}>\r\n                          {item.vi} - {item.en}\r\n                        </Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n              <Row justify=\"end\">\r\n                <Button\r\n                  style={{ marginRight: 16 }}\r\n                  size=\"large\"\r\n                  onClick={onCancel}\r\n                >\r\n                  {t('common.cancel')}\r\n                </Button>\r\n                <Button\r\n                  disabled={!isValid}\r\n                  type=\"primary\"\r\n                  size=\"large\"\r\n                  onClick={handleSubmit}\r\n                >\r\n                  {props.category ? t('common.update') : t('common.add')}\r\n                </Button>\r\n              </Row>\r\n            </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default AddCategoryModal\r\n","import { SearchOutlined } from '@ant-design/icons'\r\nimport { Button, Input, Space } from 'antd'\r\n\r\nimport React from 'react'\r\nimport Highlighter from 'react-highlight-words'\r\nimport { COLOR } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\n\r\nexport const getColumnSearchProps = (\r\n  dataIndex,\r\n  searchPlaceholder,\r\n  searchText,\r\n  setSearchText,\r\n  searchedColumn,\r\n  setSearchColumn,\r\n  refInput\r\n) => {\r\n  return {\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={refInput}\r\n          placeholder={searchPlaceholder}\r\n          value={selectedKeys[0]}\r\n          onChange={e =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() =>\r\n            handleSearch(\r\n              selectedKeys,\r\n              confirm,\r\n              dataIndex,\r\n              setSearchText,\r\n              setSearchColumn\r\n            )\r\n          }\r\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() =>\r\n              handleSearch(\r\n                selectedKeys,\r\n                confirm,\r\n                dataIndex,\r\n                setSearchText,\r\n                setSearchColumn\r\n              )\r\n            }\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            {i18n.t('common.find')}\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters, setSearchText)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            {i18n.t('common.reset')}\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: filtered => (\r\n      <SearchOutlined\r\n        style={{ color: filtered ? COLOR.primary1 : undefined }}\r\n      />\r\n    ),\r\n    onFilter: (value, record) =>\r\n      record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\r\n    onFilterDropdownVisibleChange: visible => {\r\n      if (visible) {\r\n        setTimeout(() => refInput.current.select())\r\n      }\r\n    },\r\n    render: text =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text.toString()}\r\n        />\r\n      ) : (\r\n        text\r\n      )\r\n  }\r\n}\r\n\r\nconst handleSearch = (\r\n  selectedKeys,\r\n  confirm,\r\n  dataIndex,\r\n  setSearchText,\r\n  setSearchColumn\r\n) => {\r\n  confirm()\r\n  setSearchColumn(dataIndex)\r\n  setSearchText(selectedKeys[0])\r\n}\r\n\r\nconst handleReset = (clearFilters, setSearchText) => {\r\n  clearFilters()\r\n  setSearchText('')\r\n}\r\n","import {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  LoadingOutlined,\r\n  PlusCircleOutlined\r\n} from '@ant-design/icons'\r\nimport { Button, Modal, Space, Spin, Table } from 'antd'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport React, { useEffect, useRef, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR } from 'ultis/functions'\r\nimport '../dashboard.css'\r\nimport { DeleteCategory, GetAllCategories } from '../redux/actions'\r\nimport AddCategoryModal from './addCategory'\r\nimport { getColumnSearchProps } from './searchInput'\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nfunction CategoryList() {\r\n  const categoryList = useSelector(state => state.Dashboard.categoryList)\r\n  const isLoading = useSelector(state => state.Dashboard.isLoading)\r\n  const dispatch = useDispatch()\r\n  const [searchText, setSearchText] = useState('')\r\n  const [searchedColumn, setSearchColumn] = useState('')\r\n  const refInput = useRef()\r\n  const { t } = useTranslation()\r\n  let realList = []\r\n  categoryList?.forEach(item => {\r\n    realList.push({\r\n      vi: item.vi,\r\n      en: item.en,\r\n      parentVi: null,\r\n      parentEn: null,\r\n      id: item.id,\r\n      parentId: item.parent_category_id\r\n    })\r\n    item?.childrenCategories &&\r\n      item?.childrenCategories.length > 0 &&\r\n      item?.childrenCategories.forEach(subCat => {\r\n        realList.push({\r\n          vi: subCat.vi,\r\n          en: subCat.en,\r\n          parentVi: item.vi,\r\n          parentEn: item.en,\r\n          id: subCat.id,\r\n          parentId: subCat.parent_category_id\r\n        })\r\n      })\r\n  })\r\n  const [edit, setEdit] = useState({ isShow: false, category: null })\r\n\r\n  useEffect(() => {\r\n    dispatch(GetAllCategories.get())\r\n  }, [])\r\n\r\n  const onAddNewCategory = () => {\r\n    setEdit({ isShow: true, category: null })\r\n  }\r\n\r\n  const handleEdit = (value, record) => {\r\n    setEdit({ isShow: true, category: record })\r\n  }\r\n\r\n  const handleDelete = record => {\r\n    Modal.confirm({\r\n      title: t('common.confirm'),\r\n      icon: <DeleteOutlined style={{ color: COLOR.primary1 }} />,\r\n      content: t('dashboard.confirmToDeleteCategory'),\r\n      okText: t('common.confirm'),\r\n      cancelText: t('common.cancel'),\r\n      centered: true,\r\n      okButtonProps: { style: { backgroundColor: COLOR.primary1 } },\r\n      onOk: () => {\r\n        dispatch(DeleteCategory.get(record.id))\r\n        Modal.destroyAll()\r\n      }\r\n    })\r\n  }\r\n\r\n  const categoryColumns = [\r\n    {\r\n      ...getColumnSearchProps(\r\n        'vi',\r\n        t('dashboard.enterTitleToFind'),\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: t('common.vi'),\r\n      dataIndex: 'vi',\r\n      key: 'vi',\r\n      sorter: (a, b) => a.vi.localeCompare(b.vi)\r\n    },\r\n    {\r\n      ...getColumnSearchProps(\r\n        'en',\r\n        t('dashboard.enterTitleToFind'),\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: t('common.en'),\r\n      dataIndex: 'en',\r\n      key: 'en',\r\n      sorter: (a, b) => a.en.localeCompare(b.en)\r\n    },\r\n    {\r\n      ...getColumnSearchProps(\r\n        'parentVi',\r\n        t('dashboard.enterTitleToFind'),\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: t('dashboard.parentCategoryVi'),\r\n      dataIndex: 'parentVi',\r\n      key: 'parentVi',\r\n      sorter: (a, b) => a.parentVi.localeCompare(b.parentVi)\r\n    },\r\n    {\r\n      ...getColumnSearchProps(\r\n        'parentEn',\r\n        t('dashboard.enterTitleToFind'),\r\n        searchText,\r\n        setSearchText,\r\n        searchedColumn,\r\n        setSearchColumn,\r\n        refInput\r\n      ),\r\n      title: t('dashboard.parentCategoryEn'),\r\n      dataIndex: 'parentEn',\r\n      key: 'parentEn',\r\n      sorter: (a, b) => a.parentEn.localeCompare(b.parentEn)\r\n    },\r\n    {\r\n      title: t('common.action'),\r\n      key: 'action',\r\n      render: (value, record) => {\r\n        return (\r\n          <Space>\r\n            <EditOutlined\r\n              style={{ fontSize: 20 }}\r\n              onClick={() => handleEdit(value, record)}\r\n            />\r\n            <DeleteOutlined\r\n              style={{ fontSize: 20, color: '#FF0000' }}\r\n              onClick={() => handleDelete(record)}\r\n            />\r\n          </Space>\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"chooseContainer\">\r\n        <Spin indicator={loadingIcon} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chooseContainer\">\r\n        <Title level={3}>{t('create.categories')}</Title>\r\n        <Button\r\n          type=\"primary\"\r\n          icon={<PlusCircleOutlined />}\r\n          style={{ width: 'auto', marginBottom: 16, marginTop: 32 }}\r\n          onClick={() => onAddNewCategory()}\r\n          size=\"large\"\r\n        >\r\n          {t('dashboard.addNewCategory')}\r\n        </Button>\r\n        <Table columns={categoryColumns} dataSource={realList} />\r\n      </div>\r\n      <AddCategoryModal\r\n        visible={edit.isShow}\r\n        onClose={() => {\r\n          setEdit({ isShow: false, category: null })\r\n        }}\r\n        category={edit.category}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CategoryList\r\n","import { LoadingOutlined, UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Button, Menu, Spin } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport { SignOut } from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FaChalkboardTeacher } from 'react-icons/fa'\r\nimport { FiBookOpen, FiGrid, FiUsers } from 'react-icons/fi'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { COLOR, ROLES } from 'ultis/functions'\r\nimport CategoryList from './component/categoryList'\r\nimport { PAGE } from './constant'\r\nimport './dashboard.css'\r\nimport { SetCurrentPage } from './redux/actions'\r\nimport {\r\n  FiBookmark,\r\n  FiFacebook,\r\n  FiPrinter,\r\n  FiSmile,\r\n  FiUserPlus,\r\n  FiX,\r\n  FiLogOut,\r\n  FiChevronRight,\r\n  FiChevronLeft\r\n} from 'react-icons/fi'\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nfunction Dashboard() {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.Auth.user)\r\n  const { t } = useTranslation()\r\n  const isLoadingDashboard = useSelector(\r\n    state => state.Dashboard.isLoadingDashboard\r\n  )\r\n  const [collaspe, setCollaspe] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (!user || user?.role === ROLES.USER) {\r\n      history.replace('/')\r\n    }\r\n  }, [user])\r\n\r\n  // useEffect(() => {\r\n  //   return () => {\r\n  //     if (history.action === 'POP') {\r\n  //       dispatch(SignOut.get())\r\n  //     }\r\n  //   }\r\n  // }, [history])\r\n\r\n  const currentPage = useSelector(state => state.Dashboard.currentPage)\r\n\r\n  const onMenuSelect = e => {\r\n    dispatch(SetCurrentPage.get({ currentPage: e.key }))\r\n  }\r\n\r\n  const handleSignOut = () => {\r\n    dispatch(SignOut.get())\r\n    history.replace('/')\r\n  }\r\n\r\n  const renderRightDashboard = () => {\r\n    switch (currentPage) {\r\n      case PAGE.CATEGORY:\r\n        return <CategoryList />\r\n      // case PAGE.COURSE:\r\n      //   return <CoursesList />\r\n      // case PAGE.TEACHER:\r\n      //   return <TeacherList />\r\n      // case PAGE.STUDENT:\r\n      //   return <StudentList />\r\n      default:\r\n        return <CategoryList />\r\n    }\r\n  }\r\n\r\n  if (isLoadingDashboard || !user || user.role === ROLES.USER) {\r\n    return (\r\n      <div className=\"chooseContainer\">\r\n        <Spin indicator={loadingIcon} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div id=\"dashboardBg\">\r\n      <div id=\"menuContainer\">\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            width: '100%',\r\n            padding: 8\r\n          }}\r\n        >\r\n          <Button\r\n            shape=\"circle\"\r\n            type=\"text\"\r\n            onClick={() => handleSignOut()}\r\n            icon={<FiLogOut size={24} color={'white'} />}\r\n          />\r\n          <Button\r\n            shape=\"circle\"\r\n            type=\"text\"\r\n            onClick={() => setCollaspe(!collaspe)}\r\n            icon={\r\n              collaspe ? (\r\n                <FiChevronRight size={24} color={'white'} />\r\n              ) : (\r\n                <FiChevronLeft size={24} color={'white'} />\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            padding: 16\r\n          }}\r\n        >\r\n          {user?.avatar_url ? (\r\n            <Avatar size={40} src={user?.avatar_url} />\r\n          ) : (\r\n            <Avatar size={40} icon={<UserOutlined />} />\r\n          )}\r\n          {!collaspe && (\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                marginLeft: 8\r\n              }}\r\n            >\r\n              <Text style={{ fontSize: 14, color: 'white', fontWeight: 500 }}>\r\n                {user?.name}\r\n              </Text>\r\n              <Text style={{ fontSize: 11, color: COLOR.grayText }}>\r\n                {user?.email}\r\n              </Text>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Menu\r\n          defaultSelectedKeys={[PAGE.CATEGORY]}\r\n          selectedKeys={[currentPage]}\r\n          mode=\"inline\"\r\n          onClick={onMenuSelect}\r\n          inlineCollapsed={collaspe}\r\n          style={{ backgroundColor: COLOR.primary1, marginTop: 24 }}\r\n        >\r\n          <Menu.Item\r\n            style={{ color: 'white' }}\r\n            className=\"customItem\"\r\n            key={PAGE.CATEGORY}\r\n            icon={<FiGrid size={16} style={{ marginRight: 8 }} />}\r\n          >\r\n            {t('create.categories')}\r\n          </Menu.Item>\r\n          {/* <Menu.Item\r\n            style={{ color: 'white' }}\r\n            className=\"customItem\"\r\n            key={PAGE.COURSE}\r\n            icon={<FiBookOpen size={16} style={{ marginRight: 8 }} />}\r\n          >\r\n            Courses\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            style={{ color: 'white' }}\r\n            className=\"customItem\"\r\n            key={PAGE.TEACHER}\r\n            icon={<FaChalkboardTeacher size={14} style={{ marginRight: 8 }} />}\r\n          >\r\n            Teachers\r\n          </Menu.Item>\r\n          <Menu.Item\r\n            style={{ color: 'white' }}\r\n            className=\"customItem\"\r\n            key={PAGE.STUDENT}\r\n            icon={<FiUsers size={16} style={{ marginRight: 8 }} />}\r\n          >\r\n            Students\r\n          </Menu.Item> */}\r\n        </Menu>\r\n      </div>\r\n      {renderRightDashboard()}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n","import { Button } from 'antd'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport { ResetPassword } from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { useHistory } from 'react-router-dom'\r\nimport * as yup from 'yup'\r\nimport '../SignIn/signin.css'\r\nimport forgotPic from 'assets/images/forgot_password.jpg'\r\nimport logo from 'assets/logo.svg'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nfunction ForgotPassword() {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const user = useSelector(state => state.Auth?.user)\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.replace('/')\r\n    }\r\n  }, [user])\r\n\r\n  const validationSchema = yup.object().shape({\r\n    email: yup\r\n      .string()\r\n      .trim()\r\n      .max(48, t('signin.emailMax'))\r\n      .label(t('signin.email'))\r\n      .email(t('signin.emailInvalid'))\r\n      .required(t('signin.emailRequired'))\r\n  })\r\n\r\n  const handleForgot = values => {\r\n    dispatch(\r\n      ResetPassword.get({\r\n        ...values,\r\n        email: values.email.toLowerCase()\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (isValid, event, values) => {\r\n    if (isValid && event.key === 'Enter') {\r\n      handleForgot(values)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"bg\">\r\n      <div id=\"loginBg\">\r\n        <a href=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\r\n          <img src={logo} alt=\"forgot\" width={100} />\r\n        </a>\r\n        <div id=\"loginBox\">\r\n          <Formik\r\n            initialValues={{\r\n              email: ''\r\n            }}\r\n            isInitialValid={false}\r\n            validationSchema={validationSchema}\r\n            onSubmit={values => handleForgot(values)}\r\n          >\r\n            {({\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              values,\r\n              isValid,\r\n              errors,\r\n              touched,\r\n              setFieldTouched\r\n            }) => {\r\n              return (\r\n                <Form className=\"formStyle\">\r\n                  <span id=\"loginStyle\">{t('forgotPass.title')}</span>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.email}\r\n                    onChange={handleChange('email')}\r\n                    onTouchStart={() => setFieldTouched('email')}\r\n                    onBlur={handleBlur('email')}\r\n                    placeholder=\"Email\"\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.email}\r\n                  />\r\n                  <div style={{ alignSelf: 'flex-end', marginBottom: 34 }}>\r\n                    <span>{t('signup.hadAccount')}</span>\r\n                    <Button\r\n                      style={{ padding: 0 }}\r\n                      color=\"primary\"\r\n                      type=\"link\"\r\n                      onClick={() =>\r\n                        history.push({\r\n                          pathname: '/signin',\r\n                          state: { from: `/forgot` }\r\n                        })\r\n                      }\r\n                    >\r\n                      {t('forgotPass.backToSignin')}\r\n                    </Button>\r\n                  </div>\r\n                  <Button\r\n                    id=\"loginBtn\"\r\n                    disabled={!isValid}\r\n                    type=\"primary\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {t('forgotPass.proceed')}\r\n                  </Button>\r\n                </Form>\r\n              )\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n      {isDesktopOrLaptop && (\r\n        <div id=\"imgBg\" style={{ backgroundImage: `url(${forgotPic})` }} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword\r\n","export default __webpack_public_path__ + \"static/media/bar-chart.80591105.svg\";","export default __webpack_public_path__ + \"static/media/fire.a346e28e.svg\";","export default __webpack_public_path__ + \"static/media/hourglass.b92f376c.svg\";","import { UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Button, Menu, Popover } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport chart from 'assets/images/bar-chart.svg'\r\nimport fire from 'assets/images/fire.svg'\r\nimport hourglass from 'assets/images/hourglass.svg'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiMoreVertical } from 'react-icons/fi'\r\nimport { useDispatch } from 'react-redux'\r\nimport { calcCalories, history } from 'ultis/functions'\r\nimport './index.css'\r\n\r\nexport default function RecipeItem({\r\n  recipe,\r\n  style = {},\r\n  showMoreBtn = false,\r\n  popoverList = null\r\n}) {\r\n  const { t } = useTranslation()\r\n  const [isShowPopover, setIsShowPopover] = useState(false)\r\n  const dispatch = useDispatch()\r\n\r\n  const LEVEL = {\r\n    easy: t('create.easy'),\r\n    medium: t('create.medium'),\r\n    hard: t('create.hard')\r\n  }\r\n\r\n  const onClickMore = () => {\r\n    setIsShowPopover(!isShowPopover)\r\n  }\r\n\r\n  const popoverContent = (\r\n    <Menu style={{ width: 200 }}>\r\n      {popoverList &&\r\n        popoverList?.length > 0 &&\r\n        popoverList?.map(item => (\r\n          <Menu.Item\r\n            key={item?.key}\r\n            onClick={() => {\r\n              setIsShowPopover(false)\r\n              item?.onPress(recipe.id)\r\n            }}\r\n          >\r\n            {item?.title}\r\n          </Menu.Item>\r\n        ))}\r\n    </Menu>\r\n  )\r\n  return (\r\n    <div\r\n      className=\"imgWrap\"\r\n      style={{\r\n        position: 'relative',\r\n        borderRadius: 10,\r\n        ...style\r\n      }}\r\n    >\r\n      {recipe?.avatar && recipe?.avatar.length > 0 ? (\r\n        <div\r\n          className=\"imgMode\"\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            borderRadius: 10,\r\n            backgroundImage: `url(\"${recipe?.avatar[0]}\")`\r\n          }}\r\n        />\r\n      ) : (\r\n        <span className=\"imgSrcDefault\" />\r\n      )}\r\n      {showMoreBtn && popoverList && (\r\n        <Popover\r\n          content={popoverContent}\r\n          placement=\"rightBottom\"\r\n          trigger=\"click\"\r\n          visible={isShowPopover}\r\n          onVisibleChange={visible => setIsShowPopover(visible)}\r\n        >\r\n          <Button\r\n            style={{\r\n              position: 'absolute',\r\n              right: 24,\r\n              top: 24,\r\n              backgroundColor: 'transparent',\r\n              border: '0px'\r\n            }}\r\n            onClick={() => onClickMore()}\r\n            icon={<FiMoreVertical size={24} color={'white'} />}\r\n          />\r\n        </Popover>\r\n      )}\r\n\r\n      <ButtonBase onClick={() => history.push(`/recipe/${recipe.id}`)}>\r\n        <div className=\"bgRecipe\">\r\n          <div className=\"txt\">\r\n            <Text\r\n              style={{ flex: 1, fontWeight: 600, fontSize: 18, color: 'white' }}\r\n            >\r\n              {recipe?.title}\r\n            </Text>\r\n          </div>\r\n\r\n          <div style={{ display: 'relative', alignItems: 'center' }}>\r\n            {recipe?.author?.avatar_url ? (\r\n              <Avatar size={24} src={recipe?.author?.avatar_url} />\r\n            ) : (\r\n              <Avatar size={24} icon={<UserOutlined />} />\r\n            )}\r\n            <Text\r\n              style={{\r\n                fontSize: 16,\r\n                color: 'white',\r\n                marginLeft: 8,\r\n                fontWeight: 'bold'\r\n              }}\r\n            >\r\n              {recipe?.author?.name}\r\n            </Text>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-between',\r\n              marginTop: 8\r\n            }}\r\n          >\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              <img src={hourglass} width={16} height={16} alt=\"\" />\r\n              <Text\r\n                style={{\r\n                  fontSize: 14,\r\n                  color: 'white',\r\n                  marginLeft: 4,\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                {recipe?.cooking_time} {t('create.min')}\r\n              </Text>\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              <img src={chart} width={16} height={16} alt=\"\" />\r\n\r\n              <Text\r\n                style={{\r\n                  fontSize: 14,\r\n                  color: 'white',\r\n                  marginLeft: 4,\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                {LEVEL[recipe?.level]}\r\n              </Text>\r\n            </div>\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              <img src={fire} width={16} height={16} alt=\"\" />\r\n              <Text\r\n                style={{\r\n                  fontSize: 14,\r\n                  color: 'white',\r\n                  marginLeft: 4,\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                {recipe?.ingredients?.reduce(calcCalories, 0).toFixed(0)} kcal\r\n              </Text>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </ButtonBase>\r\n    </div>\r\n  )\r\n}\r\n","import { Button, Col, Row, Tabs } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport AppHeader from 'components/Header'\r\nimport RecipeItem from 'components/RecipeItem'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR, history } from 'ultis/functions'\r\nimport '../../components/Header/header.css'\r\nimport './home.css'\r\nimport { GetHomeRecipe } from './redux/actions'\r\nconst { TabPane } = Tabs\r\n\r\nfunction Home() {\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const user = useSelector(state => state.Auth.user)\r\n  const { recommend, highlight } = useSelector(state => state.Home)\r\n  const [currentTab, setCurrentTab] = useState('1')\r\n\r\n  useEffect(() => {\r\n    dispatch(GetHomeRecipe.get({ type: Number(currentTab) }))\r\n  }, [currentTab])\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <div>\r\n        <div className=\"search-banner\">\r\n          <div className=\"header-fluid\">\r\n            <div className=\"text-banner\">\r\n              <p className=\"text\">Eat good</p>\r\n              <p className=\"text\">Feel good</p>\r\n              <div>\r\n                {!user && (\r\n                  <Button\r\n                    className=\"button\"\r\n                    onClick={() => {\r\n                      history.push({\r\n                        pathname: '/signin',\r\n                        state: { from: `/` }\r\n                      })\r\n                    }}\r\n                  >\r\n                    {' '}\r\n                    Try it Out\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"body-container\">\r\n        <Tabs\r\n          style={{\r\n            flex: 1,\r\n            marginBottom: 40,\r\n            marginTop: 8\r\n          }}\r\n          size=\"large\"\r\n          activeKey={currentTab}\r\n          onChange={key => setCurrentTab(key)}\r\n        >\r\n          <TabPane\r\n            tab={\r\n              <Text\r\n                style={{\r\n                  fontWeight: 700,\r\n                  color: currentTab === '1' ? COLOR.primary1 : ''\r\n                }}\r\n              >\r\n                {t('home.recommend').toLocaleUpperCase()}\r\n              </Text>\r\n            }\r\n            key=\"1\"\r\n          >\r\n            {recommend && recommend?.length > 0 ? (\r\n              <Row gutter={[16, 16]} justify=\"start\" style={{ marginTop: 20 }}>\r\n                {recommend.map(recipe => (\r\n                  <Col span={4} xs={24} md={12} lg={8} sm={24} xl={6} xxl={6}>\r\n                    <Row justify=\"center\">\r\n                      <RecipeItem recipe={recipe} />\r\n                    </Row>\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n            ) : (\r\n              <div style={{ marginTop: 48 }}>\r\n                <Text style={{ fontSize: 16 }}>{t('search.noResult')}</Text>\r\n              </div>\r\n            )}\r\n          </TabPane>\r\n          <TabPane\r\n            tab={\r\n              <Text\r\n                style={{\r\n                  fontWeight: 700,\r\n                  color: currentTab === '2' ? COLOR.primary1 : ''\r\n                }}\r\n              >\r\n                {t('home.whatToEat').toLocaleUpperCase()}\r\n              </Text>\r\n            }\r\n            key=\"2\"\r\n          >\r\n            {highlight && highlight?.length > 0 ? (\r\n              <Row gutter={[16, 16]} justify=\"start\" style={{ marginTop: 20 }}>\r\n                {highlight.map(recipe => (\r\n                  <Col span={4} xs={24} md={12} lg={8} sm={24} xl={6} xxl={6}>\r\n                    <Row justify=\"center\">\r\n                      <RecipeItem recipe={recipe} />\r\n                    </Row>\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n            ) : (\r\n              <div style={{ marginTop: 48 }}>\r\n                <Text style={{ fontSize: 16 }}>{t('search.noResult')}</Text>\r\n              </div>\r\n            )}\r\n          </TabPane>\r\n        </Tabs>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport { Button, Col, Collapse, Select, Spin, Tabs } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport AppHeader from 'components/Header'\r\nimport RecipeItem from 'components/RecipeItem'\r\nimport moment from 'moment'\r\nimport { DeleteRecipeInMenu, GetMenu } from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiChevronLeft, FiChevronRight } from 'react-icons/fi'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router'\r\nimport {\r\n  calcCaloriesMenu,\r\n  COLOR,\r\n  MENU_SESSION,\r\n  WEEK_COUNT\r\n} from 'ultis/functions'\r\n\r\nconst { TabPane } = Tabs\r\nconst { Option } = Select\r\nconst { Panel } = Collapse\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nexport default function MealPlanner() {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n  const { isLoadingMenu, menu, user } = useSelector(state => state.Auth)\r\n\r\n  const [startDate, setStartDate] = useState(\r\n    moment().utcOffset(0).set({ hour: 0, minute: 0, second: 0 }).weekday(0)\r\n  )\r\n  const [endDate, setEndDate] = useState(\r\n    moment().utcOffset(0).set({ hour: 23, minute: 59, second: 59 }).weekday(6)\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.replace('/')\r\n    }\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    getMenu(startDate, endDate)\r\n  }, [startDate, endDate])\r\n\r\n  const getMenu = (start, end) => {\r\n    dispatch(\r\n      GetMenu.get({\r\n        startDate: start?.unix(),\r\n        endDate: end?.unix()\r\n      })\r\n    )\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <>\r\n        <AppHeader />\r\n        <div\r\n          className=\"body-container\"\r\n          style={{\r\n            display: 'flex',\r\n            flex: 1,\r\n            justifyContent: 'center',\r\n            paddingTop: 48\r\n          }}\r\n        >\r\n          <Spin indicator={loadingIcon} />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const LabelSession = ({ name, list }) => {\r\n    return (\r\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n        <Text style={{ fontWeight: 600, fontSize: 16 }}>\r\n          {name === MENU_SESSION[0]\r\n            ? t('recipe.morning')\r\n            : name === MENU_SESSION[1]\r\n            ? t('recipe.lunch')\r\n            : t('recipe.dinner')}\r\n        </Text>\r\n        <Text style={{ fontWeight: 600, color: COLOR.grayText }}>\r\n          {list?.length}{' '}\r\n          {list?.length > 1 ? t('profile.dishes') : t('profile.dish')} -{' '}\r\n          {list?.reduce(calcCaloriesMenu, 0).toFixed(0)} kcal\r\n        </Text>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const ListRecipeSession = ({ recipes, session }) => {\r\n    const [isAdd, setIsAdd] = useState(false)\r\n    if (!recipes || recipes?.length < 1) {\r\n      return <Text>Chưa có bữa ăn</Text>\r\n    }\r\n    return (\r\n      <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n        {recipes?.map(item => (\r\n          <RecipeItem\r\n            recipe={item?.recipe}\r\n            style={{ marginBottom: 8 }}\r\n            showMoreBtn\r\n            popoverList={[\r\n              {\r\n                key: 'delete_meal',\r\n                title: t('profile.deleteRecipeInMealPlanner'),\r\n                onPress: recipeId => {\r\n                  dispatch(\r\n                    DeleteRecipeInMenu.get({\r\n                      id: item?.id,\r\n                      start: startDate,\r\n                      end: endDate\r\n                    })\r\n                  )\r\n                }\r\n              }\r\n            ]}\r\n          />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const OneDayMenu = ({ list, date }) => {\r\n    const breakfast = list?.filter(item => item.session === MENU_SESSION[0])\r\n    const lunch = list?.filter(item => item.session === MENU_SESSION[1])\r\n    const dinner = list?.filter(item => item.session === MENU_SESSION[2])\r\n    return (\r\n      <Col\r\n        sm={24}\r\n        md={12}\r\n        lg={8}\r\n        style={{\r\n          padding: 2\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            border: '2px solid #F6A13A',\r\n            width: '100%',\r\n            padding: 16,\r\n            display: 'flex',\r\n            justifyContent: 'space-between',\r\n            borderTopRightRadius: 10,\r\n            borderTopLeftRadius: 10\r\n          }}\r\n        >\r\n          <Text style={{ fontWeight: 600, fontSize: 18 }}>\r\n            {date.format('ddd')}\r\n          </Text>\r\n          <Text\r\n            style={{ fontWeight: 600, fontSize: 18, color: COLOR.primary1 }}\r\n          >\r\n            {list?.reduce(calcCaloriesMenu, 0).toFixed(0)} kcal\r\n          </Text>\r\n        </div>\r\n        <Collapse\r\n          defaultActiveKey={MENU_SESSION}\r\n          ghost\r\n          style={{ marginTop: 2 }}\r\n        >\r\n          <Panel\r\n            header={<LabelSession list={breakfast} name={MENU_SESSION[0]} />}\r\n            key={MENU_SESSION[0]}\r\n            style={{ border: '2px solid #F6A13A' }}\r\n          >\r\n            <ListRecipeSession recipes={breakfast} session={MENU_SESSION[0]} />\r\n          </Panel>\r\n          <Panel\r\n            header={<LabelSession list={lunch} name={MENU_SESSION[1]} />}\r\n            key={MENU_SESSION[1]}\r\n            style={{ border: '2px solid #F6A13A' }}\r\n          >\r\n            <ListRecipeSession recipes={lunch} session={MENU_SESSION[1]} />\r\n          </Panel>\r\n          <Panel\r\n            header={<LabelSession list={dinner} name={MENU_SESSION[2]} />}\r\n            key={MENU_SESSION[2]}\r\n            style={{ border: '2px solid #F6A13A' }}\r\n          >\r\n            <ListRecipeSession recipes={dinner} session={MENU_SESSION[2]} />\r\n          </Panel>\r\n        </Collapse>\r\n      </Col>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <div className=\"body-container\">\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'space-between',\r\n            paddingTop: 32\r\n          }}\r\n        >\r\n          <div>\r\n            <Button\r\n              style={{ marginRight: 16 }}\r\n              onClick={() => {\r\n                setStartDate(\r\n                  moment()\r\n                    .utcOffset(0)\r\n                    .set({ hour: 0, minute: 0, second: 0 })\r\n                    .weekday(0)\r\n                )\r\n                setEndDate(\r\n                  moment()\r\n                    .utcOffset(0)\r\n                    .set({ hour: 23, minute: 59, second: 59 })\r\n                    .weekday(6)\r\n                )\r\n              }}\r\n            >\r\n              {t('profile.today')}\r\n            </Button>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center'\r\n            }}\r\n          >\r\n            <Button\r\n              type=\"text\"\r\n              shape=\"circle\"\r\n              style={{ width: 40, height: 40, padding: 0 }}\r\n              onClick={() => {\r\n                setStartDate(startDate.clone().subtract(1, 'weeks'))\r\n                setEndDate(endDate.clone().subtract(1, 'weeks'))\r\n              }}\r\n              icon={<FiChevronLeft size={28} color={COLOR.primary1} />}\r\n            />\r\n            <Text style={{ fontSize: 20, fontWeight: 600 }}>\r\n              {startDate.format('DD/MM/YYYY')} - {endDate.format('DD/MM/YYYY')}\r\n            </Text>\r\n            <Button\r\n              type=\"text\"\r\n              shape=\"circle\"\r\n              style={{ width: 40, height: 40, padding: 0 }}\r\n              onClick={() => {\r\n                setStartDate(startDate.clone().add(1, 'weeks'))\r\n                setEndDate(endDate.clone().add(1, 'weeks'))\r\n              }}\r\n              icon={<FiChevronRight size={28} color={COLOR.primary1} />}\r\n            />\r\n          </div>\r\n          <Button type=\"primary\">{t('profile.recommendPlanner')}</Button>\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flex: 1,\r\n            overflowX: 'scroll',\r\n            marginTop: 24,\r\n            marginBottom: 48\r\n          }}\r\n        >\r\n          {WEEK_COUNT.map(wd => {\r\n            const date = startDate.clone().weekday(wd)\r\n            return (\r\n              <OneDayMenu\r\n                date={date}\r\n                list={menu.filter(item => {\r\n                  return date.isSame(item?.timestamp * 1000, 'day')\r\n                })}\r\n              />\r\n            )\r\n          })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  icon: {\r\n    marginRight: 8,\r\n    marginTop: -4\r\n  }\r\n}\r\n","import Title from 'antd/lib/typography/Title'\r\nimport AppHeader from 'components/Header'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nfunction Policy() {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div>\r\n      <AppHeader />\r\n      <div\r\n        style={{ marginTop: 48, paddingBottom: 60 }}\r\n        className=\"body-container\"\r\n      >\r\n        <Title level={3}>Privacy Policy</Title>{' '}\r\n        <p>\r\n          MAMMAM COOKBOOK built the MAM app as a Free app. This SERVICE is\r\n          provided by MAMMAM COOKBOOK at no cost and is intended for use as is.\r\n        </p>{' '}\r\n        <p>\r\n          This page is used to inform visitors regarding our policies with the\r\n          collection, use, and disclosure of Personal Information if anyone\r\n          decided to use our Service.\r\n        </p>{' '}\r\n        <p>\r\n          If you choose to use our Service, then you agree to the collection and\r\n          use of information in relation to this policy. The Personal\r\n          Information that we collect is used for providing and improving the\r\n          Service. We will not use or share your information with anyone except\r\n          as described in this Privacy Policy.\r\n        </p>{' '}\r\n        <p>\r\n          The terms used in this Privacy Policy have the same meanings as in our\r\n          Terms and Conditions, which is accessible at MAM unless otherwise\r\n          defined in this Privacy Policy.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Information Collection and Use</strong>\r\n        </p>{' '}\r\n        <p>\r\n          For a better experience, while using our Service, we may require you\r\n          to provide us with certain personally identifiable information. The\r\n          information that we request will be retained by us and used as\r\n          described in this privacy policy.\r\n        </p>{' '}\r\n        <div>\r\n          <p>\r\n            The app does use third party services that may collect information\r\n            used to identify you.\r\n          </p>{' '}\r\n          <p>\r\n            Link to privacy policy of third party service providers used by the\r\n            app\r\n          </p>\r\n          <ul>\r\n            <li>\r\n              <a\r\n                href=\"https://www.google.com/policies/privacy/\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Google Play Services\r\n              </a>\r\n            </li>\r\n            <li>\r\n              <a\r\n                href=\"https://www.facebook.com/about/privacy/update/printable\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Facebook\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <p>\r\n          <strong>Log Data</strong>\r\n        </p>{' '}\r\n        <p>\r\n          We want to inform you that whenever you use our Service, in a case of\r\n          an error in the app we collect data and information (through third\r\n          party products) on your phone called Log Data. This Log Data may\r\n          include information such as your device Internet Protocol (“IP”)\r\n          address, device name, operating system version, the configuration of\r\n          the app when utilizing our Service, the time and date of your use of\r\n          the Service, and other statistics.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Cookies</strong>\r\n        </p>{' '}\r\n        <p>\r\n          Cookies are files with a small amount of data that are commonly used\r\n          as anonymous unique identifiers. These are sent to your browser from\r\n          the websites that you visit and are stored on your device's internal\r\n          memory.\r\n        </p>{' '}\r\n        <p>\r\n          This Service does not use these “cookies” explicitly. However, the app\r\n          may use third party code and libraries that use “cookies” to collect\r\n          information and improve their services. You have the option to either\r\n          accept or refuse these cookies and know when a cookie is being sent to\r\n          your device. If you choose to refuse our cookies, you may not be able\r\n          to use some portions of this Service.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Service Providers</strong>\r\n        </p>{' '}\r\n        <p>\r\n          We may employ third-party companies and individuals due to the\r\n          following reasons:\r\n        </p>{' '}\r\n        <ul>\r\n          <li>To facilitate our Service;</li>{' '}\r\n          <li>To provide the Service on our behalf;</li>{' '}\r\n          <li>To perform Service-related services; or</li>{' '}\r\n          <li>To assist us in analyzing how our Service is used.</li>\r\n        </ul>{' '}\r\n        <p>\r\n          We want to inform users of this Service that these third parties have\r\n          access to your Personal Information. The reason is to perform the\r\n          tasks assigned to them on our behalf. However, they are obligated not\r\n          to disclose or use the information for any other purpose.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Security</strong>\r\n        </p>{' '}\r\n        <p>\r\n          We value your trust in providing us your Personal Information, thus we\r\n          are striving to use commercially acceptable means of protecting it.\r\n          But remember that no method of transmission over the internet, or\r\n          method of electronic storage is 100% secure and reliable, and we\r\n          cannot guarantee its absolute security.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Links to Other Sites</strong>\r\n        </p>{' '}\r\n        <p>\r\n          This Service may contain links to other sites. If you click on a\r\n          third-party link, you will be directed to that site. Note that these\r\n          external sites are not operated by us. Therefore, we strongly advise\r\n          you to review the Privacy Policy of these websites. We have no control\r\n          over and assume no responsibility for the content, privacy policies,\r\n          or practices of any third-party sites or services.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Children’s Privacy</strong>\r\n        </p>{' '}\r\n        <p>\r\n          These Services do not address anyone under the age of 13. We do not\r\n          knowingly collect personally identifiable information from children\r\n          under 13 years of age. In the case we discover that a child under 13\r\n          has provided us with personal information, we immediately delete this\r\n          from our servers. If you are a parent or guardian and you are aware\r\n          that your child has provided us with personal information, please\r\n          contact us so that we will be able to do necessary actions.\r\n        </p>{' '}\r\n        <p>\r\n          <strong>Changes to This Privacy Policy</strong>\r\n        </p>{' '}\r\n        <p>\r\n          We may update our Privacy Policy from time to time. Thus, you are\r\n          advised to review this page periodically for any changes. We will\r\n          notify you of any changes by posting the new Privacy Policy on this\r\n          page.\r\n        </p>{' '}\r\n        <p>This policy is effective as of 2021-07-15</p>{' '}\r\n        <p>\r\n          <strong>Contact Us</strong>\r\n        </p>{' '}\r\n        <p>\r\n          If you have any questions or suggestions about our Privacy Policy, do\r\n          not hesitate to contact us at mammam.cookbook@gmail.com.\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Policy\r\n","import { Button, Col, Row } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport { ChangePassword } from 'pages/SignIn/redux/actions'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch } from 'react-redux'\r\nimport * as yup from 'yup'\r\n\r\nfunction ChangePasswordTab() {\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n\r\n  const validationSchema = yup.object().shape({\r\n    password: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(8, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{8,})/, {\r\n        message: t('signin.passMin')\r\n      }),\r\n    newPassword: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(8, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{8,})/, {\r\n        message: t('signin.passMin')\r\n      })\r\n      .notOneOf([yup.ref('password'), null], t('createPass.newSameAsOld')),\r\n    confirm: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(8, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{8,})/, {\r\n        message: t('signin.passMin')\r\n      })\r\n      .oneOf([yup.ref('newPassword'), null], t('createPass.confirmSameAsNew'))\r\n  })\r\n\r\n  const handleCreate = values => {\r\n    dispatch(\r\n      ChangePassword.get({\r\n        password: values.password,\r\n        newPassword: values.newPassword\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (isValid, event, values) => {\r\n    if (isValid && event.key === 'Enter') {\r\n      handleCreate(values)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"chooseContainer\">\r\n      <Title level={4}>{t('profile.changePassword')}</Title>\r\n      <Text>{t('profile.changePassFrequently')}</Text>\r\n      <Formik\r\n        initialValues={{\r\n          password: '',\r\n          confirm: '',\r\n          newPassword: ''\r\n        }}\r\n        isInitialValid={false}\r\n        validationSchema={validationSchema}\r\n        onSubmit={values => handleCreate(values)}\r\n      >\r\n        {({\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          values,\r\n          isValid,\r\n          errors,\r\n          touched,\r\n          setFieldTouched\r\n        }) => {\r\n          return (\r\n            <Form style={{ marginTop: 48 }}>\r\n              <Row style={{ marginBottom: 8 }}>\r\n                <Col sm={24} md={6} lg={6} style={{ marginTop: 12 }}>\r\n                  {t('createPass.oldPass')}\r\n                </Col>\r\n                <Col sm={24} md={18} lg={18}>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.password}\r\n                    onChange={handleChange('password')}\r\n                    onTouchStart={() => setFieldTouched('password')}\r\n                    onBlur={handleBlur('password')}\r\n                    placeholder={t('createPass.oldPass')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.password}\r\n                    type=\"password\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row style={{ marginBottom: 8 }}>\r\n                <Col sm={24} md={6} lg={6} style={{ marginTop: 12 }}>\r\n                  {t('createPass.newPass')}\r\n                </Col>\r\n                <Col sm={24} md={18} lg={18}>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.newPassword}\r\n                    onChange={handleChange('newPassword')}\r\n                    onTouchStart={() => setFieldTouched('newPassword')}\r\n                    onBlur={handleBlur('newPassword')}\r\n                    placeholder={t('createPass.newPass')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.newPassword}\r\n                    type=\"password\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row>\r\n                <Col sm={24} md={6} lg={6} style={{ marginTop: 12 }}>\r\n                  {t('createPass.confirmPass')}\r\n                </Col>\r\n                <Col sm={24} md={18} lg={18}>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.confirm}\r\n                    onChange={handleChange('confirm')}\r\n                    onTouchStart={() => setFieldTouched('confirm')}\r\n                    onBlur={handleBlur('confirm')}\r\n                    placeholder={t('createPass.confirmPass')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.confirm}\r\n                    type=\"password\"\r\n                  />\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row align=\"middle\" style={{ marginBottom: 16 }}>\r\n                <Col sm={24} md={6} lg={6} />\r\n                <Col sm={24} md={18} lg={18}>\r\n                  <Button\r\n                    style={{ marginTop: 24 }}\r\n                    disabled={!isValid}\r\n                    type=\"primary\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {t('common.save')}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChangePasswordTab\r\n","import { Button, Modal } from 'antd'\r\nimport CInput from 'components/CInput'\r\nimport { CreateCollection, UpdateCollection } from 'pages/Profile/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch } from 'react-redux'\r\nimport { NAME_REGEX } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\n\r\nexport default function ModalAddNewCollection({\r\n  title = null,\r\n  id = null,\r\n  isShow,\r\n  closeModal = () => {}\r\n}) {\r\n  const [collectionName, setCollectionName] = useState(title ? title : '')\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const validateName =\r\n    collectionName.length > 0 && NAME_REGEX.test(collectionName)\r\n\r\n  useEffect(() => {\r\n    if (title) {\r\n      setCollectionName(title)\r\n    }\r\n  }, [title])\r\n\r\n  const handleKeyPress = event => {\r\n    if (event.key === 'Enter' && validateName) {\r\n      createNewCollection()\r\n    }\r\n  }\r\n\r\n  const createNewCollection = () => {\r\n    if (title) {\r\n      dispatch(UpdateCollection.get({ name: collectionName, collectionId: id }))\r\n    } else {\r\n      dispatch(CreateCollection.get({ name: collectionName }))\r\n    }\r\n    setCollectionName('')\r\n    closeModal()\r\n  }\r\n\r\n  const handleOk = () => {\r\n    closeModal()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    closeModal()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={\r\n        title ? t('profile.changeCollectionName') : t('recipe.addNewCollection')\r\n      }\r\n      visible={isShow}\r\n      centered\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n      footer={[\r\n        <Button key=\"cancelButton\" onClick={() => handleCancel()} size=\"large\">\r\n          {i18n.t('common.cancel')}\r\n        </Button>,\r\n        <Button\r\n          disabled={!validateName}\r\n          key=\"okButton\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={() => createNewCollection()}\r\n        >\r\n          {title ? t('profile.changeName') : t('common.create')}\r\n        </Button>\r\n      ]}\r\n    >\r\n      <CInput\r\n        value={collectionName}\r\n        onKeyPress={event => handleKeyPress(event)}\r\n        onChange={event => setCollectionName(event.target.value)}\r\n        placeholder={\r\n          title\r\n            ? t('profile.changeCollectionNamePlaceholder')\r\n            : t('recipe.collectionNamePlaceholder')\r\n        }\r\n        error={!validateName && t('recipe.collectionNameError')}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport { Button, Col, Menu, Row } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport RecipeItem from 'components/RecipeItem'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiEdit, FiPlus, FiX } from 'react-icons/fi'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR, MODAL_TYPE } from 'ultis/functions'\r\nimport {\r\n  DeleteCollection,\r\n  DeleteRecipeInCollection,\r\n  GetCollectionDetail,\r\n  GetCollections\r\n} from '../redux/actions'\r\nimport ModalAddNewCollection from './addCollectionModal'\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nfunction CollectionListProfile() {\r\n  const { collections, collectionDetail } = useSelector(state => state.Profile)\r\n  const user = useSelector(state => state.Auth.user)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const [chosenIndex, setChosenIndex] = useState(0)\r\n  const [isShow, setIsShow] = useState(false)\r\n  const [isShowEdit, setIsShowEdit] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      dispatch(GetCollections.get())\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (collections && collections?.length > 0) {\r\n      dispatch(GetCollectionDetail.get(collections[chosenIndex]?.id))\r\n    }\r\n  }, [chosenIndex, collections])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"chooseContainer\">\r\n        <div style={{ display: 'flex', height: '100%' }}>\r\n          <Row\r\n            gutter={{ xs: 0, sm: 0, md: 16, lg: 16 }}\r\n            justify=\"space-between\"\r\n            style={{ display: 'flex', flex: 1 }}\r\n          >\r\n            <Col xs={24} sm={24} md={16} lg={18} xl={18} xxl={18}>\r\n              <div\r\n                style={{ display: 'flex', flex: 2.5, flexDirection: 'column' }}\r\n              >\r\n                {collections && collections?.length > 0 ? (\r\n                  <div\r\n                    style={{\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center'\r\n                    }}\r\n                  >\r\n                    <Title level={4}>{collectionDetail?.name}</Title>\r\n                    <Button\r\n                      onClick={() => setIsShowEdit(true)}\r\n                      shape=\"circle\"\r\n                      type=\"text\"\r\n                      style={{ marginTop: -16 }}\r\n                      icon={<FiEdit size={24} color={COLOR.primary1} />}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <Title level={4}>{t('profile.noCollections')}</Title>\r\n                )}\r\n                {collectionDetail?.recipes &&\r\n                collectionDetail?.recipes?.length > 0 ? (\r\n                  <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n                    {collectionDetail?.recipes?.map(item => (\r\n                      <Col xs={24} sm={24} md={12} lg={8} xl={8} xxl={6}>\r\n                        <RecipeItem\r\n                          recipe={item?.recipe}\r\n                          showMoreBtn={true}\r\n                          popoverList={[\r\n                            {\r\n                              key: 'delete_from_collection',\r\n                              title: t('profile.deleteRecipeInCollection'),\r\n                              onPress: recipeId => {\r\n                                GlobalModal.alertMessage(\r\n                                  t('common.confirm'),\r\n                                  t(\r\n                                    'profile.confirmToDeleteRecipeInCollection'\r\n                                  ),\r\n                                  MODAL_TYPE.CHOICE,\r\n                                  () => {\r\n                                    dispatch(\r\n                                      DeleteRecipeInCollection.get({\r\n                                        collectionId: collectionDetail?.id,\r\n                                        recipeId\r\n                                      })\r\n                                    )\r\n                                  }\r\n                                )\r\n                              }\r\n                            }\r\n                          ]}\r\n                        />\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                ) : (\r\n                  <Text>{t('profile.noRecipeInCollection')}</Text>\r\n                )}\r\n              </div>\r\n            </Col>\r\n\r\n            <Col\r\n              xs={24}\r\n              sm={24}\r\n              md={8}\r\n              lg={5}\r\n              xl={5}\r\n              xxl={5}\r\n              style={{\r\n                flexDirection: 'column',\r\n                backgroundColor: '#EEE',\r\n                borderRadius: 10,\r\n                padding: 8,\r\n                width: '100%',\r\n                height: 'auto'\r\n              }}\r\n            >\r\n              <Row justify=\"center\">\r\n                <Col>\r\n                  <Title style={{ marginTop: 16 }} level={5}>\r\n                    {t('profile.collection')}\r\n                  </Title>\r\n                  <Col>\r\n                    {collections.map((item, index) => (\r\n                      <ButtonBase\r\n                        style={{\r\n                          alignItems: 'center',\r\n                          backgroundColor:\r\n                            index === chosenIndex ? COLOR.primary3 : null,\r\n                          width: '100%',\r\n                          display: 'flex',\r\n                          flex: 1,\r\n                          whiteSpace: 'normal'\r\n                        }}\r\n                        onClick={() => setChosenIndex(index)}\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            display: 'flex',\r\n                            flex: 1,\r\n                            alignItems: 'center',\r\n                            justifyContent: 'space-between'\r\n                          }}\r\n                        >\r\n                          <div>\r\n                            <Text style={{ fontWeight: 500, fontSize: 14 }}>\r\n                              {item.name}\r\n                            </Text>\r\n                          </div>\r\n                          <div>\r\n                            <Button\r\n                              onClick={() =>\r\n                                GlobalModal.alertMessage(\r\n                                  t('common.confirm'),\r\n                                  t('profile.confirmToDeleteCollection'),\r\n                                  MODAL_TYPE.CHOICE,\r\n                                  () => {\r\n                                    setChosenIndex(0)\r\n                                    dispatch(DeleteCollection.get(item.id))\r\n                                  }\r\n                                )\r\n                              }\r\n                              shape=\"circle\"\r\n                              type=\"text\"\r\n                              icon={<FiX size={16} color={COLOR.mainBlack} />}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </ButtonBase>\r\n                    ))}\r\n                  </Col>\r\n                  <Button\r\n                    onClick={() => setIsShow(true)}\r\n                    style={{\r\n                      marginTop: 24,\r\n                      width: '100%',\r\n                      whiteSpace: 'normal',\r\n                      height: 'auto',\r\n                      marginBottom: '10px'\r\n                    }}\r\n                    type=\"primary\"\r\n                  >\r\n                    {t('recipe.addNewCollection')}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      </div>\r\n      <ModalAddNewCollection\r\n        isShow={isShow}\r\n        closeModal={() => setIsShow(false)}\r\n      />\r\n      <ModalAddNewCollection\r\n        title={collectionDetail?.name}\r\n        id={collectionDetail?.id}\r\n        isShow={isShowEdit}\r\n        closeModal={() => setIsShowEdit(false)}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CollectionListProfile\r\n","import { UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Button } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport 'pages/Home/home.css'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport { FollowUser, UnFollowUser } from 'pages/Profile/redux/actions'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport { MODAL_TYPE } from 'ultis/functions'\r\n\r\nfunction UserItem(props) {\r\n  const { user } = props\r\n  const { t } = useTranslation()\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const mainUser = useSelector(state => state.Auth.user)\r\n  const isFollow = mainUser\r\n    ? mainUser?.following?.findIndex(item => item.following_id === user.id) > -1\r\n    : false\r\n\r\n  const location = useLocation()\r\n\r\n  const onClickFollow = () => {\r\n    if (isFollow) {\r\n      dispatch(UnFollowUser.get(user.id))\r\n    } else {\r\n      dispatch(FollowUser.get(user.id))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        border: `1px solid #828282`,\r\n        borderRadius: 10,\r\n        padding: 16\r\n      }}\r\n    >\r\n      {user.avatar_url ? (\r\n        <Avatar size={100} src={user.avatar_url} />\r\n      ) : (\r\n        <Avatar size={100} icon={<UserOutlined />} />\r\n      )}\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          marginLeft: 12,\r\n          marginRight: 8\r\n        }}\r\n      >\r\n        <Button\r\n          type=\"link\"\r\n          onClick={() =>\r\n            history.push(`/profile?page=${PROFILE_PAGE.RECIPE}&user=${user.id}`)\r\n          }\r\n          style={{ fontSize: 18, fontWeight: 700, paddingLeft: 0 }}\r\n        >\r\n          {user.name}\r\n        </Button>\r\n        <Text\r\n          style={{\r\n            fontSize: 16,\r\n            fontWeight: 500,\r\n            marginBottom: 8\r\n          }}\r\n        >\r\n          10 {t('home.recipes').toLocaleLowerCase()}\r\n        </Text>\r\n        {mainUser ? (\r\n          mainUser?.id !== user.id ? (\r\n            <Button\r\n              style={{ justifySelf: 'flex-end' }}\r\n              type={isFollow ? 'default' : 'primary'}\r\n              onClick={onClickFollow}\r\n            >\r\n              {isFollow ? t('profile.following') : t('profile.follow')}\r\n            </Button>\r\n          ) : null\r\n        ) : (\r\n          <Button\r\n            style={{ justifySelf: 'flex-end' }}\r\n            type={isFollow ? 'default' : 'primary'}\r\n            onClick={() => {\r\n              GlobalModal.alertMessage(\r\n                null,\r\n                t('signin.title'),\r\n                MODAL_TYPE.CHOICE,\r\n                () =>\r\n                  history.push({\r\n                    pathname: '/signin',\r\n                    state: { from: `${location.pathname}${location.search}` }\r\n                  })\r\n              )\r\n            }}\r\n          >\r\n            {t('profile.follow')}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserItem\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport { Col, Row } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport UserItem from 'pages/SearchRecipe/components/userItem'\r\nimport React, { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR } from 'ultis/functions'\r\nimport { GetFollower } from '../redux/actions'\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nfunction FollowerListProfile(props) {\r\n  const { followers, isLoadingRecipe } = useSelector(state => state.Profile)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const followerList = followers?.map(item => item.user)\r\n\r\n  useEffect(() => {\r\n    if (props?.userId) {\r\n      dispatch(GetFollower.get(props?.userId))\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"chooseContainer\">\r\n      <Title level={4}>{t('profile.followers')}</Title>\r\n      {followerList && followerList?.length > 0 ? (\r\n        <Row gutter={[16, 24]} style={{ marginTop: 32 }}>\r\n          {followerList.map(item => (\r\n            <Col md={12} lg={12} sm={24}>\r\n              <UserItem user={item} />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      ) : (\r\n        <Text>{t('profile.noFollower')}</Text>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FollowerListProfile\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport { Col, Row } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport UserItem from 'pages/SearchRecipe/components/userItem'\r\nimport React, { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR } from 'ultis/functions'\r\nimport { GetFollowing } from '../redux/actions'\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nfunction FollowingListProfile(props) {\r\n  const { following, isLoadingRecipe } = useSelector(state => state.Profile)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const followingList = following?.map(item => item.following)\r\n\r\n  useEffect(() => {\r\n    if (props?.userId) {\r\n      dispatch(GetFollowing.get(props?.userId))\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"chooseContainer\">\r\n      <Title level={4}>{t('profile.followings')}</Title>\r\n      {followingList && followingList?.length > 0 ? (\r\n        <Row gutter={[16, 24]} style={{ marginTop: 32 }}>\r\n          {followingList.map(item => (\r\n            <Col md={12} lg={12} sm={24}>\r\n              <UserItem user={item} />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      ) : (\r\n        <Text>{t('profile.noFollowing')}</Text>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FollowingListProfile\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport { Col, Row, Spin } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport RecipeItem from 'components/RecipeItem'\r\nimport React, { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR, MODAL_TYPE } from 'ultis/functions'\r\nimport { DeleteRecipe, GetRecipeOfUser } from '../redux/actions'\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nfunction RecipeListProfile(props) {\r\n  const { recipes, isLoadingRecipe, userProfile } = useSelector(\r\n    state => state.Profile\r\n  )\r\n  const user = useSelector(state => state.Auth.user)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const recipePopover = [\r\n    {\r\n      key: 'edit_recipe',\r\n      title: t('profile.editRecipe'),\r\n      onPress: recipeId => {\r\n        console.log('edit', recipeId)\r\n      }\r\n    },\r\n    {\r\n      key: 'delete_recipe',\r\n      title: t('profile.deleteRecipe'),\r\n      onPress: recipeId => {\r\n        GlobalModal.alertMessage(\r\n          t('common.confirm'),\r\n          t('profile.confirmToDeleteRecipe'),\r\n          MODAL_TYPE.CHOICE,\r\n          () => {\r\n            dispatch(DeleteRecipe.get(recipeId))\r\n          }\r\n        )\r\n      }\r\n    }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    if (props?.userId) {\r\n      dispatch(GetRecipeOfUser.get(props?.userId))\r\n    }\r\n  }, [])\r\n\r\n  if (isLoadingRecipe) {\r\n    return (\r\n      <div className=\"chooseContainer\">\r\n        <Spin indicator={loadingIcon} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"chooseContainer\">\r\n      <Title level={4}>{t('home.recipes')}</Title>\r\n      {recipes && recipes?.length > 0 ? (\r\n        <Row gutter={[16, 24]} style={{ marginTop: 32 }}>\r\n          {recipes.map(recipe => (\r\n            <Col xs={24} sm={24} md={14} lg={10} xl={8} xxl={5}>\r\n              <RecipeItem\r\n                recipe={recipe}\r\n                showMoreBtn={user && user?.id === userProfile.id}\r\n                popoverList={recipePopover}\r\n              />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      ) : (\r\n        <Text>{t('search.noResult')}</Text>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RecipeListProfile\r\n","import { Button, Modal } from 'antd'\r\nimport { UpdateProfile } from 'pages/SignIn/redux/actions'\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport ReactCrop from 'react-image-crop'\r\nimport 'react-image-crop/dist/ReactCrop.css'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { upload } from 'ultis/uploadImage'\r\n\r\nfunction AvatarDialog(props) {\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n\r\n  const user = useSelector(state => state.Auth.user)\r\n\r\n  const [crop, setCrop] = useState({ aspect: 1 / 1 })\r\n  const [imageRef, setImageRef] = useState(null)\r\n  const [cropped, setCropped] = useState(null)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const { onClose, value, open } = props\r\n\r\n  const onSubmit = () => {\r\n    setIsLoading(true)\r\n    handleUploadImg()\r\n  }\r\n\r\n  const handleUploadImg = async () => {\r\n    const res = await upload(cropped)\r\n    dispatch(\r\n      UpdateProfile.get({ id: user.id, data: { avatar_url: res.secure_url } })\r\n    )\r\n    onClose()\r\n  }\r\n\r\n  const makeClientCrop = async crop => {\r\n    if (imageRef && crop.width && crop.height) {\r\n      await getCroppedImg(imageRef, crop)\r\n    }\r\n  }\r\n\r\n  const getCroppedImg = (image, crop) => {\r\n    const canvas = document.createElement('canvas')\r\n    const scaleX = image.naturalWidth / image.width\r\n    const scaleY = image.naturalHeight / image.height\r\n    canvas.width = crop.width\r\n    canvas.height = crop.height\r\n    const ctx = canvas.getContext('2d')\r\n\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    )\r\n\r\n    const reader = new FileReader()\r\n    canvas.toBlob(blob => {\r\n      reader.readAsDataURL(blob)\r\n      reader.onloadend = () => {\r\n        setCropped(reader.result)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={t('profile.updateAvatar')}\r\n      visible={open}\r\n      centered\r\n      onOk={onSubmit}\r\n      onCancel={onClose}\r\n      footer={[\r\n        <Button\r\n          disabled={isLoading}\r\n          key=\"cancelButton\"\r\n          onClick={onClose}\r\n          size=\"large\"\r\n        >\r\n          {t('common.cancel')}\r\n        </Button>,\r\n        <Button\r\n          loading={isLoading}\r\n          key=\"okButton\"\r\n          size=\"large\"\r\n          type=\"primary\"\r\n          onClick={onSubmit}\r\n          disabled={cropped == null}\r\n        >\r\n          {t('common.update')}\r\n        </Button>\r\n      ]}\r\n    >\r\n      <ReactCrop\r\n        src={value}\r\n        crop={crop}\r\n        ruleOfThirds\r\n        onImageLoaded={image => setImageRef(image)}\r\n        onComplete={makeClientCrop}\r\n        onChange={crop => setCrop(crop)}\r\n      />\r\n    </Modal>\r\n  )\r\n}\r\n\r\nAvatarDialog.defaultProps = {\r\n  value: null,\r\n  onClose: () => {},\r\n  open: false\r\n}\r\n\r\nexport default AvatarDialog\r\n","import { Avatar, Button, Col, Row } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport React, { useRef, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport * as yup from 'yup'\r\nimport { UserOutlined } from '@ant-design/icons'\r\nimport { NAME_REGEX } from 'ultis/functions'\r\nimport { UpdateProfile } from 'pages/SignIn/redux/actions'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport AvatarDialog from './avatarDialog'\r\n\r\nfunction UserInfoTab() {\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const { userProfile } = useSelector(state => state.Profile)\r\n  const { isLoading } = useSelector(state => state.Auth)\r\n  const inputRef = useRef()\r\n  const [src, setSrc] = useState(null)\r\n\r\n  const validationSchema = yup.object().shape({\r\n    name: yup\r\n      .string()\r\n      .trim()\r\n      .required(t('signin.fullnameRequired'))\r\n      .min(3, t('signin.fullnameMin'))\r\n      .max(64, t('signin.fullnameMax'))\r\n      .matches(NAME_REGEX, {\r\n        message: t('signin.fullnameInvalid')\r\n      })\r\n  })\r\n\r\n  const handleCreate = values => {\r\n    dispatch(\r\n      UpdateProfile.get({\r\n        data: values,\r\n        id: userProfile?.id\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (isValid, event, values) => {\r\n    if (isValid && event.key === 'Enter') {\r\n      handleCreate(values)\r\n    }\r\n  }\r\n\r\n  const readSrc = picture => {\r\n    let reader = new FileReader()\r\n    reader.readAsDataURL(picture)\r\n    reader.onloadend = () => {\r\n      setSrc(reader.result)\r\n    }\r\n  }\r\n\r\n  const onCloseDialog = () => {\r\n    setSrc(null)\r\n  }\r\n\r\n  return (\r\n    <div className=\"chooseContainer\">\r\n      <Title level={4}>{t('profile.userInfo')}</Title>\r\n      <Formik\r\n        initialValues={{\r\n          name: userProfile?.name || ''\r\n        }}\r\n        isInitialValid={false}\r\n        validationSchema={validationSchema}\r\n        onSubmit={values => handleCreate(values)}\r\n      >\r\n        {({\r\n          handleChange,\r\n          handleBlur,\r\n          handleSubmit,\r\n          values,\r\n          isValid,\r\n          errors,\r\n          touched,\r\n          setFieldTouched\r\n        }) => {\r\n          return (\r\n            <Form style={{ marginTop: 48 }}>\r\n              <Row style={{ marginBottom: 8 }}>\r\n                <Col\r\n                  sm={24}\r\n                  md={8}\r\n                  lg={8}\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginBottom: 16\r\n                  }}\r\n                >\r\n                  <ButtonBase\r\n                    onClick={() => inputRef.current.click()}\r\n                    style={{ padding: 4, borderRadius: 100 }}\r\n                  >\r\n                    <input\r\n                      accept=\"image/*\"\r\n                      style={{ display: 'none' }}\r\n                      ref={inputRef}\r\n                      type=\"file\"\r\n                      onChange={e => readSrc(e.target.files[0])}\r\n                    />\r\n                    {userProfile?.avatar_url ? (\r\n                      <Avatar size={120} src={userProfile?.avatar_url} />\r\n                    ) : (\r\n                      <Avatar size={120} icon={<UserOutlined />} />\r\n                    )}\r\n                  </ButtonBase>\r\n                </Col>\r\n                <Col sm={24} md={16} lg={16}>\r\n                  <>\r\n                    <CInput value={userProfile.email} disabled={true} />\r\n                    <CInput\r\n                      style={{ marginTop: 12 }}\r\n                      value={values.name}\r\n                      onChange={handleChange('name')}\r\n                      onTouchStart={() => setFieldTouched('name')}\r\n                      onBlur={handleBlur('name')}\r\n                      placeholder={t('signup.fullname')}\r\n                      onKeyPress={event =>\r\n                        handleKeyPress(isValid, event, values)\r\n                      }\r\n                      error={errors.name}\r\n                    />\r\n                  </>\r\n                </Col>\r\n              </Row>\r\n\r\n              <Row align=\"middle\" style={{ marginBottom: 16 }}>\r\n                <Col sm={24} md={8} lg={8} />\r\n                <Col sm={24} md={16} lg={16}>\r\n                  <Button\r\n                    style={{ marginTop: 24 }}\r\n                    disabled={!isValid}\r\n                    type=\"primary\"\r\n                    loading={isLoading}\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {t('common.save')}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          )\r\n        }}\r\n      </Formik>\r\n      <AvatarDialog open={src != null} value={src} onClose={onCloseDialog} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserInfoTab\r\n","import { LoadingOutlined, UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Col, Menu, Row, Select, Spin, Tabs } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport AppHeader from 'components/Header'\r\nimport { GetProfile } from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport {\r\n  FiBookmark,\r\n  FiFileText,\r\n  FiLock,\r\n  FiShoppingCart,\r\n  FiSliders,\r\n  FiUser,\r\n  FiUserCheck,\r\n  FiUsers\r\n} from 'react-icons/fi'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport { COLOR } from 'ultis/functions'\r\nimport ChangePasswordTab from './component/changePassTab'\r\nimport CollectionListProfile from './component/collectionList'\r\nimport FollowerListProfile from './component/followerList'\r\nimport FollowingListProfile from './component/followingList'\r\nimport RecipeListProfile from './component/recipeList'\r\nimport UserInfoTab from './component/userInfoTab'\r\nimport { PROFILE_PAGE } from './constant'\r\n\r\nconst { TabPane } = Tabs\r\nconst { Option } = Select\r\n\r\nconst loadingIcon = (\r\n  <LoadingOutlined style={{ fontSize: 30, color: COLOR.primary1 }} spin />\r\n)\r\n\r\nexport default function ProfilePage() {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n  const user = useSelector(state => state.Auth.user)\r\n  const {\r\n    collections,\r\n    collectionDetail,\r\n    followers,\r\n    following,\r\n    recipes,\r\n    isLoadingCollections,\r\n    isLoadingCollectionDetail,\r\n    isLoadingProfile,\r\n    userProfile\r\n  } = useSelector(state => state.Profile)\r\n\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search)\r\n  }\r\n  const query = useQuery()\r\n  const currentPage = query.get('page')\r\n  const otherUser = query.get('user')\r\n\r\n  useEffect(() => {\r\n    if (!user && !otherUser) {\r\n      if (currentPage === PROFILE_PAGE.CHANGE_PASSWORD) {\r\n        history.push({\r\n          pathname: '/signin',\r\n          state: { from: `/profile?page=${PROFILE_PAGE.RECIPE}` }\r\n        })\r\n      } else {\r\n        history.replace('/')\r\n      }\r\n    } else if (user?.id === otherUser) {\r\n      history.replace(`/profile?page=${PROFILE_PAGE.RECIPE}`)\r\n    }\r\n  }, [user, otherUser])\r\n\r\n  const currentUser = otherUser ? otherUser : user?.id\r\n\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      dispatch(GetProfile.get(currentUser))\r\n    }\r\n  }, [currentUser])\r\n\r\n  const onMenuSelect = e => {\r\n    if (otherUser) {\r\n      history.push(`/profile?page=${e.key}&user=${otherUser}`)\r\n    } else {\r\n      history.push(`/profile?page=${e.key}`)\r\n    }\r\n  }\r\n\r\n  const renderRightDashboard = () => {\r\n    switch (currentPage) {\r\n      case PROFILE_PAGE.RECIPE:\r\n        return <RecipeListProfile userId={currentUser} />\r\n      case PROFILE_PAGE.FOLLOWING:\r\n        return <FollowingListProfile userId={currentUser} />\r\n      case PROFILE_PAGE.FOLLOWER:\r\n        return <FollowerListProfile userId={currentUser} />\r\n      case PROFILE_PAGE.COLLECTION:\r\n        return <CollectionListProfile />\r\n      case PROFILE_PAGE.INFO:\r\n        return <UserInfoTab />\r\n      case PROFILE_PAGE.CHANGE_PASSWORD:\r\n        return <ChangePasswordTab />\r\n      default:\r\n        return <RecipeListProfile userId={currentUser} />\r\n    }\r\n  }\r\n\r\n  if (isLoadingProfile || !userProfile) {\r\n    return (\r\n      <>\r\n        <AppHeader />\r\n        <div\r\n          className=\"body-container\"\r\n          style={{\r\n            display: 'flex',\r\n            flex: 1,\r\n            justifyContent: 'center',\r\n            paddingTop: 48\r\n          }}\r\n        >\r\n          <Spin indicator={loadingIcon} />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n\r\n      <div className=\"body-container\">\r\n        <Row justify=\"start\" gutter={{ xs: 0, sm: 0, md: 16, lg: 16 }}>\r\n          <Col span={6} sm={24} xs={24} md={8} lg={8} xl={6} xxl={6}>\r\n            <div\r\n              id=\"menuContainer\"\r\n              style={{\r\n                backgroundColor: '#EEE',\r\n                borderRadius: 10\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  alignItems: 'center',\r\n                  padding: 16\r\n                }}\r\n              >\r\n                {userProfile?.avatar_url ? (\r\n                  <Avatar size={80} src={userProfile?.avatar_url} />\r\n                ) : (\r\n                  <Avatar size={80} icon={<UserOutlined />} />\r\n                )}\r\n                <Text\r\n                  style={{\r\n                    fontSize: 18,\r\n                    fontWeight: 700,\r\n                    marginTop: 24,\r\n                    textAlign: 'center'\r\n                  }}\r\n                >\r\n                  {userProfile?.name}\r\n                </Text>\r\n                <Text\r\n                  style={{\r\n                    fontSize: 14,\r\n                    color: COLOR.grayText,\r\n                    textAlign: 'center'\r\n                  }}\r\n                >\r\n                  {userProfile?.email}\r\n                </Text>\r\n              </div>\r\n              <Menu\r\n                defaultSelectedKeys={[PROFILE_PAGE.RECIPE]}\r\n                selectedKeys={[currentPage]}\r\n                mode=\"inline\"\r\n                onClick={onMenuSelect}\r\n                style={{\r\n                  backgroundColor: COLOR.primary1,\r\n                  marginTop: 24,\r\n                  paddingTop: 16,\r\n                  paddingBottom: 16,\r\n                  borderRadius: 10\r\n                }}\r\n              >\r\n                <Menu.Item\r\n                  style={{ color: 'white' }}\r\n                  className=\"customItem\"\r\n                  id=\"txtItem\"\r\n                  key={PROFILE_PAGE.RECIPE}\r\n                  icon={<FiFileText size={16} style={styles.icon} />}\r\n                >\r\n                  {t('home.recipes')}\r\n                </Menu.Item>\r\n                <Menu.Item\r\n                  style={{ color: 'white' }}\r\n                  className=\"customItem\"\r\n                  id=\"txtItem\"\r\n                  key={PROFILE_PAGE.FOLLOWING}\r\n                  icon={<FiUserCheck size={16} style={styles.icon} />}\r\n                >\r\n                  {t('profile.followings')}\r\n                </Menu.Item>\r\n                <Menu.Item\r\n                  style={{ color: 'white' }}\r\n                  className=\"customItem\"\r\n                  id=\"txtItem\"\r\n                  key={PROFILE_PAGE.FOLLOWER}\r\n                  icon={<FiUsers size={16} style={styles.icon} />}\r\n                >\r\n                  {t('profile.followers')}\r\n                </Menu.Item>\r\n                {!otherUser && (\r\n                  <Menu.Item\r\n                    style={{ color: 'white' }}\r\n                    className=\"customItem\"\r\n                    id=\"txtItem\"\r\n                    key={PROFILE_PAGE.COLLECTION}\r\n                    icon={<FiBookmark size={16} style={styles.icon} />}\r\n                  >\r\n                    {t('profile.collection')}\r\n                  </Menu.Item>\r\n                )}\r\n                {!otherUser && (\r\n                  <Menu.Item\r\n                    style={{ color: 'white' }}\r\n                    className=\"customItem\"\r\n                    id=\"txtItem\"\r\n                    key={PROFILE_PAGE.SHOPPING_LIST}\r\n                    icon={<FiShoppingCart size={16} style={styles.icon} />}\r\n                  >\r\n                    {t('profile.shoppingList')}\r\n                  </Menu.Item>\r\n                )}\r\n                {!otherUser && (\r\n                  <Menu.Item\r\n                    style={{ color: 'white' }}\r\n                    className=\"customItem\"\r\n                    id=\"txtItem\"\r\n                    key={PROFILE_PAGE.INFO}\r\n                    icon={<FiUser size={16} style={styles.icon} />}\r\n                  >\r\n                    {t('profile.userInfo')}\r\n                  </Menu.Item>\r\n                )}\r\n                {!otherUser && (\r\n                  <Menu.Item\r\n                    style={{ color: 'white' }}\r\n                    className=\"customItem\"\r\n                    id=\"txtItem\"\r\n                    key={PROFILE_PAGE.CHANGE_PASSWORD}\r\n                    icon={<FiLock size={16} style={styles.icon} />}\r\n                  >\r\n                    {t('profile.changePassword')}\r\n                  </Menu.Item>\r\n                )}\r\n                {!otherUser && (\r\n                  <Menu.Item\r\n                    style={{ color: 'white' }}\r\n                    className=\"customItem\"\r\n                    id=\"txtItem\"\r\n                    key={PROFILE_PAGE.CUSTOMIZE}\r\n                    icon={<FiSliders size={16} style={styles.icon} />}\r\n                  >\r\n                    {t('profile.customize')}\r\n                  </Menu.Item>\r\n                )}\r\n              </Menu>\r\n            </div>\r\n          </Col>\r\n          <Col span={18} sm={24} xs={24} md={16} lg={16} xl={18} xxl={18}>\r\n            {renderRightDashboard()}\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  icon: {\r\n    marginRight: 8,\r\n    marginTop: -4\r\n  }\r\n}\r\n","import { Button, Modal, Typography } from 'antd'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport CInput from 'components/CInput'\r\nimport {\r\n  AddRecipeToCollection,\r\n  CreateCollection,\r\n  GetCollections\r\n} from 'pages/Profile/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { IoMdRadioButtonOff, IoMdRadioButtonOn } from 'react-icons/io'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { COLOR, NAME_REGEX } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\n\r\nconst { Text, Title } = Typography\r\n\r\nexport default function ModalAddCollection({\r\n  recipeId,\r\n  isShow,\r\n  closeModal = () => {}\r\n}) {\r\n  const [isAddNewCollection, setIsAddNewCollection] = useState(false)\r\n  const [collectionName, setCollectionName] = useState('')\r\n  const [selected, setSelected] = useState(0)\r\n  const collections = useSelector(state => state.Profile.collections)\r\n  const user = useSelector(state => state.Auth.user)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const validateName =\r\n    collectionName.length > 0 && NAME_REGEX.test(collectionName)\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      dispatch(GetCollections.get())\r\n    }\r\n  }, [])\r\n\r\n  const handleKeyPress = event => {\r\n    if (event.key === 'Enter' && validateName) {\r\n      createNewCollection()\r\n    }\r\n  }\r\n\r\n  const createNewCollection = () => {\r\n    setIsAddNewCollection(false)\r\n    dispatch(CreateCollection.get({ name: collectionName }))\r\n  }\r\n\r\n  const handleOk = () => {\r\n    dispatch(\r\n      AddRecipeToCollection.get({\r\n        recipeId,\r\n        collectionId: collections[selected].id\r\n      })\r\n    )\r\n    closeModal()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    closeModal()\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={t('recipe.addToCollection')}\r\n      visible={isShow}\r\n      centered\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n      footer={\r\n        isAddNewCollection\r\n          ? [\r\n              <Button\r\n                key=\"cancelButton\"\r\n                onClick={() => setIsAddNewCollection(false)}\r\n                size=\"large\"\r\n              >\r\n                {i18n.t('common.cancel')}\r\n              </Button>,\r\n              <Button\r\n                disabled={!validateName}\r\n                key=\"okButton\"\r\n                size=\"large\"\r\n                type=\"primary\"\r\n                onClick={() => createNewCollection()}\r\n              >\r\n                {t('common.create')}\r\n              </Button>\r\n            ]\r\n          : [\r\n              <Button key=\"cancelButton\" onClick={handleCancel} size=\"large\">\r\n                {i18n.t('common.cancel')}\r\n              </Button>,\r\n              <Button\r\n                disabled={selected < 0 || selected >= collections.length}\r\n                key=\"okButton\"\r\n                size=\"large\"\r\n                type=\"primary\"\r\n                onClick={() => handleOk()}\r\n              >\r\n                {t('common.add')}\r\n              </Button>\r\n            ]\r\n      }\r\n    >\r\n      {collections && collections.length > 0 ? (\r\n        <div>\r\n          {collections.map((item, index) => (\r\n            <ButtonBase\r\n              style={{\r\n                height: 48,\r\n                alignItems: 'center',\r\n                justifyContent: 'space-between'\r\n              }}\r\n              onClick={() => setSelected(index)}\r\n            >\r\n              <Text style={{ fontWeight: 500, fontSize: 14 }}>{item.name}</Text>\r\n              {index === selected ? (\r\n                <IoMdRadioButtonOn size={20} color={COLOR.primary1} />\r\n              ) : (\r\n                <IoMdRadioButtonOff size={20} color={COLOR.primary1} />\r\n              )}\r\n            </ButtonBase>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Text style={{ fontWeight: 500, fontSize: 14 }}>\r\n          {t('recipe.noCollection')}\r\n        </Text>\r\n      )}\r\n      <div\r\n        style={{\r\n          height: 0.1,\r\n          backgroundColor: COLOR.gray,\r\n          marginTop: 16,\r\n          marginBottom: 16\r\n        }}\r\n      />\r\n      {isAddNewCollection ? (\r\n        <CInput\r\n          onKeyPress={event => handleKeyPress(event)}\r\n          onChange={event => setCollectionName(event.target.value)}\r\n          placeholder={t('recipe.collectionNamePlaceholder')}\r\n          error={!validateName && t('recipe.collectionNameError')}\r\n        />\r\n      ) : (\r\n        <ButtonBase\r\n          style={{ height: 48, alignItems: 'center' }}\r\n          onClick={() => setIsAddNewCollection(true)}\r\n        >\r\n          <Text style={{ fontWeight: 500, fontSize: 14 }}>\r\n            {t('recipe.addNewCollection')}\r\n          </Text>\r\n        </ButtonBase>\r\n      )}\r\n    </Modal>\r\n  )\r\n}\r\n","import { Button, Col, DatePicker, Modal, Row, Select, Typography } from 'antd'\r\nimport moment from 'moment'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport i18n from 'ultis/i18n'\r\nimport { AddToMenu } from '../redux/actions'\r\n\r\nconst { Text } = Typography\r\nconst { Option } = Select\r\n\r\nexport default function ModalAddMenu({\r\n  recipeId,\r\n  isShow,\r\n  closeModal = () => {}\r\n}) {\r\n  const [session, setSession] = useState('morning')\r\n  const [date, setDate] = useState(\r\n    moment().utcOffset(0).set({ hour: 0, minute: 0, second: 0 }).add(1, 'days')\r\n  )\r\n  const dispatch = useDispatch()\r\n  const handleOk = () => {\r\n    dispatch(\r\n      AddToMenu.get({\r\n        menu: [\r\n          {\r\n            recipe_id: recipeId,\r\n            timestamp: date?.unix(),\r\n            session\r\n          }\r\n        ]\r\n      })\r\n    )\r\n    closeModal()\r\n  }\r\n\r\n  const handleCancel = () => {\r\n    closeModal()\r\n  }\r\n\r\n  function disabledDate(current) {\r\n    return current && current < moment().endOf('day')\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      title={i18n.t('recipe.addToMenu')}\r\n      visible={isShow}\r\n      centered\r\n      onOk={handleOk}\r\n      onCancel={handleCancel}\r\n      footer={[\r\n        <Button key=\"cancelButton\" onClick={handleCancel} size=\"large\">\r\n          {i18n.t('common.cancel')}\r\n        </Button>,\r\n        <Button key=\"okButton\" size=\"large\" type=\"primary\" onClick={handleOk}>\r\n          {i18n.t('common.add')}\r\n        </Button>\r\n      ]}\r\n    >\r\n      <Row align=\"middle\" gutter={16}>\r\n        <Col className=\"gutter-row\" span={6}>\r\n          <Text>{i18n.t('recipe.chooseDate')}</Text>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={18}>\r\n          <DatePicker\r\n            allowClear={false}\r\n            style={{ width: '100%' }}\r\n            value={date}\r\n            disabledDate={disabledDate}\r\n            onChange={value =>\r\n              setDate(value.utcOffset(0).set({ hour: 0, minute: 0, second: 0 }))\r\n            }\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Row align=\"middle\" gutter={16} style={{ marginTop: 16 }}>\r\n        <Col className=\"gutter-row\" span={6}>\r\n          <Text>{i18n.t('recipe.chooseSession')}</Text>\r\n        </Col>\r\n        <Col className=\"gutter-row\" span={18}>\r\n          <Select\r\n            value={session}\r\n            style={{ width: '100%' }}\r\n            onChange={value => setSession(value)}\r\n          >\r\n            <Option value=\"morning\">{i18n.t('recipe.morning')}</Option>\r\n            <Option value=\"noon\">{i18n.t('recipe.lunch')}</Option>\r\n            <Option value=\"night\">{i18n.t('recipe.dinner')}</Option>\r\n          </Select>\r\n        </Col>\r\n      </Row>\r\n    </Modal>\r\n  )\r\n}\r\n","import { UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Button, Image, Typography } from 'antd'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport 'pages/Recipe/recipe.css'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst { Text, Title } = Typography\r\n\r\nexport default function Challenge({ item }) {\r\n  const { t } = useTranslation()\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <div style={{ marginBottom: 48 }}>\r\n      <div style={{ display: 'flex', alignItems: 'center' }}>\r\n        {item?.author?.avatar_url ? (\r\n          <Avatar\r\n            size={'large'}\r\n            src={item?.author?.avatar_url}\r\n            alt={item?.author?.name}\r\n          />\r\n        ) : (\r\n          <Avatar size={'large'} icon={<UserOutlined />} />\r\n        )}\r\n        <Button\r\n          type=\"link\"\r\n          onClick={() =>\r\n            history.push(\r\n              `/profile?page=${PROFILE_PAGE.RECIPE}&user=${item?.author?.id}`\r\n            )\r\n          }\r\n        >\r\n          {item?.author?.name}\r\n        </Button>\r\n      </div>\r\n      <Title level={5} style={{ marginTop: 16 }}>\r\n        {item.content}\r\n      </Title>\r\n      <div style={{ display: 'flex' }}>\r\n        <Image.PreviewGroup>\r\n          {item.images.map((img, index) => (\r\n            <div\r\n              style={{\r\n                width: '32%',\r\n                marginRight: index < item.images.length - 1 ? 16 : 0\r\n              }}\r\n            >\r\n              <Image\r\n                src={img}\r\n                style={{\r\n                  borderRadius: 10,\r\n                  height: 220,\r\n                  objectFit: 'cover'\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Image.PreviewGroup>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Button } from 'antd'\r\nimport TextArea from 'antd/lib/input/TextArea'\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch } from 'react-redux'\r\nimport { COLOR } from 'ultis/functions'\r\nimport { CommentPost } from '../redux/actions'\r\n\r\nexport default props => {\r\n  const { owner, postId, padding } = props\r\n  const dispatch = useDispatch()\r\n  const [cmt, setCmt] = useState('')\r\n  const { t } = useTranslation()\r\n  const isValid = cmt && cmt.length > 0\r\n\r\n  const handleKeyPress = event => {\r\n    if (isValid && event.key === 'Enter') {\r\n      comment()\r\n    }\r\n  }\r\n\r\n  const comment = () => {\r\n    dispatch(\r\n      CommentPost.get({\r\n        recipe_id: postId,\r\n        status: 'Approved',\r\n        images: [],\r\n        parent_comment_id: props.parentComment ? props.parentComment : null,\r\n        content: cmt\r\n      })\r\n    )\r\n    setCmt('')\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        paddingLeft: padding ? 60 : 0\r\n      }}\r\n    >\r\n      <div style={{ flex: 1 }}>\r\n        {owner.avatar_url ? (\r\n          <Avatar size={'large'} src={owner.avatar_url} />\r\n        ) : (\r\n          <Avatar size={'large'} icon={<UserOutlined />} />\r\n        )}\r\n      </div>\r\n\r\n      <TextArea\r\n        rows={2}\r\n        style={{\r\n          borderColor: COLOR.primary1,\r\n          marginLeft: 12,\r\n          marginRight: 24\r\n        }}\r\n        value={cmt}\r\n        onChange={event => setCmt(event.target.value)}\r\n        placeholder={t('recipe.commentPlaceholder')}\r\n      />\r\n      <Button type=\"primary\" size=\"large\" disabled={!isValid} onClick={comment}>\r\n        {t('recipe.sendComment')}\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n","import { Avatar, Button, Comment } from 'antd'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { COLOR, MODAL_TYPE } from 'ultis/functions'\r\nimport CommentSend from './CommentSend'\r\nimport { UserOutlined } from '@ant-design/icons'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport { FiArrowUp } from 'react-icons/fi'\r\nimport { DeleteComment, UpvoteComment } from '../redux/actions'\r\n\r\nexport default function CommentView(props) {\r\n  const { comment, canReply, postId, padding, key } = props\r\n  const user = useSelector(state => state.Auth.user)\r\n  const [isShowReply, setIsShowReply] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n\r\n  const onReply = () => {\r\n    if (user) {\r\n      setIsShowReply(true)\r\n    } else {\r\n      GlobalModal.alertMessage(\r\n        t('common.confirm'),\r\n        t('recipe.notSignIn'),\r\n        MODAL_TYPE.CHOICE,\r\n        () =>\r\n          history.push({\r\n            pathname: '/signin',\r\n            state: { from: `/recipe/${postId}` }\r\n          })\r\n      )\r\n    }\r\n  }\r\n\r\n  const onUpvoted = () => {\r\n    if (user) {\r\n      dispatch(\r\n        UpvoteComment.get({ recipe_id: postId, comment_id: comment?.id })\r\n      )\r\n    } else {\r\n      GlobalModal.alertMessage(\r\n        t('common.confirm'),\r\n        t('recipe.notSignIn'),\r\n        MODAL_TYPE.CHOICE,\r\n        () =>\r\n          history.push({\r\n            pathname: '/signin',\r\n            state: { from: `/recipe/${postId}` }\r\n          })\r\n      )\r\n    }\r\n  }\r\n\r\n  const actions = [\r\n    <Button\r\n      icon={\r\n        <FiArrowUp\r\n          size={16}\r\n          color={COLOR.primary1}\r\n          style={{ marginRight: 4, marginBottom: 2 }}\r\n        />\r\n      }\r\n      size=\"small\"\r\n      type={comment?.isUpvoted ? 'link' : 'text'}\r\n      onClick={onUpvoted}\r\n    >\r\n      {comment?.upvoteCount}\r\n    </Button>,\r\n    canReply && (\r\n      <Button\r\n        size=\"small\"\r\n        type=\"link\"\r\n        onClick={() => setIsShowReply(!isShowReply)}\r\n      >\r\n        {comment.childrenComments.length}{' '}\r\n        {comment.childrenComments.length > 1\r\n          ? t('recipe.replies')\r\n          : t('recipe.oneReply')}\r\n      </Button>\r\n    ),\r\n    canReply && (\r\n      <Button size=\"small\" type=\"link\" onClick={onReply}>\r\n        {t('recipe.reply')}\r\n      </Button>\r\n    ),\r\n    user && user.id === comment?.author?.id && (\r\n      <Button\r\n        size=\"small\"\r\n        type=\"link\"\r\n        onClick={() =>\r\n          GlobalModal.alertMessage(\r\n            t('common.confirm'),\r\n            t('recipe.confirmDeleteComment'),\r\n            MODAL_TYPE.CHOICE,\r\n            () => {\r\n              dispatch(\r\n                DeleteComment.get({ commentId: comment?.id, recipeId: postId })\r\n              )\r\n            }\r\n          )\r\n        }\r\n      >\r\n        {t('recipe.delete')}\r\n      </Button>\r\n    )\r\n  ]\r\n  return (\r\n    <div key={`comment-${key}`} style={padding ? { paddingLeft: 60 } : {}}>\r\n      <Comment\r\n        actions={actions}\r\n        author={\r\n          <a\r\n            onClick={() =>\r\n              history.push(\r\n                `/profile?page=${PROFILE_PAGE.RECIPE}&user=${comment?.author?.id}`\r\n              )\r\n            }\r\n          >\r\n            {comment?.author?.name}\r\n          </a>\r\n        }\r\n        avatar={\r\n          comment?.author?.avatar_url ? (\r\n            <Avatar size={'large'} src={comment.author.avatar_url} />\r\n          ) : (\r\n            <Avatar size={'large'} icon={<UserOutlined />} />\r\n          )\r\n        }\r\n        content={<p>{comment?.content}</p>}\r\n      />\r\n      {isShowReply && user && (\r\n        <CommentSend\r\n          padding={true}\r\n          owner={user}\r\n          postId={postId}\r\n          parentComment={comment.id}\r\n          style={{ margin: 0 }}\r\n        />\r\n      )}\r\n      {isShowReply &&\r\n        comment.childrenComments &&\r\n        comment.childrenComments.length > 0 &&\r\n        comment.childrenComments.map(item => (\r\n          <CommentView\r\n            padding={true}\r\n            key={item.id}\r\n            postId={postId}\r\n            comment={item}\r\n            canReply={false}\r\n          />\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n","import { Button, Typography } from 'antd'\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport CommentSend from './CommentSend'\r\nimport CommentView from './CommentView'\r\n\r\nexport default function RecipeComments(props) {\r\n  const { comments, postId } = props\r\n  const user = useSelector(state => state.Auth.user)\r\n  const [isShowAll, setIsShowAll] = useState(false)\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div>\r\n      {user ? (\r\n        <CommentSend owner={user} postId={postId} />\r\n      ) : (\r\n        <Typography style={{ marginBottom: 16 }}>\r\n          <Link\r\n            to={{ pathname: '/signin', state: { from: `/recipe/${postId}` } }}\r\n            style={{ textDecoration: 'none', color: 'black' }}\r\n          >\r\n            {t('recipe.signinToComment')}\r\n          </Link>\r\n        </Typography>\r\n      )}\r\n      {comments && comments.length > 0 && isShowAll\r\n        ? comments.map(item => (\r\n            <CommentView\r\n              key={item.id}\r\n              postId={postId}\r\n              comment={item}\r\n              canReply={true}\r\n            />\r\n          ))\r\n        : comments\r\n            .slice(0, 5)\r\n            .map(item => (\r\n              <CommentView\r\n                key={item.id}\r\n                postId={postId}\r\n                comment={item}\r\n                canReply={true}\r\n              />\r\n            ))}\r\n      {comments && comments.length > 5 && (\r\n        <Button\r\n          size=\"small\"\r\n          color=\"primary\"\r\n          onClick={() => setIsShowAll(!isShowAll)}\r\n        >\r\n          {isShowAll\r\n            ? t('recipe.showLessComment')\r\n            : t('recipe.showMoreComment')}\r\n        </Button>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n","import { Image, Typography } from 'antd'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { COLOR } from 'ultis/functions'\r\nimport 'pages/Recipe/recipe.css'\r\n\r\nconst { Text, Title } = Typography\r\n\r\nexport default function Direction({ item, index }) {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div style={{ marginBottom: 48 }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'flex-end'\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              width: 120,\r\n              height: 50,\r\n              backgroundColor: COLOR.primary1,\r\n              borderTopRightRadius: 10\r\n            }}\r\n          />\r\n          <div>\r\n            <Title level={4} style={{ margin: 8 }}>\r\n              {t('create.step')} {index}\r\n            </Title>\r\n            <div\r\n              style={{\r\n                height: 4,\r\n                width: '100%',\r\n                backgroundColor: COLOR.primary1\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        {item.time && (\r\n          <Title level={4} style={{ margin: 8 }}>\r\n            {item?.time} {t('create.min')}\r\n          </Title>\r\n        )}\r\n      </div>\r\n      <Title level={5} style={{ marginTop: 16 }}>\r\n        {item.content}\r\n      </Title>\r\n      <div style={{ display: 'flex' }}>\r\n        <Image.PreviewGroup>\r\n          {item.images.map((img, index) => (\r\n            <div\r\n              style={{\r\n                width: '32%',\r\n                marginRight: index < item.images.length - 1 ? 16 : 0\r\n              }}\r\n            >\r\n              <Image\r\n                src={img}\r\n                style={{\r\n                  borderRadius: 10,\r\n                  height: 220,\r\n                  objectFit: 'cover'\r\n                }}\r\n              />\r\n            </div>\r\n          ))}\r\n        </Image.PreviewGroup>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import Paragraph from 'antd/lib/typography/Paragraph'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nexport default function DirectionList({\r\n  directions,\r\n  onClickItem = step => {}\r\n}) {\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const { t } = useTranslation()\r\n  return (\r\n    <div\r\n      style={{\r\n        width: isDesktopOrLaptop ? 300 : '70vw',\r\n        maxHeight: 600,\r\n        borderRadius: 10,\r\n        backgroundColor: 'white',\r\n        overflowY: 'auto'\r\n      }}\r\n    >\r\n      {directions && directions?.length > 0\r\n        ? directions?.map((item, index) => (\r\n            <ButtonBase\r\n              style={{ alignItems: 'center' }}\r\n              onClick={() => {\r\n                onClickItem(index + 1)\r\n              }}\r\n            >\r\n              <Paragraph\r\n                ellipsis={{\r\n                  rows: 2,\r\n                  expandable: false,\r\n                  suffix: ''\r\n                }}\r\n              >\r\n                <Text style={{ fontWeight: 700 }}>\r\n                  {t('create.step')} {index + 1}.\r\n                </Text>{' '}\r\n                {item?.content}\r\n              </Paragraph>\r\n            </ButtonBase>\r\n          ))\r\n        : null}\r\n    </div>\r\n  )\r\n}\r\n","import { Typography } from 'antd'\r\nimport Paragraph from 'antd/lib/typography/Paragraph'\r\nimport 'pages/CreateRecipe/create.css'\r\nimport 'pages/SignIn/signin.css'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { capitalizeFirstLetter, COLOR } from 'ultis/functions'\r\n\r\nconst { Text } = Typography\r\n\r\nfunction RecipeIngredient({ style = {}, item, onAddToChecklist = () => {} }) {\r\n  const { t } = useTranslation()\r\n\r\n  return (\r\n    <div style={styles.item} key={item.id}>\r\n      <div className=\"imgSquare\">\r\n        {item.img ? (\r\n          <span\r\n            className=\"imgSrc\"\r\n            style={{ backgroundImage: `url(\"${item.img}\")`, borderRadius: 10 }}\r\n          />\r\n        ) : (\r\n          <span className=\"imgSrcDefault\" style={{ borderRadius: 10 }} />\r\n        )}\r\n      </div>\r\n      <Paragraph\r\n        ellipsis={{\r\n          rows: 2,\r\n          expandable: false,\r\n          suffix: ''\r\n        }}\r\n        style={{ marginBottom: 0, minHeight: 48 }}\r\n      >\r\n        <Text style={styles.nameTxt}>{capitalizeFirstLetter(item.name)}</Text>\r\n      </Paragraph>\r\n\r\n      <Text style={styles.amountTxt}>\r\n        {item.amount} {item?.unit?.measurement_description}\r\n      </Text>\r\n      <Text style={styles.calTxt}>{item?.calories} kcal</Text>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RecipeIngredient\r\n\r\nconst styles = {\r\n  calTxt: {\r\n    fontWeight: 600,\r\n    fontSize: 14,\r\n    color: COLOR.grayText,\r\n    marginBottom: 8\r\n  },\r\n  amountTxt: {\r\n    fontWeight: 600,\r\n    fontSize: 14,\r\n    color: COLOR.grayText,\r\n    paddingLeft: 8,\r\n    paddingRight: 8\r\n  },\r\n  nameTxt: {\r\n    fontWeight: 600,\r\n    fontSize: 16,\r\n    marginTop: 16,\r\n    paddingLeft: 8,\r\n    paddingRight: 8\r\n  },\r\n  item: {\r\n    flex: 1,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    border: `solid 1px #F6A13A`,\r\n    borderRadius: 10,\r\n    textAlign: 'center'\r\n  }\r\n}\r\n","import Paragraph from 'antd/lib/typography/Paragraph'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport React from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { capitalizeFirstLetter, COLOR } from 'ultis/functions'\r\n\r\nexport default function IngredientList({ ingredients }) {\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const { t } = useTranslation()\r\n  return (\r\n    <div\r\n      style={{\r\n        width: isDesktopOrLaptop ? 240 : '70vw',\r\n        maxHeight: 600,\r\n        borderRadius: 10,\r\n        backgroundColor: 'white',\r\n        overflowY: 'auto'\r\n      }}\r\n    >\r\n      {ingredients && ingredients?.length > 0\r\n        ? ingredients?.map((item, index) => (\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              <div style={{ display: 'flex', flex: 1 }}>\r\n                <div className=\"imgSquare\">\r\n                  {item.img ? (\r\n                    <span\r\n                      className=\"imgSrc\"\r\n                      style={{\r\n                        backgroundImage: `url(\"${item.img}\")`,\r\n                        borderRadius: 10\r\n                      }}\r\n                    />\r\n                  ) : (\r\n                    <span\r\n                      className=\"imgSrcDefault\"\r\n                      style={{ borderRadius: 10 }}\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  flex: 3,\r\n                  marginLeft: 8\r\n                }}\r\n              >\r\n                <Paragraph\r\n                  ellipsis={{\r\n                    rows: 2,\r\n                    expandable: false,\r\n                    suffix: ''\r\n                  }}\r\n                  style={{ marginBottom: 0 }}\r\n                >\r\n                  <Text style={styles.nameTxt}>\r\n                    {capitalizeFirstLetter(item.name)}\r\n                  </Text>\r\n                </Paragraph>\r\n\r\n                <Text style={styles.amountTxt}>\r\n                  {item.amount} {item?.unit?.measurement_description}\r\n                </Text>\r\n                <Text style={styles.calTxt}>{item?.calories} kcal</Text>\r\n              </div>\r\n            </div>\r\n          ))\r\n        : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  calTxt: {\r\n    fontWeight: 600,\r\n    fontSize: 14,\r\n    color: COLOR.grayText,\r\n    marginBottom: 8\r\n  },\r\n  amountTxt: {\r\n    fontWeight: 600,\r\n    fontSize: 14,\r\n    color: COLOR.grayText\r\n  },\r\n  nameTxt: {\r\n    fontWeight: 600,\r\n    fontSize: 14\r\n  }\r\n}\r\n","import { Button, Modal, Typography } from 'antd'\r\nimport TextArea from 'antd/lib/input/TextArea'\r\nimport { Formik } from 'formik'\r\nimport ImageUpload from 'pages/CreateRecipe/components/imageUpload'\r\nimport React, { useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch } from 'react-redux'\r\nimport { COLOR, RECIPE_STATUS } from 'ultis/functions'\r\nimport * as yup from 'yup'\r\nimport { CommentChallengePost } from '../redux/actions'\r\n\r\nconst { Text, Title } = Typography\r\n\r\nexport default function ModalMadeIt({\r\n  recipeId,\r\n  isShow,\r\n  closeModal = () => {}\r\n}) {\r\n  const [isUploading, setIsUploading] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n\r\n  const validationChallengeSchema = yup.object().shape({\r\n    content: yup.string().trim().required('Vui lòng nhập trải nghiệm của bạn'),\r\n    images: yup.array().required('Thêm hình ảnh món bạn đã làm')\r\n  })\r\n\r\n  const addToMadeIt = values => {\r\n    dispatch(\r\n      CommentChallengePost.get({\r\n        recipe_id: recipeId,\r\n        content: values.content,\r\n        status: RECIPE_STATUS.APPROVED,\r\n        images: values.images.map(itemImg => {\r\n          return itemImg.src.url\r\n        })\r\n      })\r\n    )\r\n    closeModal()\r\n  }\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{ content: '', images: [] }}\r\n      isInitialValid={false}\r\n      validationSchema={validationChallengeSchema}\r\n      onSubmit={values => addToMadeIt(values)}\r\n    >\r\n      {({\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        values,\r\n        isValid,\r\n        errors,\r\n        touched,\r\n        setFieldTouched,\r\n        setFieldValue\r\n      }) => {\r\n        return (\r\n          <Modal\r\n            title={t('recipe.iMadeIt')}\r\n            visible={isShow}\r\n            centered\r\n            footer={[\r\n              <Button\r\n                key=\"cancelButton\"\r\n                onClick={() => closeModal()}\r\n                size=\"large\"\r\n              >\r\n                {t('common.cancel')}\r\n              </Button>,\r\n              <Button\r\n                disabled={!isValid}\r\n                key=\"okButton\"\r\n                size=\"large\"\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                  addToMadeIt(values)\r\n                  setFieldValue('content', '')\r\n                  setFieldValue('images', [])\r\n                }}\r\n              >\r\n                {t('common.add')}\r\n              </Button>\r\n            ]}\r\n          >\r\n            <>\r\n              <TextArea\r\n                rows={2}\r\n                style={{\r\n                  borderColor: COLOR.primary1\r\n                }}\r\n                value={values.content}\r\n                onChange={handleChange('content')}\r\n                onTouchStart={() => setFieldTouched('content')}\r\n                onBlur={handleBlur('content')}\r\n                placeholder={'Chia sẻ trải nghiệm của bạn khi làm món ăn này'}\r\n              />\r\n              {errors.content && (\r\n                <Text style={{ color: 'red', marginTop: 16 }}>\r\n                  {errors.content}\r\n                </Text>\r\n              )}\r\n              <ImageUpload\r\n                style={{ paddingLeft: 0, marginTop: 20 }}\r\n                setIsUploading={isUpload => setIsUploading(isUpload)}\r\n                value={values.images}\r\n                onChange={data => setFieldValue('images', data)}\r\n                error={errors.images}\r\n              />\r\n            </>\r\n          </Modal>\r\n        )\r\n      }}\r\n    </Formik>\r\n  )\r\n}\r\n","import { UserOutlined } from '@ant-design/icons'\r\nimport { Avatar, Button, Modal, Tabs, Typography } from 'antd'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport {\r\n  FollowUser,\r\n  GetFollowing,\r\n  UnFollowUser\r\n} from 'pages/Profile/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { COLOR, MODAL_TYPE, REACTION_IMG } from 'ultis/functions'\r\n\r\nconst { Text, Title } = Typography\r\nconst { TabPane } = Tabs\r\n\r\nexport default function ModalReaction({\r\n  reactionList,\r\n  reactionType,\r\n  isShow,\r\n  closeModal = () => {}\r\n}) {\r\n  const [currentTab, setCurrentTab] = useState('all')\r\n  const user = useSelector(state => state.Auth.user)\r\n  const dispatch = useDispatch()\r\n  const { t } = useTranslation()\r\n  const REACT_NAME = {\r\n    'easy peasy': t('recipe.easyPeasy'),\r\n    yum: t('recipe.yum'),\r\n    yuck: t('recipe.yuck'),\r\n    'tough nut': t('recipe.toughNut')\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      dispatch(GetFollowing.get(user?.id))\r\n    }\r\n  }, [])\r\n\r\n  function UserItem(props) {\r\n    const { user, react } = props\r\n    const { t } = useTranslation()\r\n    const history = useHistory()\r\n    const dispatch = useDispatch()\r\n    const mainUser = useSelector(state => state.Auth.user)\r\n    const isFollow = mainUser\r\n      ? mainUser?.following?.findIndex(item => item.following_id === user.id) >\r\n        -1\r\n      : false\r\n\r\n    const location = useLocation()\r\n\r\n    const onClickFollow = () => {\r\n      if (isFollow) {\r\n        dispatch(UnFollowUser.get(user.id))\r\n      } else {\r\n        dispatch(FollowUser.get(user.id))\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n          paddingTop: 4,\r\n          paddingBottom: 4\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ position: 'relative' }}>\r\n            {user.avatar_url ? (\r\n              <Avatar size={40} src={user.avatar_url} />\r\n            ) : (\r\n              <Avatar size={40} icon={<UserOutlined />} />\r\n            )}\r\n            <img\r\n              src={REACTION_IMG[react]}\r\n              alt=\"\"\r\n              width={20}\r\n              height={20}\r\n              style={{ position: 'absolute', bottom: -2, right: -4 }}\r\n            />\r\n          </div>\r\n\r\n          <Button\r\n            type=\"link\"\r\n            onClick={() =>\r\n              history.push(\r\n                `/profile?page=${PROFILE_PAGE.RECIPE}&user=${user.id}`\r\n              )\r\n            }\r\n            style={{ fontWeight: 700, paddingLeft: 8 }}\r\n          >\r\n            {user.name}\r\n          </Button>\r\n        </div>\r\n        {mainUser ? (\r\n          mainUser?.id !== user.id ? (\r\n            <Button\r\n              type={isFollow ? 'default' : 'primary'}\r\n              onClick={onClickFollow}\r\n            >\r\n              {isFollow ? t('profile.following') : t('profile.follow')}\r\n            </Button>\r\n          ) : null\r\n        ) : (\r\n          <Button\r\n            type={isFollow ? 'default' : 'primary'}\r\n            onClick={() => {\r\n              GlobalModal.alertMessage(\r\n                null,\r\n                t('signin.title'),\r\n                MODAL_TYPE.CHOICE,\r\n                () =>\r\n                  history.push({\r\n                    pathname: '/signin',\r\n                    state: { from: `${location.pathname}${location.search}` }\r\n                  })\r\n              )\r\n            }}\r\n          >\r\n            {t('profile.follow')}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderReaction = list => {\r\n    return (\r\n      <>\r\n        {list &&\r\n          list?.length > 0 &&\r\n          list?.map(react => (\r\n            <UserItem user={react?.author} react={react?.react} />\r\n          ))}\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      className=\"modal-reaction\"\r\n      onCancel={closeModal}\r\n      footer={null}\r\n      title={\r\n        <Tabs\r\n          size=\"large\"\r\n          activeKey={currentTab}\r\n          onChange={key => setCurrentTab(key)}\r\n        >\r\n          <TabPane\r\n            tab={\r\n              <Text\r\n                style={{\r\n                  fontWeight: 700,\r\n                  color: currentTab === 'all' ? COLOR.primary1 : ''\r\n                }}\r\n              >\r\n                {t('recipe.all')}\r\n              </Text>\r\n            }\r\n            key=\"all\"\r\n          ></TabPane>\r\n          {reactionType &&\r\n            reactionType?.length > 0 &&\r\n            reactionType?.map((item, index) => (\r\n              <TabPane\r\n                tab={\r\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                    <img\r\n                      src={REACTION_IMG[item[0]]}\r\n                      alt=\"\"\r\n                      width={28}\r\n                      height={28}\r\n                    />\r\n                    <Text\r\n                      style={{\r\n                        fontWeight: 700,\r\n                        color: currentTab === item[0] ? COLOR.primary1 : '',\r\n                        marginLeft: 8\r\n                      }}\r\n                    >\r\n                      {REACT_NAME[item[0]]}\r\n                    </Text>\r\n                  </div>\r\n                }\r\n                key={index}\r\n              ></TabPane>\r\n            ))}\r\n        </Tabs>\r\n      }\r\n      visible={isShow}\r\n      centered\r\n      style={{ width: 300 }}\r\n    >\r\n      {/* <div style={{ width: '100%', height: '100%', overflowY: 'auto' }}> */}\r\n      {currentTab === 'all'\r\n        ? renderReaction(reactionList)\r\n        : renderReaction(reactionType[Number(currentTab)][1])}\r\n      {/* </div> */}\r\n    </Modal>\r\n  )\r\n}\r\n","import { LoadingOutlined } from '@ant-design/icons'\r\nimport {\r\n  Affix,\r\n  Button,\r\n  Col,\r\n  Image,\r\n  Menu,\r\n  Popover,\r\n  Progress,\r\n  Row,\r\n  Spin,\r\n  Tabs,\r\n  Typography\r\n} from 'antd'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport AppHeader from 'components/Header'\r\nimport moment from 'moment'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport { FollowUser, UnFollowUser } from 'pages/Profile/redux/actions'\r\nimport 'pages/Recipe/recipe.css'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Helmet } from 'react-helmet-async'\r\nimport { useTranslation } from 'react-i18next'\r\nimport {\r\n  FiBookmark,\r\n  FiFacebook,\r\n  FiPrinter,\r\n  FiSmile,\r\n  FiUserCheck,\r\n  FiUserPlus,\r\n  FiX\r\n} from 'react-icons/fi'\r\nimport Lottie from 'react-lottie'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { Carousel } from 'react-responsive-carousel'\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css'\r\nimport { useHistory, useLocation, useParams } from 'react-router-dom'\r\nimport { FacebookShareButton } from 'react-share'\r\nimport {\r\n  calcCalories,\r\n  COLOR,\r\n  MODAL_TYPE,\r\n  REACTION,\r\n  REACTION_IMG\r\n} from 'ultis/functions'\r\nimport ModalAddCollection from './components/addToCollection'\r\nimport ModalAddMenu from './components/addToMenu'\r\nimport Challenge from './components/challengeView'\r\nimport RecipeComments from './components/comment'\r\nimport Direction from './components/direction'\r\nimport DirectionList from './components/directionList'\r\nimport RecipeIngredient from './components/ingredient'\r\nimport IngredientList from './components/ingredientList'\r\nimport ModalMadeIt from './components/madeItModal'\r\nimport ModalReaction from './components/reactionModal'\r\nimport {\r\n  AddToShoppingList,\r\n  GetDetailRecipe,\r\n  ReactRecipe,\r\n  UpdateIsCountdown\r\n} from './redux/actions'\r\n\r\nconst easyData = require('assets/lottie/easy.json')\r\nconst hardData = require('assets/lottie/hard.json')\r\nconst yuckData = require('assets/lottie/yuck.json')\r\nconst yummyData = require('assets/lottie/yummy.json')\r\n\r\nconst { TabPane } = Tabs\r\nconst loadingIcon = <LoadingOutlined style={{ fontSize: 48 }} spin />\r\nconst { Text, Title } = Typography\r\n\r\nconst REACT_ARRAY = [\r\n  {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: easyData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice'\r\n    }\r\n  },\r\n  {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: yummyData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice'\r\n    }\r\n  },\r\n  {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: yuckData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice'\r\n    }\r\n  },\r\n  {\r\n    loop: true,\r\n    autoplay: true,\r\n    animationData: hardData,\r\n    rendererSettings: {\r\n      preserveAspectRatio: 'xMidYMid slice'\r\n    }\r\n  }\r\n]\r\n\r\nexport default function RecipeDetail(props) {\r\n  const params = useParams()\r\n  const { id } = params // Recipe ID (The UUID was returned from API)\r\n  const dispatch = useDispatch()\r\n  const post = useSelector(state => state.Recipe.recipeDetail)\r\n  const isCountdown = useSelector(state => state.Recipe.isCountDown)\r\n  const user = useSelector(state => state.Auth.user)\r\n  const { t } = useTranslation()\r\n  const [currentTab, setCurrentTab] = useState('0')\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const history = useHistory()\r\n  const [isShowSaveMenu, setIsShowSaveMenu] = useState(false)\r\n  const [isShowMadeIt, setIsShowMadeIt] = useState(false)\r\n  const [isShowSaveCollection, setIsShowSaveCollection] = useState(false)\r\n  const [isShowReaction, setIsShowReaction] = useState(false)\r\n  const [isShowPopover, setIsShowPopover] = useState(false)\r\n\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search)\r\n  }\r\n  const query = useQuery()\r\n  const readMode = query.get('readMode')\r\n  const step = Number(query.get('step')) || 0\r\n  const [timerTime, setTimerTime] = useState(-1)\r\n  const [timer, setTimer] = useState(null)\r\n  const isFollow = user\r\n    ? user?.following?.findIndex(item => item.user_id === user.id) > -1\r\n    : false\r\n  const reaction = user\r\n    ? post?.reactions?.find(item => item.author?.id === user?.id)\r\n    : null\r\n  let reactType = {}\r\n  post?.reactions &&\r\n    post?.reactions?.length > 0 &&\r\n    post?.reactions?.forEach(reaction => {\r\n      if (reactType[reaction?.react]) {\r\n        reactType[reaction?.react].push(reaction)\r\n      } else {\r\n        reactType[reaction?.react] = [reaction]\r\n      }\r\n    })\r\n  reactType = Object.entries(reactType).sort(\r\n    ([, a], [, b]) => b?.length - a?.length\r\n  )\r\n\r\n  let timeLeft = 0\r\n\r\n  const LEVEL = {\r\n    easy: t('create.easy'),\r\n    medium: t('create.medium'),\r\n    hard: t('create.hard')\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(GetDetailRecipe.get({ recipeId: id }))\r\n  }, [user])\r\n\r\n  useEffect(() => {\r\n    if (\r\n      readMode &&\r\n      step > 0 &&\r\n      step <= post.steps.length &&\r\n      isCountdown &&\r\n      !timer\r\n    ) {\r\n      startTimer(Number(post.steps[step - 1].time))\r\n    }\r\n  }, [step])\r\n\r\n  useEffect(() => {\r\n    if (isCountdown && timerTime === 0 && timer) {\r\n      clearInterval(timer)\r\n      setTimerTime(Number(post.steps[step - 1].time) * 60)\r\n      setTimer(null)\r\n      if (step < post.steps.length) {\r\n        history.replace(`/recipe/${id}?readMode=true&step=${step + 1}`)\r\n      } else {\r\n        dispatch(UpdateIsCountdown.get(false))\r\n      }\r\n    }\r\n  }, [timerTime])\r\n\r\n  const onClickSave = () => {\r\n    if (user) {\r\n      setIsShowPopover(!isShowPopover)\r\n    } else {\r\n      GlobalModal.alertMessage(null, t('signin.title'), MODAL_TYPE.CHOICE, () =>\r\n        history.push({ pathname: '/signin', state: { from: `/recipe/${id}` } })\r\n      )\r\n    }\r\n  }\r\n\r\n  const onClickFollow = () => {\r\n    if (user) {\r\n      if (isFollow) {\r\n        dispatch(UnFollowUser.get(post?.author?.id))\r\n      } else {\r\n        dispatch(FollowUser.get(post?.author?.id))\r\n      }\r\n    } else {\r\n      GlobalModal.alertMessage(null, t('signin.title'), MODAL_TYPE.CHOICE, () =>\r\n        history.push({ pathname: '/signin', state: { from: `/recipe/${id}` } })\r\n      )\r\n    }\r\n  }\r\n\r\n  const startTimer = timeCount => {\r\n    if (timeCount > 0) {\r\n      timeLeft = timeCount * 60\r\n      dispatch(UpdateIsCountdown.get(true))\r\n      setTimerTime(timeLeft)\r\n      if (!timer && timeLeft > 0) {\r\n        const time = setInterval(countDown, 1000)\r\n        setTimer(time)\r\n      }\r\n    } else {\r\n      stopTimer()\r\n    }\r\n  }\r\n\r\n  const stopTimer = () => {\r\n    if (timer) {\r\n      clearInterval(timer)\r\n    }\r\n    setTimerTime(Number(post.steps[step - 1].time) * 60)\r\n    dispatch(UpdateIsCountdown.get(false))\r\n    setTimer(null)\r\n  }\r\n\r\n  const countDown = () => {\r\n    // Remove one second, set state so a re-render happens.\r\n    timeLeft = timeLeft - 1\r\n    setTimerTime(timeLeft)\r\n  }\r\n\r\n  const reactToRecipe = react => {\r\n    if (user) {\r\n      dispatch(ReactRecipe.get({ recipe_id: id, react }))\r\n    } else {\r\n      GlobalModal.alertMessage(null, t('signin.title'), MODAL_TYPE.CHOICE, () =>\r\n        history.push({ pathname: '/signin', state: { from: `/recipe/${id}` } })\r\n      )\r\n    }\r\n  }\r\n\r\n  const reactContent = (\r\n    <div style={{ display: 'flex' }}>\r\n      {REACT_ARRAY.map((item, index) => (\r\n        <ButtonBase onClick={() => reactToRecipe(REACTION[index])}>\r\n          <Lottie\r\n            options={item}\r\n            height={48}\r\n            width={48}\r\n            isStopped={false}\r\n            isPaused={false}\r\n          />\r\n        </ButtonBase>\r\n      ))}\r\n    </div>\r\n  )\r\n\r\n  const saveContent = (\r\n    <Menu style={{ width: 200 }}>\r\n      <Menu.Item\r\n        key={'save_to_collection'}\r\n        onClick={() => {\r\n          setIsShowPopover(false)\r\n          setIsShowSaveCollection(true)\r\n        }}\r\n      >\r\n        {t('recipe.addToCollection')}\r\n      </Menu.Item>\r\n      <Menu.Item\r\n        key={'save_to_mealPlanner'}\r\n        onClick={() => {\r\n          setIsShowPopover(false)\r\n          setIsShowSaveMenu(true)\r\n        }}\r\n      >\r\n        {t('recipe.addToMenu')}\r\n      </Menu.Item>\r\n    </Menu>\r\n  )\r\n  if (!post || id !== post.id) {\r\n    return (\r\n      <>\r\n        <AppHeader />\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            padding: 48\r\n          }}\r\n        >\r\n          <Spin indicator={loadingIcon} />\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {!readMode && <AppHeader />}\r\n      <Helmet>\r\n        <title>{post.title}</title>\r\n        {post.description && (\r\n          <meta name=\"description\" content={post.description} />\r\n        )}\r\n        <meta property=\"og:title\" content={post.title} />\r\n        {post.avatar && post.avatar.length > 0 && (\r\n          <meta property=\"og:image\" content={post.avatar[0]} />\r\n        )}\r\n      </Helmet>\r\n\r\n      {!readMode && (\r\n        <div\r\n          style={{ marginTop: 48, paddingBottom: 60 }}\r\n          className=\"body-container\"\r\n        >\r\n          <div style={styles.spaceBetween} className=\"info-container\">\r\n            <div style={{ display: 'flex', flexDirection: 'column', flex: 4 }}>\r\n              <Title level={2}>{post.title}</Title>\r\n              {reactType && reactType?.length > 0 && (\r\n                <ButtonBase\r\n                  onClick={() => setIsShowReaction(true)}\r\n                  style={{\r\n                    width: '20%',\r\n                    alignItems: 'center',\r\n                    flex: 0,\r\n                    backgroundColor: 'white',\r\n                    padding: 0\r\n                  }}\r\n                >\r\n                  {reactType?.map(item => (\r\n                    <img\r\n                      src={REACTION_IMG[item[0]]}\r\n                      alt=\"\"\r\n                      width={28}\r\n                      height={28}\r\n                    />\r\n                  ))}\r\n                  <Text style={{ fontWeight: 700, marginLeft: 8 }}>\r\n                    {post?.reactions?.length}\r\n                  </Text>\r\n                </ButtonBase>\r\n              )}\r\n              <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                <Text style={{ color: COLOR.grayText }}>\r\n                  {t('recipe.updatedBy')}\r\n                </Text>\r\n                <Button\r\n                  type=\"link\"\r\n                  onClick={() =>\r\n                    history.push(\r\n                      `/profile?page=${PROFILE_PAGE.RECIPE}&user=${post?.author?.id}`\r\n                    )\r\n                  }\r\n                  style={{ fontWeight: 700, paddingLeft: 2, paddingRight: 2 }}\r\n                >\r\n                  {post?.author?.name}\r\n                </Button>\r\n                <Text style={{ color: COLOR.grayText }}>\r\n                  | {moment(post.updatedAt).format('DD-MM-YYYY')}\r\n                </Text>\r\n              </div>\r\n\r\n              {post.categories && post.categories.length > 0 && (\r\n                <div\r\n                  style={{ display: 'flex', flexWrap: 'wrap', marginTop: 24 }}\r\n                >\r\n                  {post.categories.map(item => (\r\n                    <Button\r\n                      size=\"middle\"\r\n                      style={{ marginRight: 16, borderRadius: 50 }}\r\n                      type=\"primary\"\r\n                      onClick={() => {\r\n                        history.push({\r\n                          pathname: '/recipes',\r\n                          state: { category: item.category }\r\n                        })\r\n                      }}\r\n                    >\r\n                      {item.category['vi']}\r\n                    </Button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  width: '100%',\r\n                  marginTop: 24\r\n                }}\r\n              >\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('create.time').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>\r\n                    {post.cooking_time} {t('create.min').toLocaleUpperCase()}\r\n                  </Text>\r\n                </div>\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('create.level').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>\r\n                    {LEVEL[post.level].toLocaleUpperCase()}\r\n                  </Text>\r\n                </div>\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('create.ration').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>{post.ration}</Text>\r\n                </div>\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('recipe.energy').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>\r\n                    {post?.ingredients?.reduce(calcCalories, 0).toFixed(0)} KCAL\r\n                  </Text>\r\n                </div>\r\n              </div>\r\n\r\n              <div style={{ ...styles.spaceBetween, marginTop: 24 }}>\r\n                <Button\r\n                  size=\"large\"\r\n                  style={{ flex: 1, marginRight: 24 }}\r\n                  type=\"primary\"\r\n                  onClick={() =>\r\n                    history.push(`/recipe/${id}?readMode=true&step=1`)\r\n                  }\r\n                >\r\n                  {t('recipe.readDirection').toLocaleUpperCase()}\r\n                </Button>\r\n                <Button\r\n                  size=\"large\"\r\n                  style={{ flex: 1, marginLeft: 24 }}\r\n                  type=\"primary\"\r\n                  onClick={() => {\r\n                    setIsShowMadeIt(true)\r\n                  }}\r\n                >\r\n                  {t('recipe.iMadeIt').toLocaleUpperCase()}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flex: 3,\r\n                marginLeft: 24\r\n              }}\r\n            >\r\n              {post.avatar && post.avatar.length > 0 && (\r\n                <Image.PreviewGroup>\r\n                  <Carousel infiniteLoop autoPlay interval={3000} swipeable>\r\n                    {post.avatar?.map((item, index) => (\r\n                      <div>\r\n                        <Image\r\n                          src={item}\r\n                          alt=\"\"\r\n                          height={300}\r\n                          style={{ objectFit: 'cover' }}\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </Carousel>\r\n                </Image.PreviewGroup>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ marginTop: 24 }}>\r\n            {post.description && post.description?.length > 0 && (\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'flex-end',\r\n                  marginBottom: 24\r\n                }}\r\n              >\r\n                <div\r\n                  style={{\r\n                    width: 120,\r\n                    height: 50,\r\n                    backgroundColor: COLOR.primary1,\r\n                    borderTopRightRadius: 10\r\n                  }}\r\n                />\r\n                <div>\r\n                  <Title level={4} style={{ margin: 8 }}>\r\n                    {t('create.summary').toLocaleUpperCase()}\r\n                  </Title>\r\n                  <div\r\n                    style={{\r\n                      height: 4,\r\n                      width: '100%',\r\n                      backgroundColor: COLOR.primary1\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n            )}\r\n            <Text\r\n              style={{\r\n                textAlign: 'justify',\r\n                fontSize: 18,\r\n                fontWeight: 500\r\n              }}\r\n            >\r\n              {post.description}\r\n            </Text>\r\n          </div>\r\n\r\n          <div style={{ marginTop: 24 }} className=\"row-container\">\r\n            <div className=\"side-col-container\">\r\n              <Popover\r\n                content={reactContent}\r\n                placement=\"topLeft\"\r\n                trigger=\"click\"\r\n              >\r\n                <Button\r\n                  style={{\r\n                    ...styles.iconButton,\r\n                    backgroundColor: reaction ? COLOR.primary1 : 'white'\r\n                  }}\r\n                  shape=\"circle\"\r\n                  type=\"text\"\r\n                  icon={\r\n                    reaction ? (\r\n                      <img\r\n                        src={REACTION_IMG[reaction?.react]}\r\n                        alt=\"\"\r\n                        width={28}\r\n                        height={28}\r\n                      />\r\n                    ) : (\r\n                      <FiSmile size={24} color={COLOR.primary1} />\r\n                    )\r\n                  }\r\n                />\r\n              </Popover>\r\n\r\n              {(!user || user?.id !== post?.user_id) && (\r\n                <Button\r\n                  style={styles.iconButton}\r\n                  shape=\"circle\"\r\n                  type=\"text\"\r\n                  onClick={onClickFollow}\r\n                  icon={\r\n                    isFollow ? (\r\n                      <FiUserCheck size={24} color={COLOR.primary1} />\r\n                    ) : (\r\n                      <FiUserPlus size={24} color={COLOR.primary1} />\r\n                    )\r\n                  }\r\n                />\r\n              )}\r\n              <Popover\r\n                content={saveContent}\r\n                placement=\"topLeft\"\r\n                trigger=\"click\"\r\n                visible={isShowPopover}\r\n              >\r\n                <Button\r\n                  style={styles.iconButton}\r\n                  shape=\"circle\"\r\n                  type=\"text\"\r\n                  onClick={onClickSave}\r\n                  icon={<FiBookmark size={24} color={COLOR.primary1} />}\r\n                />\r\n              </Popover>\r\n\r\n              <FacebookShareButton\r\n                style={{\r\n                  ...styles.iconButton\r\n                }}\r\n                url={window.location.href}\r\n              >\r\n                <FiFacebook size={24} color={COLOR.primary1} />\r\n              </FacebookShareButton>\r\n              <Button\r\n                style={styles.iconButton}\r\n                shape=\"circle\"\r\n                type=\"text\"\r\n                icon={<FiPrinter size={24} color={COLOR.primary1} />}\r\n              />\r\n            </div>\r\n            <Affix offsetTop={72}>\r\n              <div\r\n                className=\"side-container\"\r\n                style={{\r\n                  paddingRight: 48\r\n                }}\r\n              >\r\n                <Popover content={reactContent} placement=\"topLeft\">\r\n                  <Button\r\n                    style={{\r\n                      ...styles.iconButton,\r\n                      backgroundColor: reaction ? COLOR.primary1 : 'white'\r\n                    }}\r\n                    shape=\"circle\"\r\n                    type=\"text\"\r\n                    icon={\r\n                      reaction ? (\r\n                        <img\r\n                          src={REACTION_IMG[reaction?.react]}\r\n                          alt=\"\"\r\n                          width={28}\r\n                          height={28}\r\n                        />\r\n                      ) : (\r\n                        <FiSmile size={24} color={COLOR.primary1} />\r\n                      )\r\n                    }\r\n                  />\r\n                </Popover>\r\n                {(!user || user?.id !== post?.user_id) && (\r\n                  <Button\r\n                    style={styles.iconButton}\r\n                    shape=\"circle\"\r\n                    type=\"text\"\r\n                    onClick={onClickFollow}\r\n                    icon={\r\n                      isFollow ? (\r\n                        <FiUserCheck size={24} color={COLOR.primary1} />\r\n                      ) : (\r\n                        <FiUserPlus size={24} color={COLOR.primary1} />\r\n                      )\r\n                    }\r\n                  />\r\n                )}\r\n                <Popover\r\n                  content={saveContent}\r\n                  placement=\"right\"\r\n                  trigger=\"click\"\r\n                  visible={isShowPopover}\r\n                >\r\n                  <Button\r\n                    style={styles.iconButton}\r\n                    shape=\"circle\"\r\n                    type=\"text\"\r\n                    onClick={onClickSave}\r\n                    icon={<FiBookmark size={24} color={COLOR.primary1} />}\r\n                  />\r\n                </Popover>\r\n\r\n                <FacebookShareButton\r\n                  style={{\r\n                    ...styles.iconButton\r\n                  }}\r\n                  url={window.location.href}\r\n                >\r\n                  <FiFacebook size={24} color={COLOR.primary1} />\r\n                </FacebookShareButton>\r\n                <Button\r\n                  style={styles.iconButton}\r\n                  shape=\"circle\"\r\n                  type=\"text\"\r\n                  icon={<FiPrinter size={24} color={COLOR.primary1} />}\r\n                />\r\n              </div>\r\n            </Affix>\r\n            <Tabs\r\n              style={{ flex: 5 }}\r\n              size=\"large\"\r\n              activeKey={currentTab}\r\n              onChange={key => setCurrentTab(key)}\r\n            >\r\n              <TabPane\r\n                tab={\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: 700,\r\n                      color: currentTab === '0' ? COLOR.primary1 : ''\r\n                    }}\r\n                  >\r\n                    {t('recipe.comment').toLocaleUpperCase()}\r\n                  </Text>\r\n                }\r\n                key=\"0\"\r\n              >\r\n                <RecipeComments comments={post.comments} postId={post.id} />\r\n              </TabPane>\r\n              <TabPane\r\n                tab={\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: 700,\r\n                      color: currentTab === '1' ? COLOR.primary1 : ''\r\n                    }}\r\n                  >\r\n                    {t('create.ingredients').toLocaleUpperCase()}\r\n                  </Text>\r\n                }\r\n                key=\"1\"\r\n              >\r\n                <>\r\n                  <Row gutter={[16, 16]} style={{ marginTop: 20 }}>\r\n                    {post.ingredients.map(item => (\r\n                      <Col xxl={4} xl={4} lg={4} md={6} sm={6} xs={12}>\r\n                        <RecipeIngredient item={item} />\r\n                      </Col>\r\n                    ))}\r\n                  </Row>\r\n                  <Button\r\n                    size=\"large\"\r\n                    style={{ marginTop: 24 }}\r\n                    type=\"primary\"\r\n                    onClick={() =>\r\n                      dispatch(AddToShoppingList.get({ recipe_id: id }))\r\n                    }\r\n                  >\r\n                    {t('recipe.addToShoppingList')}\r\n                  </Button>\r\n                </>\r\n              </TabPane>\r\n              <TabPane\r\n                tab={\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: 700,\r\n                      color: currentTab === '2' ? COLOR.primary1 : ''\r\n                    }}\r\n                  >\r\n                    {t('create.direction').toLocaleUpperCase()}\r\n                  </Text>\r\n                }\r\n                key=\"2\"\r\n              >\r\n                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                  {post.steps.map((item, index) => (\r\n                    <Direction item={item} index={index + 1} />\r\n                  ))}\r\n                </div>\r\n              </TabPane>\r\n              <TabPane\r\n                tab={\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: 700,\r\n                      color: currentTab === '3' ? COLOR.primary1 : ''\r\n                    }}\r\n                  >\r\n                    {t('recipe.challenge').toLocaleUpperCase()}\r\n                  </Text>\r\n                }\r\n                key=\"3\"\r\n              >\r\n                {post?.challenges && post?.challenges?.length > 0 ? (\r\n                  post?.challenges?.map((item, index) => (\r\n                    <Challenge item={item} />\r\n                  ))\r\n                ) : (\r\n                  <Text>{t('recipe.noChallenges')}</Text>\r\n                )}\r\n              </TabPane>\r\n            </Tabs>\r\n\r\n            <Affix offsetTop={72}>\r\n              <div\r\n                style={{\r\n                  paddingLeft: 24\r\n                }}\r\n                className=\"side-container\"\r\n              >\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('create.time').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>\r\n                    {post.cooking_time} {t('create.min').toLocaleUpperCase()}\r\n                  </Text>\r\n                </div>\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('create.level').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>\r\n                    {LEVEL[post.level].toLocaleUpperCase()}\r\n                  </Text>\r\n                </div>\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('create.ration').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>{post.ration}</Text>\r\n                </div>\r\n                <div style={styles.info}>\r\n                  <Text style={styles.grayInfo}>\r\n                    {t('recipe.energy').toLocaleUpperCase()}\r\n                  </Text>\r\n                  <Text style={styles.orangeInfo}>\r\n                    {post?.ingredients?.reduce(calcCalories, 0).toFixed(0)} KCAL\r\n                  </Text>\r\n                </div>\r\n              </div>\r\n            </Affix>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {readMode && step > 0 && step <= post.steps.length && (\r\n        <div style={styles.readModeStyle}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              position: 'absolute',\r\n              right: 48,\r\n              top: 24,\r\n              zIndex: 11,\r\n              justifyContent: 'flex-start',\r\n              alignItems: 'center'\r\n            }}\r\n          >\r\n            <Popover\r\n              placement=\"bottomLeft\"\r\n              content={\r\n                <DirectionList\r\n                  directions={post?.steps}\r\n                  onClickItem={chosenStep => {\r\n                    stopTimer()\r\n                    history.replace(\r\n                      `/recipe/${id}?readMode=true&step=${chosenStep}`\r\n                    )\r\n                  }}\r\n                />\r\n              }\r\n              trigger=\"click\"\r\n            >\r\n              <Button\r\n                size=\"large\"\r\n                style={{ marginRight: 16, borderRadius: 50 }}\r\n                type=\"primary\"\r\n              >\r\n                {t('create.direction')}\r\n              </Button>\r\n            </Popover>\r\n\r\n            <Popover\r\n              placement=\"bottom\"\r\n              content={<IngredientList ingredients={post?.ingredients} />}\r\n              trigger=\"click\"\r\n            >\r\n              <Button\r\n                size=\"large\"\r\n                style={{ marginRight: 16, borderRadius: 50 }}\r\n                type=\"primary\"\r\n                onClick={() => {}}\r\n              >\r\n                {t('create.ingredients')}\r\n              </Button>\r\n            </Popover>\r\n            <Button\r\n              size=\"middle\"\r\n              type=\"link\"\r\n              shape=\"circle\"\r\n              style={{ padding: 0 }}\r\n              icon={<FiX size={40} color={COLOR.gray} />}\r\n              onClick={() => {\r\n                stopTimer()\r\n                history.replace(`/recipe/${id}`)\r\n              }}\r\n            />\r\n          </div>\r\n          <div\r\n            className=\"row-container\"\r\n            style={{\r\n              paddingLeft: 48,\r\n              paddingRight: 48,\r\n              flex: 1,\r\n              paddingTop: 80,\r\n              marginBottom: 60\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flex: 1,\r\n                justifyContent: 'center',\r\n                alignItems: 'center'\r\n              }}\r\n            >\r\n              {isCountdown ? (\r\n                <Progress\r\n                  width={300}\r\n                  strokeColor={COLOR.primary1}\r\n                  type=\"circle\"\r\n                  percent={\r\n                    (timerTime * 100) / (Number(post.steps[step - 1].time) * 60)\r\n                  }\r\n                  format={percent =>\r\n                    moment.utc(timerTime * 1000).format('HH:mm:ss')\r\n                  }\r\n                />\r\n              ) : (\r\n                <Image.PreviewGroup>\r\n                  <Carousel infiniteLoop autoPlay interval={3000} swipeable>\r\n                    {post.steps[step - 1].images?.map((item, index) => (\r\n                      <div>\r\n                        <Image\r\n                          src={item}\r\n                          alt=\"\"\r\n                          height={300}\r\n                          style={{ objectFit: 'cover' }}\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </Carousel>\r\n                </Image.PreviewGroup>\r\n              )}\r\n            </div>\r\n\r\n            <div\r\n              style={{\r\n                flex: 1,\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'center',\r\n                margin: 24\r\n              }}\r\n            >\r\n              <Title level={5}>\r\n                {t('create.step')} {step}\r\n              </Title>\r\n              <Title level={3}>{post.steps[step - 1].content}</Title>\r\n              <div style={{ marginTop: 48 }}>\r\n                {post.steps[step - 1].time && (\r\n                  <Button\r\n                    size=\"large\"\r\n                    style={{ marginRight: 16, borderRadius: 50 }}\r\n                    type=\"default\"\r\n                    onClick={\r\n                      isCountdown\r\n                        ? () => stopTimer()\r\n                        : () => startTimer(Number(post.steps[step - 1].time))\r\n                    }\r\n                  >\r\n                    {isCountdown\r\n                      ? t('recipe.stopTimer')\r\n                      : t('recipe.startTimer')}\r\n                  </Button>\r\n                )}\r\n                {step < post.steps.length ? (\r\n                  <Button\r\n                    disabled={isCountdown}\r\n                    size=\"large\"\r\n                    style={{ marginRight: 16, borderRadius: 50 }}\r\n                    type=\"primary\"\r\n                    onClick={() =>\r\n                      history.replace(\r\n                        `/recipe/${id}?readMode=true&step=${step + 1}`\r\n                      )\r\n                    }\r\n                  >\r\n                    {t('create.next')}\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    disabled={isCountdown}\r\n                    size=\"large\"\r\n                    style={{ marginRight: 16, borderRadius: 50 }}\r\n                    type=\"primary\"\r\n                    onClick={() => history.replace(`/recipe/${id}`)}\r\n                  >\r\n                    {t('recipe.done')}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <ModalAddMenu\r\n        recipeId={id}\r\n        isShow={isShowSaveMenu}\r\n        closeModal={() => setIsShowSaveMenu(false)}\r\n      />\r\n      <ModalAddCollection\r\n        recipeId={id}\r\n        isShow={isShowSaveCollection}\r\n        closeModal={() => setIsShowSaveCollection(false)}\r\n      />\r\n      <ModalMadeIt\r\n        recipeId={id}\r\n        isShow={isShowMadeIt}\r\n        closeModal={() => setIsShowMadeIt(false)}\r\n      />\r\n      <ModalReaction\r\n        reactionList={post?.reactions}\r\n        reactionType={reactType}\r\n        isShow={isShowReaction}\r\n        closeModal={() => setIsShowReaction(false)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  info: {\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: 20\r\n  },\r\n  spaceBetween: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between'\r\n  },\r\n  imageSrc: {\r\n    width: 400,\r\n    height: '100%',\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center 40%',\r\n    borderRadius: 100\r\n  },\r\n  grayInfo: { color: COLOR.grayText, fontWeight: 600 },\r\n  orangeInfo: { color: COLOR.primary1, fontWeight: 700, fontSize: 18 },\r\n  iconButton: {\r\n    marginBottom: 24,\r\n    marginRight: 16,\r\n    boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.25)',\r\n    borderRadius: '50%',\r\n    width: 60,\r\n    height: 60,\r\n    backgroundColor: 'white',\r\n    minWidth: 48,\r\n    minHeight: 48\r\n  },\r\n  readModeStyle: {\r\n    width: '100vw',\r\n    height: '100vh',\r\n    position: 'absolute',\r\n    left: 0,\r\n    top: 0,\r\n    // bottom: 0,\r\n    right: 0,\r\n    zIndex: 10,\r\n    display: 'flex'\r\n  }\r\n}\r\n","import { Badge, Button, Col, Input, Pagination, Row, Select, Tabs } from 'antd'\r\nimport Text from 'antd/lib/typography/Text'\r\nimport Title from 'antd/lib/typography/Title'\r\nimport ButtonBase from 'components/ButtonBase'\r\nimport AppHeader from 'components/Header'\r\nimport RecipeItem from 'components/RecipeItem'\r\nimport { GetAllCategories } from 'pages/Dashboard/redux/actions'\r\nimport { GetFollowing } from 'pages/Profile/redux/actions'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { FiCheck, FiFilter, FiSearch, FiX } from 'react-icons/fi'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useHistory, useLocation } from 'react-router'\r\nimport { COLOR, LIMIT_ITEMS } from 'ultis/functions'\r\nimport i18n from 'ultis/i18n'\r\nimport UserItem from './components/userItem'\r\nimport './index.css'\r\nimport { SearchRecipes, SearchUsers } from './redux/actions'\r\n\r\nconst { TabPane } = Tabs\r\nconst { Option } = Select\r\nconst COOKING_FILTER = [15, 20, 30, 45, 60, 120, 180, 240]\r\n\r\nexport default function SearchPage() {\r\n  const dispatch = useDispatch()\r\n  const history = useHistory()\r\n  const { t } = useTranslation()\r\n  const user = useSelector(state => state.Auth.user)\r\n  const categoryList = useSelector(state => state.Dashboard.categoryList)\r\n  const [currentTab, setCurrentTab] = useState('ingredients')\r\n  const [categoriesFilter, setCategoriesFilter] = useState([])\r\n  const [categoriesFilterItem, setCategoriesFilterItem] = useState([])\r\n  const [ingredientsFilter, setIngredientsFilter] = useState([])\r\n  const [ingredientsText, setIngredientsText] = useState('')\r\n  const [noIngredientsFilter, setNoIngredientsFilter] = useState([])\r\n  const [noIngredientsText, setNoIngredientsText] = useState('')\r\n  const [timeFilter, setTimeFilter] = useState(-1)\r\n  const [isShowFilter, setIsShowFilter] = useState(false)\r\n  const [sortOrder, setSortOrder] = useState(null)\r\n  const [searchTextInput, setSearchTextInput] = useState('')\r\n  const { isLoading, result, currentPage, totalItems, resultUser } =\r\n    useSelector(state => state.Search)\r\n  const useQuery = () => {\r\n    return new URLSearchParams(useLocation().search)\r\n  }\r\n  const query = useQuery()\r\n  const searchText = query.get('search')\r\n\r\n  const SORT_BY = [\r\n    { title: t('search.relevance'), value: null },\r\n    { title: t('search.newest'), value: 'createdOrder' },\r\n    { title: t('search.popular'), value: 'reactionOrder' }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    dispatch(GetAllCategories.get())\r\n    if (searchText) {\r\n      dispatch(\r\n        SearchRecipes.get({ search: searchText, limit: LIMIT_ITEMS, offset: 0 })\r\n      )\r\n      dispatch(SearchUsers.get({ keyword: searchText, limit: 3, offset: 0 }))\r\n      if (user) {\r\n        dispatch(GetFollowing.get(user.id))\r\n      }\r\n    } else {\r\n      if (history.location.state?.category) {\r\n        setCategoriesFilter([history.location.state?.category?.id])\r\n        setCategoriesFilterItem([history.location.state?.category])\r\n        onFilter([history.location.state?.category?.id])\r\n      } else {\r\n        dispatch(SearchRecipes.get({ limit: LIMIT_ITEMS, offset: 0 }))\r\n      }\r\n    }\r\n  }, [searchText])\r\n\r\n  const handleKeyPress = event => {\r\n    if (searchTextInput.trim().length > 0 && event.key === 'Enter') {\r\n      history.push(`/recipes?search=${searchTextInput}`)\r\n    }\r\n  }\r\n\r\n  const onFilter = (\r\n    categories = [],\r\n    ingredient = [],\r\n    noIngredient = [],\r\n    cookingTime,\r\n    sort,\r\n    page = 0,\r\n    pageSize\r\n  ) => {\r\n    let values = {\r\n      limit: LIMIT_ITEMS,\r\n      offset: page === 0 ? page : (page - 1) * pageSize\r\n    }\r\n    if (searchText) {\r\n      values['search'] = searchText\r\n    }\r\n    if (categories && categories?.length > 0) {\r\n      values['categories'] = categories\r\n    }\r\n    //  else if (categoriesFilter && categoriesFilter?.length > 0) {\r\n    //   values['categories'] = categoriesFilter\r\n    // }\r\n    if (noIngredient && noIngredient?.length > 0) {\r\n      values['excludeIngredients'] = noIngredient\r\n    }\r\n    if (ingredient && ingredient?.length > 0) {\r\n      values['ingredients'] = ingredient\r\n    }\r\n    // else if (ingredientsFilter && ingredientsFilter?.length > 0) {\r\n    //   values['ingredients'] = ingredientsFilter\r\n    // }\r\n    if (cookingTime) {\r\n      values['toCookingTime'] = cookingTime\r\n    }\r\n    if (sort) {\r\n      values[sort] = 'DESC'\r\n    } else if (sortOrder) {\r\n      values[sortOrder] = 'DESC'\r\n    }\r\n    dispatch(SearchRecipes.get(values))\r\n  }\r\n\r\n  const onRemoveCategory = index => {\r\n    let temp = categoriesFilter\r\n    temp.splice(index, 1)\r\n    let temp2 = categoriesFilterItem\r\n    temp2.splice(index, 1)\r\n    onFilter(temp, ingredientsFilter, noIngredientsFilter)\r\n    setCategoriesFilter(temp)\r\n    setCategoriesFilterItem(temp2)\r\n  }\r\n\r\n  function CategoryFilter(props) {\r\n    const { item } = props\r\n    const index = categoriesFilter?.findIndex(itemList => item.id === itemList)\r\n    const isCheck = index > -1\r\n\r\n    const onClick = () => {\r\n      if (isCheck) {\r\n        let temp = categoriesFilter\r\n        temp.splice(index, 1)\r\n        let temp2 = categoriesFilterItem\r\n        temp2.splice(index, 1)\r\n        onFilter(temp, ingredientsFilter, noIngredientsFilter)\r\n        setCategoriesFilter(temp)\r\n        setCategoriesFilterItem(temp2)\r\n      } else {\r\n        let temp = categoriesFilter\r\n        temp.push(item.id)\r\n        let temp2 = categoriesFilterItem\r\n        temp2.push(item)\r\n        onFilter(temp, ingredientsFilter, noIngredientsFilter)\r\n        setCategoriesFilter(temp)\r\n        setCategoriesFilterItem(temp2)\r\n      }\r\n    }\r\n    return (\r\n      <Col md={6} lg={4} sm={8}>\r\n        <ButtonBase onClick={() => onClick()} style={styles.categoryBtn}>\r\n          <Text\r\n            style={{\r\n              fontSize: 14,\r\n              color: isCheck ? COLOR.primary1 : COLOR.mainBlack,\r\n              fontWeight: 700,\r\n              textAlign: 'center'\r\n            }}\r\n          >\r\n            {item[i18n.language]}\r\n          </Text>\r\n          {isCheck && (\r\n            <FiCheck\r\n              size={20}\r\n              color={COLOR.primary1}\r\n              style={{ marginLeft: 8 }}\r\n            />\r\n          )}\r\n        </ButtonBase>\r\n      </Col>\r\n    )\r\n  }\r\n\r\n  const renderCategoryFilter = list => {\r\n    return (\r\n      <Row gutter={[16, 24]}>\r\n        {list &&\r\n          list?.length > 0 &&\r\n          list.map(item => <CategoryFilter item={item} />)}\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  const handleKeyPressIngre = event => {\r\n    if (event?.target?.defaultValue?.length > 0 && event.key === 'Enter') {\r\n      let temp = ingredientsFilter\r\n      temp.push(event?.target?.defaultValue)\r\n      onFilter(categoriesFilter, temp, noIngredientsFilter)\r\n      setIngredientsFilter(temp)\r\n      setIngredientsText('')\r\n    }\r\n  }\r\n\r\n  const handleKeyPressNoIngre = event => {\r\n    if (event?.target?.defaultValue?.length > 0 && event.key === 'Enter') {\r\n      let temp = noIngredientsFilter\r\n      temp.push(event?.target?.defaultValue)\r\n      onFilter(categoriesFilter, ingredientsFilter, temp)\r\n      setNoIngredientsFilter(temp)\r\n      setNoIngredientsText('')\r\n    }\r\n  }\r\n\r\n  const onRemoveIngreFilter = index => {\r\n    let temp = ingredientsFilter\r\n    temp.splice(index, 1)\r\n    onFilter(categoriesFilter, temp, noIngredientsFilter)\r\n    setIngredientsFilter(temp)\r\n  }\r\n\r\n  const onRemoveNoIngreFilter = index => {\r\n    let temp = noIngredientsFilter\r\n    temp.splice(index, 1)\r\n    onFilter(categoriesFilter, ingredientsFilter, temp)\r\n    setNoIngredientsFilter(temp)\r\n  }\r\n\r\n  const renderIngredientFilter = () => {\r\n    return (\r\n      <Row\r\n        gutter={[16, 24]}\r\n        style={{\r\n          width: '100%',\r\n          marginBottom: 24,\r\n          margin: 0\r\n        }}\r\n      >\r\n        <Col\r\n          md={12}\r\n          lg={12}\r\n          sm={24}\r\n          style={{ paddingRight: 24, paddingLeft: 0 }}\r\n        >\r\n          <Input\r\n            value={ingredientsText}\r\n            onChange={event => setIngredientsText(event.target.value)}\r\n            style={styles.inputStyle}\r\n            onKeyPress={handleKeyPressIngre}\r\n            placeholder={t('search.inputIngre')}\r\n            suffix={<FiSearch size={20} color={COLOR.primary1} />}\r\n          />\r\n          <div style={styles.ingreCol}>\r\n            {ingredientsFilter &&\r\n              ingredientsFilter?.length > 0 &&\r\n              ingredientsFilter.map((item, index) => (\r\n                <FilterItem\r\n                  title={item}\r\n                  index={index}\r\n                  onClick={onRemoveIngreFilter}\r\n                />\r\n              ))}\r\n          </div>\r\n        </Col>\r\n        <Col\r\n          md={12}\r\n          lg={12}\r\n          sm={24}\r\n          style={{ paddingLeft: 24, paddingRight: 0 }}\r\n        >\r\n          <Input\r\n            value={noIngredientsText}\r\n            onChange={event => setNoIngredientsText(event.target.value)}\r\n            style={styles.inputStyle}\r\n            onKeyPress={handleKeyPressNoIngre}\r\n            placeholder={t('search.inputWithoutIngre')}\r\n            suffix={<FiSearch size={20} color={COLOR.primary1} />}\r\n          />\r\n          <div style={styles.ingreCol}>\r\n            {noIngredientsFilter &&\r\n              noIngredientsFilter?.length > 0 &&\r\n              noIngredientsFilter.map((item, index) => (\r\n                <FilterItem\r\n                  title={item}\r\n                  index={index}\r\n                  onClick={onRemoveNoIngreFilter}\r\n                />\r\n              ))}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    )\r\n  }\r\n\r\n  function FilterItem(props) {\r\n    const { title, index, onClick } = props\r\n    return (\r\n      <div style={styles.filterBtn}>\r\n        <Text>{title}</Text>\r\n        <Button\r\n          type=\"link\"\r\n          onClick={() => onClick(index)}\r\n          icon={<FiX size={16} color={'black'} />}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const renderFilterBtn = () => {\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            width: '100%',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            marginBottom: 8\r\n          }}\r\n        >\r\n          <div style={{ display: 'flex' }}>\r\n            <Button\r\n              icon={\r\n                <FiFilter\r\n                  size={20}\r\n                  style={{ marginRight: 8 }}\r\n                  color={isShowFilter ? COLOR.primary1 : 'black'}\r\n                />\r\n              }\r\n              style={{ marginTop: 8 }}\r\n              type={isShowFilter ? 'link' : 'text'}\r\n              onClick={() => setIsShowFilter(!isShowFilter)}\r\n            >\r\n              {t('search.filter')}\r\n            </Button>\r\n            <Button\r\n              type=\"link\"\r\n              style={{ marginTop: 8 }}\r\n              onClick={() => {\r\n                setIngredientsFilter([])\r\n                setNoIngredientsFilter([])\r\n                setCategoriesFilter([])\r\n                setCategoriesFilterItem([])\r\n                setTimeFilter(-1)\r\n              }}\r\n            >\r\n              {t('common.reset')}\r\n            </Button>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                flexWrap: 'wrap',\r\n                alignItems: 'flex-start'\r\n              }}\r\n            >\r\n              {ingredientsFilter.map((item, index) => (\r\n                <FilterItem\r\n                  title={`${t('search.with')} ${item}`}\r\n                  index={index}\r\n                  onClick={index => onRemoveIngreFilter(index)}\r\n                />\r\n              ))}\r\n              {noIngredientsFilter.map((item, index) => (\r\n                <FilterItem\r\n                  title={`${t('search.without')} ${item}`}\r\n                  index={index}\r\n                  onClick={index => onRemoveNoIngreFilter(index)}\r\n                />\r\n              ))}\r\n              {categoriesFilterItem.map((item, index) => (\r\n                <FilterItem\r\n                  title={`${item[i18n.language]}`}\r\n                  index={index}\r\n                  onClick={index => onRemoveCategory(index)}\r\n                />\r\n              ))}\r\n              {timeFilter > 0 && (\r\n                <FilterItem\r\n                  title={\r\n                    timeFilter < 60\r\n                      ? `<${timeFilter} ${t('create.min')}`\r\n                      : `<${timeFilter / 60} ${t('search.hour')}`\r\n                  }\r\n                  index={0}\r\n                  onClick={index => setTimeFilter(-1)}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div style={{ display: 'flex', alignItems: 'center' }}>\r\n            <Text\r\n              style={{ fontWeight: 700, color: COLOR.grayText, marginRight: 8 }}\r\n            >\r\n              {t('search.sortBy')}\r\n            </Text>\r\n            <Select\r\n              style={{ fontWeight: 700 }}\r\n              defaultValue={null}\r\n              onChange={value => {\r\n                setSortOrder(value)\r\n                onFilter(\r\n                  categoriesFilter,\r\n                  ingredientsFilter,\r\n                  noIngredientsFilter,\r\n                  timeFilter,\r\n                  value\r\n                )\r\n              }}\r\n            >\r\n              {SORT_BY.map(item => (\r\n                <Option value={item.value}>{item.title}</Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style={{ width: '100%', height: 1, backgroundColor: COLOR.gray }}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n\r\n  const renderFilter = () => {\r\n    return (\r\n      <Tabs\r\n        style={{ flex: 1, marginBottom: 40, paddingBottom: 12 }}\r\n        size=\"large\"\r\n        activeKey={currentTab}\r\n        onChange={key => setCurrentTab(key)}\r\n      >\r\n        <TabPane\r\n          tab={\r\n            <Badge\r\n              offset={[10, 0]}\r\n              count={ingredientsFilter.length + noIngredientsFilter.length}\r\n            >\r\n              <Text\r\n                style={{\r\n                  fontWeight: currentTab === 'ingredients' ? 700 : 500,\r\n                  color: currentTab === 'ingredients' ? COLOR.primary1 : ''\r\n                }}\r\n              >\r\n                {t('create.ingredients').toLocaleUpperCase()}\r\n              </Text>\r\n            </Badge>\r\n          }\r\n          key=\"ingredients\"\r\n        >\r\n          {renderIngredientFilter()}\r\n        </TabPane>\r\n        {categoryList &&\r\n          categoryList?.length > 0 &&\r\n          categoryList.map(item => (\r\n            <TabPane\r\n              tab={\r\n                <Badge\r\n                  offset={[10, 0]}\r\n                  count={\r\n                    categoriesFilterItem.filter(\r\n                      filterItem => filterItem.parent_category_id === item.id\r\n                    ).length\r\n                  }\r\n                >\r\n                  <Text\r\n                    style={{\r\n                      fontWeight: currentTab === item.id ? 700 : 500,\r\n                      color: currentTab === item.id ? COLOR.primary1 : ''\r\n                    }}\r\n                  >\r\n                    {item[i18n.language].toLocaleUpperCase()}\r\n                  </Text>\r\n                </Badge>\r\n              }\r\n              key={item.id}\r\n            >\r\n              {renderCategoryFilter(item?.childrenCategories)}\r\n            </TabPane>\r\n          ))}\r\n\r\n        <TabPane\r\n          tab={\r\n            <Badge offset={[10, 0]} count={timeFilter > 0 ? 1 : 0}>\r\n              <Text\r\n                style={{\r\n                  fontWeight: currentTab === 'time' ? 700 : 500,\r\n                  color: currentTab === 'time' ? COLOR.primary1 : ''\r\n                }}\r\n              >\r\n                {t('create.time').toLocaleUpperCase()}\r\n              </Text>\r\n            </Badge>\r\n          }\r\n          key=\"time\"\r\n          // style={{ padding: 24 }}\r\n        >\r\n          {/* <Text>{t('search.cookingTimeLessThan')}</Text> */}\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              width: '100%',\r\n              flexWrap: 'wrap',\r\n              marginTop: 8\r\n            }}\r\n          >\r\n            {COOKING_FILTER.map(item => (\r\n              <Button\r\n                type=\"default\"\r\n                style={{\r\n                  ...styles.cookingBtn,\r\n                  color: item === timeFilter ? COLOR.primary1 : COLOR.mainBlack\r\n                }}\r\n                onClick={() => {\r\n                  if (item === timeFilter) {\r\n                    setTimeFilter(-1)\r\n                    onFilter(\r\n                      categoriesFilter,\r\n                      ingredientsFilter,\r\n                      noIngredientsFilter,\r\n                      null,\r\n                      sortOrder\r\n                    )\r\n                  } else {\r\n                    setTimeFilter(item)\r\n                    onFilter(\r\n                      categoriesFilter,\r\n                      ingredientsFilter,\r\n                      noIngredientsFilter,\r\n                      item,\r\n                      sortOrder\r\n                    )\r\n                  }\r\n                }}\r\n              >\r\n                {item < 60\r\n                  ? `${item} ${t('create.min')}`\r\n                  : `${item / 60} ${t('search.hour')}`}\r\n              </Button>\r\n            ))}\r\n          </div>\r\n        </TabPane>\r\n      </Tabs>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <div>\r\n        <div className=\"search-banner\">\r\n          <div className=\"header-fluid\">\r\n            <div className=\"text-banner\">\r\n              <p className=\"text\">Eat good</p>\r\n              <p className=\"text\">Feel good</p>\r\n              <div>\r\n                {!user && (\r\n                  <Button\r\n                    className=\"button\"\r\n                    onClick={() => {\r\n                      history.push({\r\n                        pathname: '/signin',\r\n                        state: { from: `/` }\r\n                      })\r\n                    }}\r\n                  >\r\n                    {' '}\r\n                    Try it Out\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"body-container\" style={{ paddingBottom: 64 }}>\r\n        <div style={{ display: 'flex', flex: 1, justifyContent: 'center' }}>\r\n          <Input\r\n            style={styles.inputSearchStyle}\r\n            onChange={event => setSearchTextInput(event.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder={t('home.searchPlaceholder')}\r\n            suffix={<FiSearch size={20} color={COLOR.primary1} />}\r\n          />\r\n        </div>\r\n\r\n        <Title level={3} style={{ marginTop: 48 }}>\r\n          {searchText ? t('home.result') : t('home.browse')}\r\n        </Title>\r\n\r\n        {resultUser && resultUser?.length > 0 && searchText && (\r\n          <>\r\n            <Title level={4} style={{ marginTop: 32 }}>\r\n              {t('search.user')}\r\n            </Title>\r\n            <Row gutter={[16, 24]} style={{ marginTop: 16 }}>\r\n              {resultUser.map(user => (\r\n                <Col md={12} lg={8} sm={24}>\r\n                  <UserItem user={user} />\r\n                </Col>\r\n              ))}\r\n            </Row>\r\n          </>\r\n        )}\r\n\r\n        <Title level={4} style={{ marginTop: 32, marginBottom: 16 }}>\r\n          {t('home.recipes')}\r\n        </Title>\r\n        {renderFilterBtn()}\r\n        {isShowFilter && renderFilter()}\r\n\r\n        {result && result?.length > 0 ? (\r\n          <Row gutter={[16, 16]} justify=\"start\" style={{ marginTop: 40 }}>\r\n            {result.map(recipe => (\r\n              <Col span={4} xs={24} md={12} lg={8} sm={24} xl={6} xxl={6}>\r\n                <Row justify=\"center\">\r\n                  <RecipeItem recipe={recipe} />\r\n                </Row>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        ) : (\r\n          <div style={{ marginTop: 48 }}>\r\n            <Text style={{ fontSize: 16 }}>{t('search.noResult')}</Text>\r\n          </div>\r\n        )}\r\n        {totalItems > 0 && (\r\n          <div style={{ display: 'flex', flex: 1, justifyContent: 'center' }}>\r\n            <Pagination\r\n              style={{ marginTop: 48, alignSelf: 'center' }}\r\n              defaultCurrent={currentPage}\r\n              defaultPageSize={LIMIT_ITEMS}\r\n              total={totalItems}\r\n              onChange={(page, pageSize) =>\r\n                onFilter(\r\n                  categoriesFilter,\r\n                  ingredientsFilter,\r\n                  noIngredientsFilter,\r\n                  timeFilter,\r\n                  sortOrder,\r\n                  page,\r\n                  pageSize\r\n                )\r\n              }\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  inputStyle: {\r\n    display: 'flex',\r\n    borderRadius: 10,\r\n    borderColor: COLOR.primary1,\r\n    marginBottom: 24\r\n  },\r\n  ingreCol: { display: 'flex', flexWrap: 'wrap' },\r\n  cookingBtn: {\r\n    marginRight: 16,\r\n    boxShadow: '1px 2px 3px rgba(0, 0, 0, 0.15)',\r\n    borderRadius: 50,\r\n    borderColor: 'transparent',\r\n    marginBottom: 4\r\n  },\r\n  filterBtn: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n    paddingLeft: 12,\r\n    paddingRight: 4,\r\n    marginRight: 12,\r\n    boxShadow: '1px 2px 3px rgba(0, 0, 0, 0.15)',\r\n    marginTop: 8\r\n  },\r\n  categoryBtn: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 50,\r\n    paddingLeft: 8,\r\n    paddingRight: 8,\r\n    boxShadow: '1px 2px 3px rgba(0, 0, 0, 0.15)'\r\n    // marginTop: 8\r\n  },\r\n  inputSearchStyle: {\r\n    width: '80%',\r\n    // marginLeft: 64,\r\n    boxShadow: '1px 2px 3px rgba(0, 0, 0, 0.15)',\r\n    borderRadius: 10,\r\n    borderColor: 'transparent',\r\n    marginTop: 48\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/signin.7e581f65.png\";","import { Button } from 'antd'\r\nimport signinPic from 'assets/images/signin.png'\r\nimport logo from 'assets/logo.svg'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport React, { useEffect } from 'react'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { ROLES } from 'ultis/functions'\r\nimport * as yup from 'yup'\r\nimport { SignInRequest } from './redux/actions'\r\nimport './signin.css'\r\n\r\nfunction SignIn() {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.Auth?.user)\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const { t } = useTranslation()\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (user.role === ROLES.ADMIN || user.role === ROLES.MOD) {\r\n        history.replace('/admin')\r\n      } else {\r\n        if (history.location.state?.from) {\r\n          history.replace(history.location.state?.from)\r\n        } else {\r\n          history.replace('/')\r\n        }\r\n      }\r\n    }\r\n  }, [user])\r\n\r\n  const validationSchema = yup.object().shape({\r\n    email: yup\r\n      .string()\r\n      .trim()\r\n      .max(48, t('signin.emailMax'))\r\n      .label(t('signin.email'))\r\n      .email(t('signin.emailInvalid'))\r\n      .required(t('signin.emailRequired')),\r\n    password: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(5, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{5,})/, {\r\n        message: t('signin.passMin')\r\n      })\r\n  })\r\n\r\n  const handleLogin = values => {\r\n    dispatch(\r\n      SignInRequest.get({ ...values, email: values.email.toLowerCase() })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (isValid, event, values) => {\r\n    if (isValid && event.key === 'Enter') {\r\n      handleLogin(values)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"bg\">\r\n      {isDesktopOrLaptop && (\r\n        <div id=\"imgBg\" style={{ backgroundImage: `url(${signinPic})` }} />\r\n      )}\r\n      <div id=\"loginBg\">\r\n        <a href=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\r\n          <img src={logo} alt=\"signin\" width={100} />\r\n        </a>\r\n        <div id=\"loginBox\">\r\n          <Formik\r\n            initialValues={{\r\n              password: '',\r\n              email: ''\r\n            }}\r\n            isInitialValid={false}\r\n            validationSchema={validationSchema}\r\n            onSubmit={values => handleLogin(values)}\r\n          >\r\n            {({\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              values,\r\n              isValid,\r\n              errors,\r\n              touched,\r\n              setFieldTouched\r\n            }) => {\r\n              return (\r\n                <Form className=\"formStyle\">\r\n                  <span id=\"loginStyle\">{t('signin.title')}</span>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.email}\r\n                    onChange={handleChange('email')}\r\n                    onTouchStart={() => setFieldTouched('email')}\r\n                    onBlur={handleBlur('email')}\r\n                    placeholder={t('signin.email')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.email}\r\n                  />\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    type=\"password\"\r\n                    onChange={handleChange('password')}\r\n                    onTouchStart={() => setFieldTouched('password')}\r\n                    value={values.password}\r\n                    onBlur={handleBlur('password')}\r\n                    placeholder={t('signin.password')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.password}\r\n                    type=\"password\"\r\n                  />\r\n                  <div className=\"buttomBox\">\r\n                    <Button\r\n                      style={{ padding: 0 }}\r\n                      color=\"primary\"\r\n                      type=\"link\"\r\n                      onClick={() => history.push('/forgot')}\r\n                    >\r\n                      {t('signin.forgotPassword')}\r\n                    </Button>\r\n                    <div>\r\n                      <span>{t('signin.donotHaveAccount')}</span>\r\n                      <Button\r\n                        style={{ padding: 0 }}\r\n                        color=\"primary\"\r\n                        type=\"link\"\r\n                        onClick={() => history.push('/signup')}\r\n                      >\r\n                        {t('auth.signup')}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                  <Button\r\n                    id=\"loginBtn\"\r\n                    disabled={!isValid}\r\n                    type=\"primary\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {t('auth.login')}\r\n                  </Button>\r\n                </Form>\r\n              )\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignIn\r\n","export default __webpack_public_path__ + \"static/media/signup.93b6840d.png\";","import { Button } from 'antd'\r\nimport CInput from 'components/CInput'\r\nimport { Form, Formik } from 'formik'\r\nimport { SignUpRequest } from 'pages/SignIn/redux/actions'\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { NAME_REGEX, ROLES } from 'ultis/functions'\r\nimport * as yup from 'yup'\r\nimport '../SignIn/signin.css'\r\nimport signupPic from 'assets/images/signup.png'\r\nimport logo from 'assets/logo.svg'\r\nimport { useTranslation } from 'react-i18next'\r\n\r\nfunction SignUp() {\r\n  const history = useHistory()\r\n  const dispatch = useDispatch()\r\n  const user = useSelector(state => state.Auth?.user)\r\n  const isDesktopOrLaptop = useMediaQuery({ minDeviceWidth: 1224 })\r\n  const { t } = useTranslation()\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.replace('/')\r\n    }\r\n  }, [user])\r\n\r\n  const validationSchema = yup.object().shape({\r\n    email: yup\r\n      .string()\r\n      .trim()\r\n      .max(48, t('signin.emailMax'))\r\n      .label(t('signin.email'))\r\n      .email(t('signin.emailInvalid'))\r\n      .required(t('signin.emailRequired')),\r\n    password: yup\r\n      .string()\r\n      .required(t('signin.passRequired'))\r\n      .min(8, t('signin.passMin'))\r\n      .max(48, t('signin.passMax'))\r\n      .matches(/(?=.{8,})/, {\r\n        message: t('signin.passMin')\r\n      }),\r\n    name: yup\r\n      .string()\r\n      .trim()\r\n      .required(t('signin.fullnameRequired'))\r\n      .min(3, t('signin.fullnameMin'))\r\n      .max(64, t('signin.fullnameMax'))\r\n      .matches(NAME_REGEX, {\r\n        message: t('signin.fullnameInvalid')\r\n      })\r\n  })\r\n\r\n  const handleSignup = values => {\r\n    dispatch(\r\n      SignUpRequest.get({\r\n        ...values,\r\n        email: values.email.toLowerCase(),\r\n        role: ROLES.USER\r\n      })\r\n    )\r\n  }\r\n\r\n  const handleKeyPress = (isValid, event, values) => {\r\n    if (isValid && event.key === 'Enter') {\r\n      handleSignup(values)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div id=\"bg\">\r\n      <div id=\"loginBg\">\r\n        <a href=\"/\" style={{ textDecoration: 'none', color: 'white' }}>\r\n          <img src={logo} alt=\"signup\" width={100} />\r\n        </a>\r\n        <div id=\"loginBox\">\r\n          <Formik\r\n            initialValues={{\r\n              email: '',\r\n              password: '',\r\n              name: ''\r\n            }}\r\n            isInitialValid={false}\r\n            validationSchema={validationSchema}\r\n            onSubmit={values => handleSignup(values)}\r\n          >\r\n            {({\r\n              handleChange,\r\n              handleBlur,\r\n              handleSubmit,\r\n              values,\r\n              isValid,\r\n              errors,\r\n              touched,\r\n              setFieldTouched\r\n            }) => {\r\n              return (\r\n                <Form className=\"formStyle\">\r\n                  <span id=\"loginStyle\">{t('signup.title')}</span>\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.name}\r\n                    onChange={handleChange('name')}\r\n                    onTouchStart={() => setFieldTouched('name')}\r\n                    onBlur={handleBlur('name')}\r\n                    placeholder={t('signup.fullname')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.name}\r\n                  />\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    value={values.email}\r\n                    onChange={handleChange('email')}\r\n                    onTouchStart={() => setFieldTouched('email')}\r\n                    onBlur={handleBlur('email')}\r\n                    placeholder={t('signin.email')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.email}\r\n                  />\r\n                  <CInput\r\n                    className=\"inputBox\"\r\n                    type=\"password\"\r\n                    onChange={handleChange('password')}\r\n                    onTouchStart={() => setFieldTouched('password')}\r\n                    value={values.password}\r\n                    onBlur={handleBlur('password')}\r\n                    placeholder={t('signin.password')}\r\n                    onKeyPress={event => handleKeyPress(isValid, event, values)}\r\n                    error={errors.password}\r\n                    type=\"password\"\r\n                  />\r\n                  <div style={{ alignSelf: 'flex-end', marginBottom: 34 }}>\r\n                    <span>{t('signup.hadAccount')}</span>\r\n                    <Button\r\n                      style={{ padding: 0 }}\r\n                      color=\"primary\"\r\n                      type=\"link\"\r\n                      onClick={() =>\r\n                        history.push({\r\n                          pathname: '/signin',\r\n                          state: { from: `/signup` }\r\n                        })\r\n                      }\r\n                    >\r\n                      {t('auth.login')}\r\n                    </Button>\r\n                  </div>\r\n                  <Button\r\n                    id=\"loginBtn\"\r\n                    disabled={!isValid}\r\n                    type=\"primary\"\r\n                    onClick={handleSubmit}\r\n                  >\r\n                    {t('auth.signup')}\r\n                  </Button>\r\n                </Form>\r\n              )\r\n            }}\r\n          </Formik>\r\n        </div>\r\n      </div>\r\n      {isDesktopOrLaptop && (\r\n        <div id=\"imgBg\" style={{ backgroundImage: `url(${signupPic})` }} />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp\r\n","import { ConfigProvider, notification } from 'antd'\r\nimport enUS from 'antd/lib/locale/en_US'\r\nimport viVN from 'antd/lib/locale/vi_VN'\r\nimport GlobalModal from 'components/GlobalModal'\r\nimport { store } from 'core/store'\r\nimport CreatePasswordPage from 'pages/CreatePassword'\r\nimport CreateRecipe from 'pages/CreateRecipe'\r\nimport Dashboard from 'pages/Dashboard'\r\nimport ForgotPassword from 'pages/ForgotPassword'\r\nimport Home from 'pages/Home'\r\nimport MealPlanner from 'pages/MealPlanner'\r\nimport Policy from 'pages/Policy'\r\nimport ProfilePage from 'pages/Profile'\r\nimport { PROFILE_PAGE } from 'pages/Profile/constant'\r\nimport RecipeDetail from 'pages/Recipe'\r\nimport SearchRecipe from 'pages/SearchRecipe'\r\nimport SignIn from 'pages/SignIn'\r\nimport {\r\n  GetNotification,\r\n  UpdateNotification,\r\n  UpdateSocket\r\n} from 'pages/SignIn/redux/actions'\r\nimport SignUp from 'pages/SignUp'\r\nimport React, { useEffect } from 'react'\r\nimport { HelmetProvider } from 'react-helmet-async'\r\nimport { useTranslation } from 'react-i18next'\r\nimport { useSelector } from 'react-redux'\r\nimport { HashRouter as Router, Route } from 'react-router-dom'\r\nimport 'slick-carousel/slick/slick-theme.css'\r\nimport 'slick-carousel/slick/slick.css'\r\nimport { getNotiContent, history, NOTI_TYPE } from 'ultis/functions'\r\nimport { socketService } from 'ultis/socket'\r\nimport './App.less'\r\n\r\nfunction App() {\r\n  const { language, user, socket, token } = useSelector(state => state.Auth)\r\n  const { t } = useTranslation()\r\n\r\n  useEffect(() => {\r\n    if (user && socket === null) {\r\n      socketService\r\n        .connect(token)\r\n        .then(socket => {\r\n          store.dispatch(UpdateSocket.get(socket))\r\n          socket.on('newNotification', data => {\r\n            const noti = data?.notification\r\n            const NOTI_TEXT = {\r\n              [NOTI_TYPE.LIKE]: t('notification.liked'),\r\n              [NOTI_TYPE.COMMENT]: t('notification.commented'),\r\n              [NOTI_TYPE.FOLLOW]: t('notification.followed'),\r\n              [NOTI_TYPE.REPLY]: t('notification.replied')\r\n            }\r\n            store.dispatch(GetNotification.get())\r\n            notification.open({\r\n              message: `${noti?.sender?.name} ${\r\n                NOTI_TEXT[noti?.type]\r\n              } ${getNotiContent(noti)}`,\r\n              onClick: () => {\r\n                if (\r\n                  noti.type === NOTI_TYPE.LIKE ||\r\n                  noti.type === NOTI_TYPE.COMMENT ||\r\n                  noti.type === NOTI_TYPE.REPLY\r\n                ) {\r\n                  if (noti?.recipe) {\r\n                    history.push(`/recipe/${noti?.recipe?.id}`)\r\n                  }\r\n                } else if (noti.type === NOTI_TYPE.FOLLOW) {\r\n                  history.push(\r\n                    `/profile?page=${PROFILE_PAGE.RECIPE}&user=${noti?.sender.id}`\r\n                  )\r\n                }\r\n                store.dispatch(\r\n                  UpdateNotification.get({\r\n                    ...noti,\r\n                    read: true\r\n                  })\r\n                )\r\n              }\r\n            })\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log({ err })\r\n        })\r\n    }\r\n  }, [])\r\n  return (\r\n    <ConfigProvider locale={language && language === 'en' ? enUS : viVN}>\r\n      <HelmetProvider>\r\n        <Router history={history}>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route path=\"/signin\" component={SignIn} />\r\n          <Route path=\"/signup\" component={SignUp} />\r\n          <Route path=\"/forgot\" component={ForgotPassword} />\r\n          <Route path=\"/confirm\" component={CreatePasswordPage} />\r\n          <Route path=\"/create\" component={CreateRecipe} />\r\n          <Route path=\"/recipes\" component={SearchRecipe} />\r\n          <Route path=\"/recipe/:id\" component={RecipeDetail} />\r\n          <Route path=\"/profile\" component={ProfilePage} />\r\n          <Route path=\"/meal-planner\" component={MealPlanner} />\r\n          <Route path=\"/admin\" component={Dashboard} />\r\n          <Route path=\"/policy\" component={Policy} />\r\n        </Router>\r\n        <GlobalModal />\r\n      </HelmetProvider>\r\n    </ConfigProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ConfigProvider } from 'antd'\nimport GlobalModal from 'components/GlobalModal'\nimport { persistor, store } from 'core/store'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { IconContext } from 'react-icons'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport App from './App'\nimport './index.css'\nimport './ultis/i18n'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <IconContext.Provider\n          value={{\n            className: 'react-icon-clasname',\n            style: { verticalAlign: 'middle' }\n          }}\n        >\n          <App />\n        </IconContext.Provider>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}